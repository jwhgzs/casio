SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE    1

************ OBJECT LISTING ************

FILE NAME: D:\programing\projects\casio\SN\MonochromeLib.c

SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

      Monochrome     1    /*************************************************************/
      Monochrome     2    /** MonochromeLib - monochrome graphic library for fx-9860G **/
      Monochrome     3    /** MonochromeLib is free software                          **/
      Monochrome     4    /** MonochromeLib is now SH4 compatible !                   **/
      Monochrome     5    /**                                                         **/
      Monochrome     6    /** @author Pierre "PierrotLL" Le Gall                      **/
      Monochrome     7    /** @contact legallpierre89@gmail.com                       **/
      Monochrome     8    /**                                                         **/
      Monochrome     9    /** @file MonochromeLib.c                                   **/
      Monochrome    10    /** Code file of MonochromeLib                              **/
      Monochrome    11    /**                                                         **/
      Monochrome    12    /** @date 11-22-2011                                        **/
      Monochrome    13    /*************************************************************/
      Monochrome    14    
      Monochrome    15    #include "MonochromeLib.h"
      Monochrome    16    #include <stdlib.h>
      Monochrome    17    
      Monochrome    18    /******************************/
      Monochrome    19    /** Dependencies management  **/
      Monochrome    20    /******************************/
      Monochrome    21    
      Monochrome    22    #ifdef ML_ALL
      Monochrome    23            #define ML_CLEAR_VRAM
      Monochrome    24            #define ML_CLEAR_SCREEN
      Monochrome    25            #define ML_DISPLAY_VRAM
      Monochrome    26            #define ML_SET_CONTRAST
      Monochrome    27            #define ML_GET_CONTRAST
      Monochrome    28            #define ML_PIXEL
      Monochrome    29            #define ML_POINT
      Monochrome    30            #define ML_PIXEL_TEST
      Monochrome    31            #define ML_LINE
      Monochrome    32            #define ML_HORIZONTAL_LINE
      Monochrome    33            #define ML_VERTICAL_LINE
      Monochrome    34            #define ML_RECTANGLE
      Monochrome    35            #define ML_POLYGON
      Monochrome    36            #define ML_FILLED_POLYGON
      Monochrome    37            #define ML_CIRCLE
      Monochrome    38            #define ML_FILLED_CIRCLE
      Monochrome    39            #define ML_ELLIPSE
      Monochrome    40            #define ML_ELLIPSE_IN_RECT
      Monochrome    41            #define ML_FILLED_ELLIPSE
      Monochrome    42            #define ML_FILLED_ELLIPSE_IN_RECT
      Monochrome    43            #define ML_HORIZONTAL_SCROLL
      Monochrome    44            #define ML_VERTICAL_SCROLL
      Monochrome    45            #define ML_BMP_OR
      Monochrome    46            #define ML_BMP_AND
      Monochrome    47            #define ML_BMP_XOR
      Monochrome    48            #define ML_BMP_OR_CL
      Monochrome    49            #define ML_BMP_AND_CL
      Monochrome    50            #define ML_BMP_XOR_CL
      Monochrome    51            #define ML_BMP_8_OR
      Monochrome    52            #define ML_BMP_8_AND
      Monochrome    53            #define ML_BMP_8_XOR
      Monochrome    54            #define ML_BMP_8_OR_CL




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE    2


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

      Monochrome    55            #define ML_BMP_8_AND_CL
      Monochrome    56            #define ML_BMP_8_XOR_CL
      Monochrome    57            #define ML_BMP_16_OR
      Monochrome    58            #define ML_BMP_16_AND
      Monochrome    59            #define ML_BMP_16_XOR
      Monochrome    60            #define ML_BMP_16_OR_CL
      Monochrome    61            #define ML_BMP_16_AND_CL
      Monochrome    62            #define ML_BMP_16_XOR_CL
      Monochrome    63    #endif
      Monochrome    64    
      Monochrome    65    #ifdef ML_POLYGON
      Monochrome    66            #define ML_LINE
      Monochrome    67    #endif
      Monochrome    68    
      Monochrome    69    #ifdef ML_LINE
      Monochrome    70            #define ML_PIXEL
      Monochrome    71    #endif
      Monochrome    72    
      Monochrome    73    #ifdef ML_POINT
      Monochrome    74            #define ML_PIXEL
      Monochrome    75            #define ML_RECTANGLE
      Monochrome    76    #endif
      Monochrome    77    
      Monochrome    78    #ifdef ML_RECTANGLE
      Monochrome    79            #define ML_HORIZONTAL_LINE
      Monochrome    80    #endif
      Monochrome    81    
      Monochrome    82    #ifdef ML_FILLED_POLYGON
      Monochrome    83            #define ML_HORIZONTAL_LINE
      Monochrome    84    #endif
      Monochrome    85    
      Monochrome    86    #ifdef ML_CIRCLE
      Monochrome    87            #define ML_PIXEL
      Monochrome    88    #endif
      Monochrome    89    
      Monochrome    90    #ifdef ML_FILLED_CIRCLE
      Monochrome    91            #define ML_HORIZONTAL_LINE
      Monochrome    92    #endif
      Monochrome    93    
      Monochrome    94    #ifdef ML_ELLIPSE_IN_RECT
      Monochrome    95            #define ML_ELLIPSE
      Monochrome    96    #endif
      Monochrome    97    
      Monochrome    98    #ifdef ML_ELLIPSE
      Monochrome    99            #define ML_PIXEL
      Monochrome   100    #endif
      Monochrome   101    
      Monochrome   102    #ifdef ML_FILLED_ELLIPSE_IN_RECT
      Monochrome   103            #define ML_FILLED_ELLIPSE
      Monochrome   104    #endif
      Monochrome   105    
      Monochrome   106    #ifdef ML_FILLED_ELLIPSE
      Monochrome   107            #define ML_HORIZONTAL_LINE
      Monochrome   108    #endif
      Monochrome   109    
      Monochrome   110    
      Monochrome   111    /***************/




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE    3


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

      Monochrome   112    /** Functions **/
      Monochrome   113    /***************/
      Monochrome   114    
      Monochrome   115    #define sgn(x)  (x<0?-1:1)
      Monochrome   116    #define rnd(x)  ((int)(x+0.5))
      Monochrome   117    
      Monochrome   118    //Thanks to Simon Lothar for this function
      Monochrome   119    typedef char*(*sc_cpv)(void);
      Monochrome   120    const unsigned int sc0135[] = { 0xD201D002, 0x422B0009, 0x80010070, 0x0135 };
      Monochrome   121    #define ML_vram_adress (*(sc_cpv)sc0135)
      Monochrome   122    
      Monochrome   123    
      Monochrome   124    #ifdef ML_CLEAR_VRAM
      Monochrome   125    void ML_clear_vram()
P   00000000              _ML_clear_vram:                  ; function: ML_clear_vram
                                                           ; frame size=8
    00000000 2FD6                   MOV.L       R13,@-R15
    00000002 4F22                   STS.L       PR,@-R15
      Monochrome   126    {
      Monochrome   127            int i, end, *pointer_long, vram;
      Monochrome   128            char *pointer_byte;
      Monochrome   129            vram = (int)ML_vram_adress();
    00000004 D33B                   MOV.L       L1267+2,R3 ; _sc0135
    00000006 430B                   JSR         @R3
    00000008 0009                   NOP
    0000000A 6703                   MOV         R0,R7
      Monochrome   130            end = 4-vram&3;
    0000000C E004                   MOV         #4,R0
    0000000E 3078                   SUB         R7,R0
    00000010 E603                   MOV         #3,R6
    00000012 2609                   AND         R0,R6
      Monochrome   131            pointer_byte = (char*)vram;
    00000014 6D73                   MOV         R7,R13
      Monochrome   132            for(i=0 ; i<end ; i++) pointer_byte[i] = 0;
    00000016 E400                   MOV         #0,R4
    00000018 6143                   MOV         R4,R1
    0000001A 4615                   CMP/PL      R6
    0000001C 8F05                   BF/S        L839
    0000001E 6573                   MOV         R7,R5
    00000020              L840:                             
    00000020 2540                   MOV.B       R4,@R5
    00000022 7101                   ADD         #1,R1
    00000024 3163                   CMP/GE      R6,R1
    00000026 8FFB                   BF/S        L840
    00000028 7501                   ADD         #1,R5
    0000002A              L839:                             
      Monochrome   133            pointer_long = (int*) (vram+end);
    0000002A 6163                   MOV         R6,R1
    0000002C 9061                   MOV.W       L1267,R0   ; H'03FC
    0000002E 317C                   ADD         R7,R1
    00000030 6513                   MOV         R1,R5
    00000032 301C                   ADD         R1,R0
      Monochrome   134            for(i=0 ; i<255 ; i++) pointer_long[i] = 0;
    00000034              L841:                             
    00000034 2542                   MOV.L       R4,@R5
    00000036 7504                   ADD         #4,R5
    00000038 3502                   CMP/HS      R0,R5




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE    4


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    0000003A 8BFB                   BF          L841
      Monochrome   135            pointer_byte += 1020+end;
    0000003C 9259                   MOV.W       L1267,R2   ; H'03FC
    0000003E 362C                   ADD         R2,R6
    00000040 3D6C                   ADD         R6,R13
      Monochrome   136            end = vram&3;
    00000042 E603                   MOV         #3,R6
    00000044 2679                   AND         R7,R6
      Monochrome   137            for(i=0 ; i<end ; i++) pointer_byte[i] = 0;
    00000046 6743                   MOV         R4,R7
    00000048 4615                   CMP/PL      R6
    0000004A 8F05                   BF/S        L842
    0000004C 65D3                   MOV         R13,R5
    0000004E              L843:                             
    0000004E 7701                   ADD         #1,R7
    00000050 2540                   MOV.B       R4,@R5
    00000052 3763                   CMP/GE      R6,R7
    00000054 8FFB                   BF/S        L843
    00000056 7501                   ADD         #1,R5
    00000058              L842:                             
      Monochrome   138    }
    00000058 4F26                   LDS.L       @R15+,PR
    0000005A 000B                   RTS
    0000005C 6DF6                   MOV.L       @R15+,R13
      Monochrome   139    #endif
      Monochrome   140    
      Monochrome   141    #ifdef ML_CLEAR_SCREEN
      Monochrome   142    void ML_clear_screen()
    0000005E              _ML_clear_screen:                ; function: ML_clear_screen
                                                           ; frame size=16
      Monochrome   143    {
      Monochrome   144            char *LCD_register_selector = (char*)0xB4000000, *LCD_data_register = (char*)0xB4010000;
      Monochrome   145            int i, j;
      Monochrome   146            for(i=0 ; i<64 ; i++)
    0000005E E100                   MOV         #0,R1
    00000060 D525                   MOV.L       L1267+6,R5 ; H'B4000000
    00000062 E608                   MOV         #8,R6
    00000064 D425                   MOV.L       L1267+10,R4; H'B4010000
    00000066 6013                   MOV         R1,R0
    00000068 2FC6                   MOV.L       R12,@-R15
    0000006A EC04                   MOV         #4,R12
    0000006C 2FB6                   MOV.L       R11,@-R15
    0000006E EB0A                   MOV         #10,R11
    00000070 2FA6                   MOV.L       R10,@-R15
    00000072 EA10                   MOV         #16,R10
    00000074 2F96                   MOV.L       R9,@-R15
    00000076 E940                   MOV         #64,R9
    00000078              L844:                             
      Monochrome   147            {
      Monochrome   148                    *LCD_register_selector = 8;
    00000078 2560                   MOV.B       R6,@R5
      Monochrome   149                    *LCD_data_register = i|128;
    0000007A E380                   MOV         #-128,R3
    0000007C 230B                   OR          R0,R3
      Monochrome   150                    *LCD_register_selector = 8;
      Monochrome   151                    *LCD_data_register = 4;
      Monochrome   152                    *LCD_register_selector = 10;




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE    5


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

      Monochrome   153                    for(j=0 ; j<16 ; j++) *LCD_data_register = 0;
    0000007E 67A3                   MOV         R10,R7
    00000080 2430                   MOV.B       R3,@R4
    00000082 2560                   MOV.B       R6,@R5
    00000084 24C0                   MOV.B       R12,@R4
    00000086 25B0                   MOV.B       R11,@R5
    00000088              L845:                             
    00000088 4710                   DT          R7
    0000008A 8FFD                   BF/S        L845
    0000008C 2410                   MOV.B       R1,@R4
    0000008E 7001                   ADD         #1,R0
    00000090 3093                   CMP/GE      R9,R0
    00000092 8BF1                   BF          L844
      Monochrome   154            }
      Monochrome   155    }
    00000094 69F6                   MOV.L       @R15+,R9
    00000096 6AF6                   MOV.L       @R15+,R10
    00000098 6BF6                   MOV.L       @R15+,R11
    0000009A 000B                   RTS
    0000009C 6CF6                   MOV.L       @R15+,R12
      Monochrome   156    #endif
      Monochrome   157    
      Monochrome   158    #ifdef ML_DISPLAY_VRAM
      Monochrome   159    void ML_display_vram()
    0000009E              _ML_display_vram:                ; function: ML_display_vram
                                                           ; frame size=20
    0000009E 2FC6                   MOV.L       R12,@-R15
    000000A0 2FB6                   MOV.L       R11,@-R15
    000000A2 2FA6                   MOV.L       R10,@-R15
    000000A4 2F96                   MOV.L       R9,@-R15
    000000A6 4F22                   STS.L       PR,@-R15
      Monochrome   160    {
      Monochrome   161            char *LCD_register_selector = (char*)0xB4000000, *LCD_data_register = (char*)0xB4010000, *vram;
      Monochrome   162            int i, j;
      Monochrome   163            vram = ML_vram_adress();
    000000A8 DC12                   MOV.L       L1267+2,R12; _sc0135
    000000AA 4C0B                   JSR         @R12
    000000AC 0009                   NOP
    000000AE 6C03                   MOV         R0,R12
      Monochrome   164            for(i=0 ; i<64 ; i++)
    000000B0 D511                   MOV.L       L1267+6,R5 ; H'B4000000
    000000B2 E940                   MOV         #64,R9
    000000B4 D411                   MOV.L       L1267+10,R4; H'B4010000
    000000B6 EA10                   MOV         #16,R10
    000000B8 EB0A                   MOV         #10,R11
    000000BA E104                   MOV         #4,R1
    000000BC E608                   MOV         #8,R6
    000000BE E000                   MOV         #0,R0
    000000C0              L846:                             
      Monochrome   165            {
      Monochrome   166                    *LCD_register_selector = 8;
    000000C0 2560                   MOV.B       R6,@R5
      Monochrome   167                    *LCD_data_register = i|128;
    000000C2 E380                   MOV         #-128,R3
    000000C4 230B                   OR          R0,R3
      Monochrome   168                    *LCD_register_selector = 8;
      Monochrome   169                    *LCD_data_register = 4;




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE    6


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

      Monochrome   170                    *LCD_register_selector = 10;
      Monochrome   171                    for(j=0 ; j<16 ; j++) *LCD_data_register = *vram++;
    000000C6 67A3                   MOV         R10,R7
    000000C8 2430                   MOV.B       R3,@R4
    000000CA 2560                   MOV.B       R6,@R5
    000000CC 2410                   MOV.B       R1,@R4
    000000CE 25B0                   MOV.B       R11,@R5
    000000D0              L847:                             
    000000D0 63C4                   MOV.B       @R12+,R3
    000000D2 4710                   DT          R7
    000000D4 8FFC                   BF/S        L847
    000000D6 2430                   MOV.B       R3,@R4
    000000D8 7001                   ADD         #1,R0
    000000DA 3093                   CMP/GE      R9,R0
    000000DC 8BF0                   BF          L846
      Monochrome   172            }
      Monochrome   173    }
    000000DE 4F26                   LDS.L       @R15+,PR
    000000E0 69F6                   MOV.L       @R15+,R9
    000000E2 6AF6                   MOV.L       @R15+,R10
    000000E4 6BF6                   MOV.L       @R15+,R11
    000000E6 000B                   RTS
    000000E8 6CF6                   MOV.L       @R15+,R12
      Monochrome   174    #endif
      Monochrome   175    
      Monochrome   176    #ifdef ML_SET_CONTRAST
      Monochrome   177    void ML_set_contrast(unsigned char contrast)
    000000EA              _ML_set_contrast:                ; function: ML_set_contrast
                                                           ; frame size=0
      Monochrome   178    {
      Monochrome   179    }
    000000EA 000B                   RTS
    000000EC 0009                   NOP
      Monochrome   180    #endif
      Monochrome   181    
      Monochrome   182    #ifdef ML_GET_CONTRAST
      Monochrome   183    unsigned char ML_get_contrast()
    000000EE              _ML_get_contrast:                ; function: ML_get_contrast
                                                           ; frame size=0
      Monochrome   184    {
      Monochrome   185    }
    000000EE 000B                   RTS
    000000F0 0009                   NOP
    000000F2              L1267:                            
    000000F2 03FC                   .DATA.W     H'03FC
    000000F4 <00000000>             .DATA.L     _sc0135
    000000F8 B4000000               .DATA.L     H'B4000000
    000000FC B4010000               .DATA.L     H'B4010000
      Monochrome   186    #endif
      Monochrome   187    
      Monochrome   188    #ifdef ML_PIXEL
      Monochrome   189    void ML_pixel(int x, int y, ML_Color color)
    00000100              _ML_pixel:                       ; function: ML_pixel
                                                           ; frame size=16
    00000100 2FE6                   MOV.L       R14,@-R15
    00000102 6E43                   MOV         R4,R14
      Monochrome   190    {




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE    7


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

      Monochrome   191            char* vram = ML_vram_adress();
    00000104 D346                   MOV.L       L1268+2,R3 ; _sc0135
    00000106 2FD6                   MOV.L       R13,@-R15
    00000108 4F22                   STS.L       PR,@-R15
    0000010A 6D53                   MOV         R5,R13
    0000010C 7FFC                   ADD         #-4,R15
    0000010E 430B                   JSR         @R3
    00000110 2F62                   MOV.L       R6,@R15
      Monochrome   192            if(x&~127 || y&~63) return;
    00000112 E280                   MOV         #-128,R2
    00000114 22E8                   TST         R14,R2
    00000116 8F35                   BF/S        L850
    00000118 6603                   MOV         R0,R6
    0000011A E1C0                   MOV         #-64,R1
    0000011C 21D8                   TST         R13,R1
    0000011E 8B31                   BF          L850
    00000120 957D                   MOV.W       L1268,R5   ; H'0080
    00000122 64D3                   MOV         R13,R4
    00000124 60F2                   MOV.L       @R15,R0
    00000126 63E3                   MOV         R14,R3
    00000128 4408                   SHLL2       R4
    0000012A 4408                   SHLL2       R4
    0000012C 4321                   SHAR        R3
    0000012E 4321                   SHAR        R3
    00000130 4321                   SHAR        R3
    00000132 343C                   ADD         R3,R4
    00000134 346C                   ADD         R6,R4
    00000136 E307                   MOV         #7,R3
    00000138 23E9                   AND         R14,R3
    0000013A 633B                   NEG         R3,R3
    0000013C 8801                   CMP/EQ      #1,R0
    0000013E 8D08                   BT/S        L825
    00000140 453C                   SHAD        R3,R5
    00000142 8800                   CMP/EQ      #0,R0
    00000144 8908                   BT          L826
    00000146 8802                   CMP/EQ      #2,R0
    00000148 890A                   BT          L827
    0000014A 8803                   CMP/EQ      #3,R0
    0000014C 890C                   BT          L828
    0000014E A019                   BRA         L850
    00000150 0009                   NOP
    00000152              L825:                            ; case label 
      Monochrome   193            switch(color)
      Monochrome   194            {
      Monochrome   195                    case ML_BLACK:
      Monochrome   196                            vram[(y<<4)+(x>>3)] |= 128>>(x&7);
    00000152 6340                   MOV.B       @R4,R3
      Monochrome   197                            break;
    00000154 A011                   BRA         L1265
    00000156 235B                   OR          R5,R3
    00000158              L826:                            ; case label 
      Monochrome   198                    case ML_WHITE:
      Monochrome   199                            vram[(y<<4)+(x>>3)] &= ~(128>>(x&7));
    00000158 6340                   MOV.B       @R4,R3
    0000015A 6557                   NOT         R5,R5
      Monochrome   200                            break;
    0000015C A00D                   BRA         L1265




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE    8


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    0000015E 2359                   AND         R5,R3
    00000160              L827:                            ; case label 
      Monochrome   201                    case ML_XOR:
      Monochrome   202                            vram[(y<<4)+(x>>3)] ^= 128>>(x&7);
    00000160 6140                   MOV.B       @R4,R1
    00000162 215A                   XOR         R5,R1
      Monochrome   203                            break;
    00000164 A00E                   BRA         L850
    00000166 2410                   MOV.B       R1,@R4
    00000168              L828:                            ; case label 
      Monochrome   204                    case ML_CHECKER:
      Monochrome   205                            if(y&1^x&1) vram[(y<<4)+(x>>3)] &= ~(128>>(x&7));
    00000168 E601                   MOV         #1,R6
    0000016A 2D69                   AND         R6,R13
    0000016C 2E69                   AND         R6,R14
    0000016E 2DEA                   XOR         R14,R13
    00000170 2DD8                   TST         R13,R13
    00000172 8904                   BT          L852
    00000174 6340                   MOV.B       @R4,R3
    00000176 6557                   NOT         R5,R5
    00000178 2359                   AND         R5,R3
    0000017A              L1265:                            
    0000017A A003                   BRA         L850
    0000017C 2430                   MOV.B       R3,@R4
    0000017E              L852:                             
      Monochrome   206                            else vram[(y<<4)+(x>>3)] |= 128>>(x&7);
    0000017E 6140                   MOV.B       @R4,R1
    00000180 215B                   OR          R5,R1
    00000182 2410                   MOV.B       R1,@R4
      Monochrome   207                            break;
      Monochrome   208            }
      Monochrome   209    }
    00000184              L850:                             
    00000184 7F04                   ADD         #4,R15
    00000186 4F26                   LDS.L       @R15+,PR
    00000188 6DF6                   MOV.L       @R15+,R13
    0000018A 000B                   RTS
    0000018C 6EF6                   MOV.L       @R15+,R14
      Monochrome   210    #endif
      Monochrome   211    
      Monochrome   212    #ifdef ML_POINT
      Monochrome   213    void ML_point(int x, int y, int width, ML_Color color)
    0000018E              _ML_point:                       ; function: ML_point
                                                           ; frame size=36
      Monochrome   214    {
      Monochrome   215            if(width < 1) return;
    0000018E E301                   MOV         #1,R3
    00000190 2FE6                   MOV.L       R14,@-R15
    00000192 3633                   CMP/GE      R3,R6
    00000194 2FD6                   MOV.L       R13,@-R15
    00000196 6D53                   MOV         R5,R13
    00000198 2FC6                   MOV.L       R12,@-R15
    0000019A 6C43                   MOV         R4,R12
    0000019C 2FB6                   MOV.L       R11,@-R15
    0000019E 4F22                   STS.L       PR,@-R15
    000001A0 7FFC                   ADD         #-4,R15
    000001A2 8F24                   BF/S        L855




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE    9


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    000001A4 2F72                   MOV.L       R7,@R15
      Monochrome   216            if(width == 1) ML_pixel(x, y, color);
    000001A6 6063                   MOV         R6,R0
    000001A8 8801                   CMP/EQ      #1,R0
    000001AA 8B09                   BF          L856
    000001AC 66F2                   MOV.L       @R15,R6
    000001AE 65D3                   MOV         R13,R5
    000001B0 64C3                   MOV         R12,R4
    000001B2 7F04                   ADD         #4,R15
    000001B4 4F26                   LDS.L       @R15+,PR
    000001B6 6BF6                   MOV.L       @R15+,R11
    000001B8 6CF6                   MOV.L       @R15+,R12
    000001BA 6DF6                   MOV.L       @R15+,R13
    000001BC AFA0                   BRA         _ML_pixel
    000001BE 6EF6                   MOV.L       @R15+,R14
    000001C0              L856:                             
      Monochrome   217            else
      Monochrome   218            {
      Monochrome   219                    int padding, pair;
      Monochrome   220                    padding = width>>1;
      Monochrome   221                    pair = !(width&1);
      Monochrome   222                    ML_rectangle(x-padding+pair, y-padding+pair, x+padding, y+padding, 0, 0, color);
    000001C0 63F2                   MOV.L       @R15,R3
    000001C2 E200                   MOV         #0,R2
    000001C4 2F36                   MOV.L       R3,@-R15
    000001C6 67D3                   MOV         R13,R7
    000001C8 2F26                   MOV.L       R2,@-R15
    000001CA 65D3                   MOV         R13,R5
    000001CC 2F26                   MOV.L       R2,@-R15
    000001CE 64C3                   MOV         R12,R4
    000001D0 6E63                   MOV         R6,R14
    000001D2 4E21                   SHAR        R14
    000001D4 EB01                   MOV         #1,R11
    000001D6 2B69                   AND         R6,R11
    000001D8 2BB8                   TST         R11,R11
    000001DA 0B29                   MOVT        R11
    000001DC 37EC                   ADD         R14,R7
    000001DE 66C3                   MOV         R12,R6
    000001E0 36EC                   ADD         R14,R6
    000001E2 35E8                   SUB         R14,R5
    000001E4 35BC                   ADD         R11,R5
    000001E6 34E8                   SUB         R14,R4
    000001E8 B29E                   BSR         _ML_rectangle
    000001EA 34BC                   ADD         R11,R4
    000001EC 7F0C                   ADD         #12,R15
      Monochrome   223            }
      Monochrome   224    }
    000001EE              L855:                             
    000001EE 7F04                   ADD         #4,R15
    000001F0 4F26                   LDS.L       @R15+,PR
    000001F2 6BF6                   MOV.L       @R15+,R11
    000001F4 6CF6                   MOV.L       @R15+,R12
    000001F6 6DF6                   MOV.L       @R15+,R13
    000001F8 000B                   RTS
    000001FA 6EF6                   MOV.L       @R15+,R14
      Monochrome   225    #endif
      Monochrome   226    




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   10


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

      Monochrome   227    #ifdef ML_PIXEL_TEST
      Monochrome   228    ML_Color ML_pixel_test(int x, int y)
    000001FC              _ML_pixel_test:                  ; function: ML_pixel_test
                                                           ; frame size=12
    000001FC 2FE6                   MOV.L       R14,@-R15
      Monochrome   229    {
      Monochrome   230            char *vram, byte;
      Monochrome   231            if(x&~127 || y&~63) return ML_TRANSPARENT;
    000001FE E380                   MOV         #-128,R3
    00000200 4F22                   STS.L       PR,@-R15
    00000202 6E43                   MOV         R4,R14
    00000204 7FFC                   ADD         #-4,R15
    00000206 23E8                   TST         R14,R3
    00000208 8F04                   BF/S        L860
    0000020A 2F52                   MOV.L       R5,@R15
    0000020C 62F2                   MOV.L       @R15,R2
    0000020E E3C0                   MOV         #-64,R3
    00000210 2238                   TST         R3,R2
    00000212 8907                   BT          L859
    00000214              L860:                             
    00000214 E0FF                   MOV         #-1,R0
    00000216 7F04                   ADD         #4,R15
    00000218 4F26                   LDS.L       @R15+,PR
    0000021A 000B                   RTS
    0000021C 6EF6                   MOV.L       @R15+,R14
    0000021E              L1268:                            
    0000021E 0080                   .DATA.W     H'0080
    00000220 <00000000>             .DATA.L     _sc0135
    00000224              L859:                             
      Monochrome   232            vram = ML_vram_adress();
    00000224 D344                   MOV.L       L1269+2,R3 ; _sc0135
    00000226 430B                   JSR         @R3
    00000228 0009                   NOP
    0000022A 6403                   MOV         R0,R4
      Monochrome   233            byte = 1<<(7-(x&7));
      Monochrome   234            return (vram[(y<<4)+(x>>3)] & byte ? ML_BLACK : ML_WHITE);
    0000022C 60F2                   MOV.L       @R15,R0
    0000022E E507                   MOV         #7,R5
    00000230 E601                   MOV         #1,R6
    00000232 62E3                   MOV         R14,R2
    00000234 2259                   AND         R5,R2
    00000236 6353                   MOV         R5,R3
    00000238 3328                   SUB         R2,R3
    0000023A 6563                   MOV         R6,R5
    0000023C 453C                   SHAD        R3,R5
    0000023E 4008                   SHLL2       R0
    00000240 4008                   SHLL2       R0
    00000242 4E21                   SHAR        R14
    00000244 4E21                   SHAR        R14
    00000246 4E21                   SHAR        R14
    00000248 30EC                   ADD         R14,R0
    0000024A 655E                   EXTS.B      R5,R5
    0000024C 004C                   MOV.B       @(R0,R4),R0
    0000024E 2058                   TST         R5,R0
    00000250 8904                   BT          L862
    00000252 6063                   MOV         R6,R0
    00000254 7F04                   ADD         #4,R15




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   11


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00000256 4F26                   LDS.L       @R15+,PR
    00000258 000B                   RTS
    0000025A 6EF6                   MOV.L       @R15+,R14
    0000025C              L862:                             
    0000025C E000                   MOV         #0,R0
      Monochrome   235            
      Monochrome   236    }
    0000025E              L861:                             
    0000025E 7F04                   ADD         #4,R15
    00000260 4F26                   LDS.L       @R15+,PR
    00000262 000B                   RTS
    00000264 6EF6                   MOV.L       @R15+,R14
      Monochrome   237    #endif
      Monochrome   238    
      Monochrome   239    #ifdef ML_LINE
      Monochrome   240    void ML_line(int x1, int y1, int x2, int y2, ML_Color color)
    00000266              _ML_line:                        ; function: ML_line
                                                           ; frame size=40
    00000266 2FE6                   MOV.L       R14,@-R15
    00000268 2FD6                   MOV.L       R13,@-R15
      Monochrome   241    {
      Monochrome   242            int i, x, y, dx, dy, sx, sy, cumul;
      Monochrome   243            x = x1;
      Monochrome   244            y = y1;
      Monochrome   245            dx = x2 - x1;
    0000026A 6E63                   MOV         R6,R14
    0000026C 2FC6                   MOV.L       R12,@-R15
    0000026E 3E48                   SUB         R4,R14
    00000270 2FB6                   MOV.L       R11,@-R15
    00000272 6C53                   MOV         R5,R12
    00000274 2FA6                   MOV.L       R10,@-R15
    00000276 6B43                   MOV         R4,R11
    00000278 2F96                   MOV.L       R9,@-R15
      Monochrome   246            dy = y2 - y1;
    0000027A 6A73                   MOV         R7,R10
    0000027C 2F86                   MOV.L       R8,@-R15
      Monochrome   247            sx = sgn(dx);
    0000027E 4E11                   CMP/PZ      R14
    00000280 4F22                   STS.L       PR,@-R15
    00000282 7FF8                   ADD         #-8,R15
    00000284 59FA                   MOV.L       @(40,R15),R9
    00000286 8D02                   BT/S        L864
    00000288 3A58                   SUB         R5,R10
    0000028A A001                   BRA         L865
    0000028C E8FF                   MOV         #-1,R8
    0000028E              L864:                             
    0000028E E801                   MOV         #1,R8
    00000290              L865:                             
      Monochrome   248            sy = sgn(dy);
    00000290 4A11                   CMP/PZ      R10
    00000292 8901                   BT          L866
    00000294 A001                   BRA         L867
    00000296 E2FF                   MOV         #-1,R2
    00000298              L866:                             
    00000298 E201                   MOV         #1,R2
    0000029A              L867:                             
    0000029A 1F21                   MOV.L       R2,@(4,R15)




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   12


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

      Monochrome   249            dx = abs(dx);
    0000029C D327                   MOV.L       L1269+6,R3 ; _abs
    0000029E 430B                   JSR         @R3
    000002A0 64E3                   MOV         R14,R4
    000002A2 6D03                   MOV         R0,R13
      Monochrome   250            dy = abs(dy);
    000002A4 D225                   MOV.L       L1269+6,R2 ; _abs
    000002A6 420B                   JSR         @R2
    000002A8 64A3                   MOV         R10,R4
    000002AA 6E03                   MOV         R0,R14
      Monochrome   251            ML_pixel(x, y, color);
    000002AC 6693                   MOV         R9,R6
    000002AE 65C3                   MOV         R12,R5
    000002B0 BF26                   BSR         _ML_pixel
    000002B2 64B3                   MOV         R11,R4
      Monochrome   252            if(dx > dy)
    000002B4 3DE7                   CMP/GT      R14,R13
    000002B6 8F1B                   BF/S        L868
    000002B8 E401                   MOV         #1,R4
      Monochrome   253            {
      Monochrome   254                    cumul = dx / 2;
    000002BA 6AD3                   MOV         R13,R10
    000002BC E300                   MOV         #0,R3
    000002BE 33A7                   CMP/GT      R10,R3
    000002C0 3A3E                   ADDC        R3,R10
    000002C2 4A21                   SHAR        R10
      Monochrome   255                    for(i=1 ; i<dx ; i++)
    000002C4 6343                   MOV         R4,R3
    000002C6 33D3                   CMP/GE      R13,R3
    000002C8 8D2B                   BT/S        L872
    000002CA 2F42                   MOV.L       R4,@R15
    000002CC              L870:                             
      Monochrome   256                    {
      Monochrome   257                            x += sx;
      Monochrome   258                            cumul += dy;
    000002CC 3AEC                   ADD         R14,R10
      Monochrome   259                            if(cumul > dx)
    000002CE 3AD7                   CMP/GT      R13,R10
    000002D0 8F03                   BF/S        L871
    000002D2 3B8C                   ADD         R8,R11
      Monochrome   260                            {
      Monochrome   261                                    cumul -= dx;
      Monochrome   262                                    y += sy;
    000002D4 52F1                   MOV.L       @(4,R15),R2
    000002D6 3AD8                   SUB         R13,R10
    000002D8 3C2C                   ADD         R2,R12
    000002DA              L871:                             
      Monochrome   263                            }
      Monochrome   264                            ML_pixel(x, y, color);
    000002DA 6693                   MOV         R9,R6
    000002DC 65C3                   MOV         R12,R5
    000002DE BF0F                   BSR         _ML_pixel
    000002E0 64B3                   MOV         R11,R4
    000002E2 62F2                   MOV.L       @R15,R2
    000002E4 7201                   ADD         #1,R2
    000002E6 32D3                   CMP/GE      R13,R2
    000002E8 8FF0                   BF/S        L870




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   13


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    000002EA 2F22                   MOV.L       R2,@R15
    000002EC A019                   BRA         L872
    000002EE 0009                   NOP
    000002F0              L868:                             
      Monochrome   265                    }
      Monochrome   266            }
      Monochrome   267            else
      Monochrome   268            {
      Monochrome   269                    cumul = dy / 2;
    000002F0 6AE3                   MOV         R14,R10
    000002F2 E300                   MOV         #0,R3
    000002F4 33A7                   CMP/GT      R10,R3
    000002F6 3A3E                   ADDC        R3,R10
    000002F8 4A21                   SHAR        R10
      Monochrome   270                    for(i=1 ; i<dy ; i++)
    000002FA 6343                   MOV         R4,R3
    000002FC 33E3                   CMP/GE      R14,R3
    000002FE 8D10                   BT/S        L872
    00000300 2F42                   MOV.L       R4,@R15
    00000302              L874:                             
      Monochrome   271                    {
      Monochrome   272                            y += sy;
      Monochrome   273                            cumul += dx;
    00000302 3ADC                   ADD         R13,R10
    00000304 51F1                   MOV.L       @(4,R15),R1
      Monochrome   274                            if(cumul > dy)
    00000306 3AE7                   CMP/GT      R14,R10
    00000308 8F02                   BF/S        L875
    0000030A 3C1C                   ADD         R1,R12
      Monochrome   275                            {
      Monochrome   276                                    cumul -= dy;
    0000030C 3AE8                   SUB         R14,R10
      Monochrome   277                                    x += sx;
    0000030E 3B8C                   ADD         R8,R11
    00000310              L875:                             
      Monochrome   278                            }
      Monochrome   279                            ML_pixel(x, y, color);
    00000310 6693                   MOV         R9,R6
    00000312 65C3                   MOV         R12,R5
    00000314 BEF4                   BSR         _ML_pixel
    00000316 64B3                   MOV         R11,R4
    00000318 63F2                   MOV.L       @R15,R3
    0000031A 7301                   ADD         #1,R3
    0000031C 33E3                   CMP/GE      R14,R3
    0000031E 8FF0                   BF/S        L874
    00000320 2F32                   MOV.L       R3,@R15
    00000322              L872:                             
      Monochrome   280                    }
      Monochrome   281            }
      Monochrome   282    }
    00000322 7F08                   ADD         #8,R15
    00000324 4F26                   LDS.L       @R15+,PR
    00000326 68F6                   MOV.L       @R15+,R8
    00000328 69F6                   MOV.L       @R15+,R9
    0000032A 6AF6                   MOV.L       @R15+,R10
    0000032C 6BF6                   MOV.L       @R15+,R11
    0000032E 6CF6                   MOV.L       @R15+,R12




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   14


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00000330 6DF6                   MOV.L       @R15+,R13
    00000332 000B                   RTS
    00000334 6EF6                   MOV.L       @R15+,R14
    00000336              L1269:                            
    00000336 0000                   .DATA.W     0
    00000338 <00000000>             .DATA.L     _sc0135
    0000033C <00000000>             .DATA.L     _abs
      Monochrome   283    #endif
      Monochrome   284    
      Monochrome   285    #ifdef ML_HORIZONTAL_LINE
      Monochrome   286    void ML_horizontal_line(int y, int x1, int x2, ML_Color color)
    00000340              _ML_horizontal_line:             ; function: ML_horizontal_line
                                                           ; frame size=44
    00000340 2FE6                   MOV.L       R14,@-R15
    00000342 2FD6                   MOV.L       R13,@-R15
    00000344 2FC6                   MOV.L       R12,@-R15
    00000346 6C53                   MOV         R5,R12
      Monochrome   287    {
      Monochrome   288        int i;
      Monochrome   289        char checker;
      Monochrome   290        char* vram = ML_vram_adress();
    00000348 D332                   MOV.L       L1270+2,R3 ; _sc0135
    0000034A 2FB6                   MOV.L       R11,@-R15
    0000034C 2FA6                   MOV.L       R10,@-R15
    0000034E 6B63                   MOV         R6,R11
    00000350 2F96                   MOV.L       R9,@-R15
    00000352 2F86                   MOV.L       R8,@-R15
    00000354 4F22                   STS.L       PR,@-R15
    00000356 7FF4                   ADD         #-12,R15
    00000358 2F42                   MOV.L       R4,@R15
    0000035A 430B                   JSR         @R3
    0000035C 1F72                   MOV.L       R7,@(8,R15)
    0000035E 6603                   MOV         R0,R6
      Monochrome   291        if(y&~63 || (x1<0 && x2<0) || (x1>127 && x2>127)) return;
    00000360 62F2                   MOV.L       @R15,R2
    00000362 E3C0                   MOV         #-64,R3
    00000364 2238                   TST         R3,R2
    00000366 8901                   BT          L1271
    00000368 A136                   BRA         L879
    0000036A 0009                   NOP
    0000036C              L1271:                            
    0000036C 4C11                   CMP/PZ      R12
    0000036E 8903                   BT          L878
    00000370 4B11                   CMP/PZ      R11
    00000372 8901                   BT          L1272
    00000374 A130                   BRA         L879
    00000376 0009                   NOP
    00000378              L1272:                            
    00000378              L878:                             
    00000378 E37F                   MOV         #127,R3
    0000037A 3C37                   CMP/GT      R3,R12
    0000037C 8B03                   BF          L876
    0000037E 3B37                   CMP/GT      R3,R11
    00000380 8B01                   BF          L1273
    00000382 A129                   BRA         L879
    00000384 0009                   NOP
    00000386              L1273:                            




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   15


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00000386              L876:                             
      Monochrome   292        if(x1 > x2)
    00000386 3CB7                   CMP/GT      R11,R12
    00000388 8F03                   BF/S        L880
      Monochrome   293        {
      Monochrome   294            i = x1;
      Monochrome   295            x1 = x2;
      Monochrome   296            x2 = i;
      Monochrome   297        }
      Monochrome   298        if(x1 < 0) x1 = 0;
    0000038A E800                   MOV         #0,R8
    0000038C 64C3                   MOV         R12,R4
    0000038E 6CB3                   MOV         R11,R12
    00000390 6B43                   MOV         R4,R11
    00000392              L880:                             
    00000392 4C11                   CMP/PZ      R12
    00000394 8D01                   BT/S        L881
      Monochrome   299        if(x2 > 127) x2 = 127;
    00000396 E47F                   MOV         #127,R4
    00000398 6C83                   MOV         R8,R12
    0000039A              L881:                             
    0000039A 3B47                   CMP/GT      R4,R11
    0000039C 8F01                   BF/S        L882
    0000039E E707                   MOV         #7,R7
    000003A0 6B43                   MOV         R4,R11
    000003A2              L882:                             
    000003A2 65C3                   MOV         R12,R5
    000003A4 6DF2                   MOV.L       @R15,R13
    000003A6 69C3                   MOV         R12,R9
    000003A8 9433                   MOV.W       L1270,R4   ; H'00FF
    000003AA 6EB3                   MOV         R11,R14
    000003AC 4521                   SHAR        R5
    000003AE 4521                   SHAR        R5
    000003B0 4521                   SHAR        R5
    000003B2 4E21                   SHAR        R14
    000003B4 4E21                   SHAR        R14
    000003B6 4E21                   SHAR        R14
    000003B8 4D08                   SHLL2       R13
    000003BA 4D08                   SHLL2       R13
    000003BC 2979                   AND         R7,R9
    000003BE 6AB3                   MOV         R11,R10
    000003C0 60C3                   MOV         R12,R0
    000003C2 4011                   CMP/PZ      R0
    000003C4 8F02                   BF/S        L883
    000003C6 2A79                   AND         R7,R10
    000003C8 A005                   BRA         L884
    000003CA C907                   AND         #7,R0
    000003CC              L883:                             
    000003CC 6007                   NOT         R0,R0
    000003CE 7001                   ADD         #1,R0
    000003D0 C907                   AND         #7,R0
    000003D2 6007                   NOT         R0,R0
    000003D4 7001                   ADD         #1,R0
    000003D6              L884:                             
    000003D6 6303                   MOV         R0,R3
    000003D8 60B3                   MOV         R11,R0
    000003DA 4011                   CMP/PZ      R0




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   16


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    000003DC 8B01                   BF          L885
    000003DE A005                   BRA         L886
    000003E0 C907                   AND         #7,R0
    000003E2              L885:                             
    000003E2 6007                   NOT         R0,R0
    000003E4 7001                   ADD         #1,R0
    000003E6 C907                   AND         #7,R0
    000003E8 6007                   NOT         R0,R0
    000003EA 7001                   ADD         #1,R0
    000003EC              L886:                             
    000003EC 3308                   SUB         R0,R3
    000003EE 7307                   ADD         #7,R3
    000003F0 633B                   NEG         R3,R3
    000003F2 6043                   MOV         R4,R0
    000003F4 403C                   SHAD        R3,R0
    000003F6 1F01                   MOV.L       R0,@(4,R15)
    000003F8 50F2                   MOV.L       @(8,R15),R0
    000003FA 8801                   CMP/EQ      #1,R0
    000003FC 890C                   BT          L829
    000003FE 8800                   CMP/EQ      #0,R0
    00000400 8934                   BT          L830
    00000402 8802                   CMP/EQ      #2,R0
    00000404 8965                   BT          L831
    00000406 8803                   CMP/EQ      #3,R0
    00000408 8B01                   BF          L1274
    0000040A A091                   BRA         L832
    0000040C 0009                   NOP
    0000040E              L1274:                            
    0000040E A0E3                   BRA         L879
    00000410 0009                   NOP
    00000412              L1270:                            
    00000412 00FF                   .DATA.W     H'00FF
    00000414 <00000000>             .DATA.L     _sc0135
    00000418              L829:                            ; case label 
      Monochrome   300        switch(color)
      Monochrome   301        {
      Monochrome   302            case ML_BLACK:
      Monochrome   303                            if(x1>>3 != x2>>3)
    00000418 35E0                   CMP/EQ      R14,R5
    0000041A 891E                   BT          L888
      Monochrome   304                            {
      Monochrome   305                                    vram[(y<<4)+(x1>>3)] |= 255 >> (x1&7);
    0000041C 60D3                   MOV         R13,R0
    0000041E 305C                   ADD         R5,R0
    00000420 016C                   MOV.B       @(R0,R6),R1
      Monochrome   306                                    vram[(y<<4)+(x2>>3)] |= 255 << 7-(x2&7);
    00000422 37A8                   SUB         R10,R7
    00000424 639B                   NEG         R9,R3
    00000426 6243                   MOV         R4,R2
    00000428 423C                   SHAD        R3,R2
    0000042A 212B                   OR          R2,R1
    0000042C 0614                   MOV.B       R1,@(R0,R6)
    0000042E 447C                   SHAD        R7,R4
    00000430 60E3                   MOV         R14,R0
    00000432 30DC                   ADD         R13,R0
    00000434 036C                   MOV.B       @(R0,R6),R3
      Monochrome   307                                    for(i=(x1>>3)+1 ; i<x2>>3 ; i++)




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   17


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00000436 7501                   ADD         #1,R5
    00000438 234B                   OR          R4,R3
    0000043A 64D3                   MOV         R13,R4
    0000043C 0634                   MOV.B       R3,@(R0,R6)
    0000043E 35E3                   CMP/GE      R14,R5
    00000440 345C                   ADD         R5,R4
    00000442 346C                   ADD         R6,R4
    00000444 8F02                   BF/S        L1275
    00000446 E6FF                   MOV         #-1,R6
    00000448 A0C6                   BRA         L879
    0000044A 0009                   NOP
    0000044C              L1275:                            
    0000044C              L890:                             
      Monochrome   308                                            vram[(y<<4) + i] = 255;
    0000044C 2460                   MOV.B       R6,@R4
    0000044E 7501                   ADD         #1,R5
    00000450 35E3                   CMP/GE      R14,R5
    00000452 8FFB                   BF/S        L890
    00000454 7401                   ADD         #1,R4
    00000456 A0BF                   BRA         L879
    00000458 0009                   NOP
    0000045A              L888:                             
      Monochrome   309                            }
      Monochrome   310                            else vram[(y<<4)+(x1>>3)] |= (255>>(x1%8 + 7-x2%8))<<(7-(x2&7));
    0000045A 60D3                   MOV         R13,R0
    0000045C 53F1                   MOV.L       @(4,R15),R3
    0000045E 37A8                   SUB         R10,R7
    00000460 305C                   ADD         R5,R0
    00000462 437C                   SHAD        R7,R3
    00000464 026C                   MOV.B       @(R0,R6),R2
    00000466 223B                   OR          R3,R2
      Monochrome   311                            break;
    00000468 A0B6                   BRA         L879
    0000046A 0624                   MOV.B       R2,@(R0,R6)
    0000046C              L830:                            ; case label 
      Monochrome   312                    case ML_WHITE:
      Monochrome   313                            if(x1>>3 != x2>>3)
    0000046C 35E0                   CMP/EQ      R14,R5
    0000046E 8920                   BT          L892
      Monochrome   314                            {
      Monochrome   315                                    vram[(y<<4)+(x1>>3)] &= 255 << 8-(x1&7);
    00000470 60D3                   MOV         R13,R0
    00000472 305C                   ADD         R5,R0
    00000474 E308                   MOV         #8,R3
    00000476 3398                   SUB         R9,R3
    00000478 6243                   MOV         R4,R2
    0000047A 423C                   SHAD        R3,R2
    0000047C 036C                   MOV.B       @(R0,R6),R3
      Monochrome   316                                    vram[(y<<4)+(x2>>3)] &= 255 >> 1+(x2&7);
      Monochrome   317                                    for(i=(x1>>3)+1 ; i<x2>>3 ; i++)
    0000047E 7501                   ADD         #1,R5
    00000480 2329                   AND         R2,R3
    00000482 35E3                   CMP/GE      R14,R5
    00000484 0634                   MOV.B       R3,@(R0,R6)
    00000486 60E3                   MOV         R14,R0
    00000488 30DC                   ADD         R13,R0
    0000048A 63A3                   MOV         R10,R3




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   18


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    0000048C 026C                   MOV.B       @(R0,R6),R2
    0000048E 7301                   ADD         #1,R3
    00000490 633B                   NEG         R3,R3
    00000492 443C                   SHAD        R3,R4
    00000494 2249                   AND         R4,R2
    00000496 64D3                   MOV         R13,R4
    00000498 0624                   MOV.B       R2,@(R0,R6)
    0000049A 345C                   ADD         R5,R4
    0000049C 8F02                   BF/S        L1276
    0000049E 346C                   ADD         R6,R4
    000004A0 A09A                   BRA         L879
    000004A2 0009                   NOP
    000004A4              L1276:                            
    000004A4              L894:                             
      Monochrome   318                                            vram[(y<<4) + i] = 0;
    000004A4 2480                   MOV.B       R8,@R4
    000004A6 7501                   ADD         #1,R5
    000004A8 35E3                   CMP/GE      R14,R5
    000004AA 8FFB                   BF/S        L894
    000004AC 7401                   ADD         #1,R4
    000004AE A093                   BRA         L879
    000004B0 0009                   NOP
    000004B2              L892:                             
      Monochrome   319                            }
      Monochrome   320                            else vram[(y<<4)+(x1>>3)] &= (255<<8-(x1&7)) | (255>>1+(x2&7));
    000004B2 60D3                   MOV         R13,R0
    000004B4 305C                   ADD         R5,R0
    000004B6 E308                   MOV         #8,R3
    000004B8 3398                   SUB         R9,R3
    000004BA 6243                   MOV         R4,R2
    000004BC 423C                   SHAD        R3,R2
    000004BE 63A3                   MOV         R10,R3
    000004C0 7301                   ADD         #1,R3
    000004C2 633B                   NEG         R3,R3
    000004C4 6143                   MOV         R4,R1
    000004C6 413C                   SHAD        R3,R1
    000004C8 036C                   MOV.B       @(R0,R6),R3
    000004CA 221B                   OR          R1,R2
    000004CC 2329                   AND         R2,R3
      Monochrome   321                            break;
    000004CE A083                   BRA         L879
    000004D0 0634                   MOV.B       R3,@(R0,R6)
    000004D2              L831:                            ; case label 
      Monochrome   322                    case ML_XOR:
      Monochrome   323                            if(x1>>3 != x2>>3)
    000004D2 35E0                   CMP/EQ      R14,R5
    000004D4 891E                   BT          L896
      Monochrome   324                            {
      Monochrome   325                                    vram[(y<<4)+(x1>>3)] ^= 255 >> (x1&7);
    000004D6 60D3                   MOV         R13,R0
    000004D8 305C                   ADD         R5,R0
    000004DA 639B                   NEG         R9,R3
    000004DC 016C                   MOV.B       @(R0,R6),R1
      Monochrome   326                                    vram[(y<<4)+(x2>>3)] ^= 255 << 7-(x2&7);
    000004DE 37A8                   SUB         R10,R7
    000004E0 6243                   MOV         R4,R2
    000004E2 423C                   SHAD        R3,R2




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   19


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    000004E4 212A                   XOR         R2,R1
    000004E6 6343                   MOV         R4,R3
    000004E8 0614                   MOV.B       R1,@(R0,R6)
      Monochrome   327                                    for(i=(x1>>3)+1 ; i<(x2>>3) ; i++)
    000004EA 7501                   ADD         #1,R5
    000004EC 60E3                   MOV         R14,R0
    000004EE 30DC                   ADD         R13,R0
    000004F0 026C                   MOV.B       @(R0,R6),R2
    000004F2 35E3                   CMP/GE      R14,R5
    000004F4 437C                   SHAD        R7,R3
    000004F6 223A                   XOR         R3,R2
    000004F8 0624                   MOV.B       R2,@(R0,R6)
    000004FA 63D3                   MOV         R13,R3
    000004FC 335C                   ADD         R5,R3
    000004FE 8D6B                   BT/S        L879
    00000500 363C                   ADD         R3,R6
    00000502              L898:                             
    00000502 7501                   ADD         #1,R5
      Monochrome   328                                            vram[(y<<4) + i] ^= 255;
    00000504 6360                   MOV.B       @R6,R3
    00000506 35E3                   CMP/GE      R14,R5
    00000508 234A                   XOR         R4,R3
    0000050A 2630                   MOV.B       R3,@R6
    0000050C 8FF9                   BF/S        L898
    0000050E 7601                   ADD         #1,R6
    00000510 A062                   BRA         L879
    00000512 0009                   NOP
    00000514              L896:                             
      Monochrome   329                            }
      Monochrome   330                            else vram[(y<<4)+(x1>>3)] ^= (255>>((x1&7) + 7-(x2&7)))<<(7-(x2&7));
    00000514 60D3                   MOV         R13,R0
    00000516 305C                   ADD         R5,R0
    00000518 6393                   MOV         R9,R3
    0000051A 33A8                   SUB         R10,R3
    0000051C 7307                   ADD         #7,R3
    0000051E 633B                   NEG         R3,R3
    00000520 443C                   SHAD        R3,R4
    00000522 E207                   MOV         #7,R2
    00000524 036C                   MOV.B       @(R0,R6),R3
    00000526 32A8                   SUB         R10,R2
    00000528 442C                   SHAD        R2,R4
    0000052A 234A                   XOR         R4,R3
      Monochrome   331                            break;
    0000052C A054                   BRA         L879
    0000052E 0634                   MOV.B       R3,@(R0,R6)
    00000530              L832:                            ; case label 
      Monochrome   332                    case ML_CHECKER:
      Monochrome   333                            checker = (y&1 ? 85 : 170);
    00000530 60F2                   MOV.L       @R15,R0
    00000532 C801                   TST         #1,R0
    00000534 8901                   BT          L900
    00000536 A001                   BRA         L901
    00000538 EC55                   MOV         #85,R12
    0000053A              L900:                             
    0000053A 9C57                   MOV.W       L1277,R12  ; H'00AA
    0000053C              L901:                             
      Monochrome   334                            if(x1>>3 != x2>>3)




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   20


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    0000053C 35E0                   CMP/EQ      R14,R5
    0000053E 8932                   BT          L902
      Monochrome   335                            {
      Monochrome   336                                    vram[(y<<4)+(x1>>3)] &= 255 << 8-(x1&7);
    00000540 63D3                   MOV         R13,R3
    00000542 335C                   ADD         R5,R3
    00000544 336C                   ADD         R6,R3
    00000546 629B                   NEG         R9,R2
    00000548 1F31                   MOV.L       R3,@(4,R15)
    0000054A 6143                   MOV         R4,R1
    0000054C 7208                   ADD         #8,R2
    0000054E 412C                   SHAD        R2,R1
    00000550 6230                   MOV.B       @R3,R2
    00000552 2219                   AND         R1,R2
    00000554 2320                   MOV.B       R2,@R3
      Monochrome   337                                    vram[(y<<4)+(x2>>3)] &= 255 >> 1+(x2&7);
    00000556 6143                   MOV         R4,R1
    00000558 63E3                   MOV         R14,R3
    0000055A 33DC                   ADD         R13,R3
    0000055C 336C                   ADD         R6,R3
    0000055E 62A3                   MOV         R10,R2
    00000560 2F32                   MOV.L       R3,@R15
    00000562 7201                   ADD         #1,R2
    00000564 6030                   MOV.B       @R3,R0
    00000566 622B                   NEG         R2,R2
    00000568 412C                   SHAD        R2,R1
    0000056A 2019                   AND         R1,R0
    0000056C 2300                   MOV.B       R0,@R3
      Monochrome   338                                    vram[(y<<4)+(x1>>3)] |= checker & 255>>(x1&7);
    0000056E 629B                   NEG         R9,R2
    00000570 53F1                   MOV.L       @(4,R15),R3
    00000572 6143                   MOV         R4,R1
    00000574 412C                   SHAD        R2,R1
    00000576 21C9                   AND         R12,R1
    00000578 6230                   MOV.B       @R3,R2
    0000057A 221B                   OR          R1,R2
    0000057C 2320                   MOV.B       R2,@R3
      Monochrome   339                                    vram[(y<<4)+(x2>>3)] |= checker & 255<<7-(x2&7);
    0000057E 63F2                   MOV.L       @R15,R3
    00000580 6230                   MOV.B       @R3,R2
      Monochrome   340                                    for(i=(x1>>3)+1 ; i<x2>>3 ; i++)
    00000582 7501                   ADD         #1,R5
    00000584 37A8                   SUB         R10,R7
    00000586 447C                   SHAD        R7,R4
    00000588 24C9                   AND         R12,R4
    0000058A 224B                   OR          R4,R2
    0000058C 2320                   MOV.B       R2,@R3
    0000058E 64D3                   MOV         R13,R4
    00000590 345C                   ADD         R5,R4
    00000592 35E3                   CMP/GE      R14,R5
    00000594 8D20                   BT/S        L879
    00000596 346C                   ADD         R6,R4
    00000598              L904:                             
      Monochrome   341                                            vram[(y<<4) + i] = checker;
    00000598 24C0                   MOV.B       R12,@R4
    0000059A 7501                   ADD         #1,R5
    0000059C 35E3                   CMP/GE      R14,R5




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   21


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    0000059E 8FFB                   BF/S        L904
    000005A0 7401                   ADD         #1,R4
    000005A2 A019                   BRA         L879
    000005A4 0009                   NOP
    000005A6              L902:                             
      Monochrome   342                            }
      Monochrome   343                            else
      Monochrome   344                            {
      Monochrome   345                                    vram[(y<<4)+(x1>>3)] &= (255<<8-(x1&7)) | (255>>1+(x2&7));
    000005A6 63D3                   MOV         R13,R3
    000005A8 335C                   ADD         R5,R3
    000005AA 336C                   ADD         R6,R3
    000005AC 2F32                   MOV.L       R3,@R15
    000005AE E208                   MOV         #8,R2
    000005B0 3298                   SUB         R9,R2
    000005B2 6143                   MOV         R4,R1
    000005B4 412C                   SHAD        R2,R1
    000005B6 62A3                   MOV         R10,R2
    000005B8 7201                   ADD         #1,R2
    000005BA 622B                   NEG         R2,R2
    000005BC 6043                   MOV         R4,R0
    000005BE 402C                   SHAD        R2,R0
    000005C0 6230                   MOV.B       @R3,R2
      Monochrome   346                                    vram[(y<<4)+(x1>>3)] |= checker & (255>>(x1%8 + 7-x2%8))<<(7-(x2&7));
    000005C2 37A8                   SUB         R10,R7
    000005C4 210B                   OR          R0,R1
    000005C6 2219                   AND         R1,R2
    000005C8 2320                   MOV.B       R2,@R3
    000005CA 63F2                   MOV.L       @R15,R3
    000005CC 52F1                   MOV.L       @(4,R15),R2
    000005CE 427C                   SHAD        R7,R2
    000005D0 6130                   MOV.B       @R3,R1
    000005D2 22C9                   AND         R12,R2
    000005D4 212B                   OR          R2,R1
    000005D6 2310                   MOV.B       R1,@R3
      Monochrome   347                            }
      Monochrome   348                            break;
      Monochrome   349        }
      Monochrome   350    }
    000005D8              L879:                             
    000005D8 7F0C                   ADD         #12,R15
    000005DA 4F26                   LDS.L       @R15+,PR
    000005DC 68F6                   MOV.L       @R15+,R8
    000005DE 69F6                   MOV.L       @R15+,R9
    000005E0 6AF6                   MOV.L       @R15+,R10
    000005E2 6BF6                   MOV.L       @R15+,R11
    000005E4 6CF6                   MOV.L       @R15+,R12
    000005E6 6DF6                   MOV.L       @R15+,R13
    000005E8 000B                   RTS
    000005EA 6EF6                   MOV.L       @R15+,R14
    000005EC              L1277:                            
    000005EC 00AA                   .DATA.W     H'00AA
      Monochrome   351    
      Monochrome   352    #endif
      Monochrome   353    
      Monochrome   354    #ifdef ML_VERTICAL_LINE
      Monochrome   355    void ML_vertical_line(int x, int y1, int y2, ML_Color color)




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   22


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    000005EE              _ML_vertical_line:               ; function: ML_vertical_line
                                                           ; frame size=24
    000005EE 2FE6                   MOV.L       R14,@-R15
    000005F0 2FD6                   MOV.L       R13,@-R15
    000005F2 6E53                   MOV         R5,R14
      Monochrome   356    {
      Monochrome   357        int i, j;
      Monochrome   358        char checker, byte, *vram = ML_vram_adress();
    000005F4 D338                   MOV.L       L1278+2,R3 ; _sc0135
    000005F6 6D63                   MOV         R6,R13
    000005F8 2FC6                   MOV.L       R12,@-R15
    000005FA 6C43                   MOV         R4,R12
    000005FC 4F22                   STS.L       PR,@-R15
    000005FE 7FF8                   ADD         #-8,R15
    00000600 430B                   JSR         @R3
    00000602 2F72                   MOV.L       R7,@R15
      Monochrome   359            if(x&~127 || (y1<0 && y2<0) || (y1>63 && y2>63)) return;
    00000604 E380                   MOV         #-128,R3
    00000606 23C8                   TST         R12,R3
    00000608 8D02                   BT/S        L1279
    0000060A 1F01                   MOV.L       R0,@(4,R15)
    0000060C A086                   BRA         L909
    0000060E 0009                   NOP
    00000610              L1279:                            
    00000610 4E11                   CMP/PZ      R14
    00000612 8903                   BT          L908
    00000614 4D11                   CMP/PZ      R13
    00000616 8901                   BT          L1280
    00000618 A080                   BRA         L909
    0000061A 0009                   NOP
    0000061C              L1280:                            
    0000061C              L908:                             
    0000061C E33F                   MOV         #63,R3
    0000061E 3E37                   CMP/GT      R3,R14
    00000620 8B03                   BF          L906
    00000622 3D37                   CMP/GT      R3,R13
    00000624 8B01                   BF          L1281
    00000626 A079                   BRA         L909
    00000628 0009                   NOP
    0000062A              L1281:                            
    0000062A              L906:                             
      Monochrome   360            if(y1 > y2)
    0000062A 3ED7                   CMP/GT      R13,R14
    0000062C 8B02                   BF          L910
      Monochrome   361            {
      Monochrome   362                    int tmp = y1;
    0000062E 64E3                   MOV         R14,R4
      Monochrome   363                    y1 = y2;
    00000630 6ED3                   MOV         R13,R14
      Monochrome   364                    y2 = tmp;
    00000632 6D43                   MOV         R4,R13
    00000634              L910:                             
      Monochrome   365            }
      Monochrome   366            if(y1 < 0) y1 = 0;
    00000634 4E11                   CMP/PZ      R14
    00000636 8D01                   BT/S        L911
      Monochrome   367            if(y2 > 63) y2 = 63;




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   23


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00000638 E43F                   MOV         #63,R4
    0000063A EE00                   MOV         #0,R14
    0000063C              L911:                             
    0000063C 3D47                   CMP/GT      R4,R13
    0000063E 8B00                   BF          L912
    00000640 6D43                   MOV         R4,R13
    00000642              L912:                             
      Monochrome   368    
      Monochrome   369            i = (y1<<4)+(x>>3);
    00000642 64E3                   MOV         R14,R4
    00000644 9747                   MOV.W       L1278,R7   ; H'0080
    00000646 E607                   MOV         #7,R6
    00000648 60F2                   MOV.L       @R15,R0
    0000064A 65C3                   MOV         R12,R5
    0000064C 4408                   SHLL2       R4
    0000064E 4408                   SHLL2       R4
    00000650 4521                   SHAR        R5
    00000652 4521                   SHAR        R5
    00000654 4521                   SHAR        R5
    00000656 345C                   ADD         R5,R4
      Monochrome   370            j = (y2<<4)+(x>>3);
    00000658 4D08                   SHLL2       R13
    0000065A 4D08                   SHLL2       R13
    0000065C 35DC                   ADD         R13,R5
    0000065E 8801                   CMP/EQ      #1,R0
    00000660 5DF1                   MOV.L       @(4,R15),R13
    00000662 8D08                   BT/S        L833
    00000664 3D4C                   ADD         R4,R13
    00000666 8800                   CMP/EQ      #0,R0
    00000668 8915                   BT          L834
    0000066A 8802                   CMP/EQ      #2,R0
    0000066C 8923                   BT          L835
    0000066E 8803                   CMP/EQ      #3,R0
    00000670 8934                   BT          L836
    00000672 A053                   BRA         L909
    00000674 0009                   NOP
    00000676              L833:                            ; case label 
      Monochrome   371            switch(color)
      Monochrome   372            {
      Monochrome   373                    case ML_BLACK:
      Monochrome   374                            byte = 128>>(x&7);
    00000676 2C69                   AND         R6,R12
    00000678 6CCB                   NEG         R12,R12
    0000067A 6E73                   MOV         R7,R14
    0000067C 4ECC                   SHAD        R12,R14
      Monochrome   375                            for( ; i<=j ; i+=16)
    0000067E 3457                   CMP/GT      R5,R4
    00000680 8D4C                   BT/S        L909
    00000682 66D3                   MOV         R13,R6
    00000684              L915:                             
      Monochrome   376                                    vram[i] |= byte;
    00000684 6260                   MOV.B       @R6,R2
    00000686 7410                   ADD         #16,R4
    00000688 22EB                   OR          R14,R2
    0000068A 3457                   CMP/GT      R5,R4
    0000068C 2620                   MOV.B       R2,@R6
    0000068E 8FF9                   BF/S        L915




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   24


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00000690 7610                   ADD         #16,R6
      Monochrome   377                            break;
    00000692 A043                   BRA         L909
    00000694 0009                   NOP
    00000696              L834:                            ; case label 
      Monochrome   378                    case ML_WHITE:
      Monochrome   379                            byte = ~(128>>(x&7));
    00000696 2C69                   AND         R6,R12
    00000698 6CCB                   NEG         R12,R12
    0000069A 47CC                   SHAD        R12,R7
    0000069C 6E77                   NOT         R7,R14
      Monochrome   380                            for( ; i<=j ; i+=16)
    0000069E 3457                   CMP/GT      R5,R4
    000006A0 8D3C                   BT/S        L909
    000006A2 66D3                   MOV         R13,R6
    000006A4              L917:                             
      Monochrome   381                                    vram[i] &= byte;
    000006A4 6260                   MOV.B       @R6,R2
    000006A6 7410                   ADD         #16,R4
    000006A8 22E9                   AND         R14,R2
    000006AA 3457                   CMP/GT      R5,R4
    000006AC 2620                   MOV.B       R2,@R6
    000006AE 8FF9                   BF/S        L917
    000006B0 7610                   ADD         #16,R6
      Monochrome   382                            break;
    000006B2 A033                   BRA         L909
    000006B4 0009                   NOP
    000006B6              L835:                            ; case label 
      Monochrome   383                    case ML_XOR:
      Monochrome   384                            byte = 128>>(x&7);
    000006B6 2C69                   AND         R6,R12
    000006B8 6CCB                   NEG         R12,R12
    000006BA 6E73                   MOV         R7,R14
    000006BC 4ECC                   SHAD        R12,R14
      Monochrome   385                            for( ; i<=j ; i+=16)
    000006BE 3457                   CMP/GT      R5,R4
    000006C0 8D2C                   BT/S        L909
    000006C2 66D3                   MOV         R13,R6
    000006C4              L919:                             
      Monochrome   386                                    vram[i] ^= byte;
    000006C4 6260                   MOV.B       @R6,R2
    000006C6 7410                   ADD         #16,R4
    000006C8 22EA                   XOR         R14,R2
    000006CA 3457                   CMP/GT      R5,R4
    000006CC 2620                   MOV.B       R2,@R6
    000006CE 8FF9                   BF/S        L919
    000006D0 7610                   ADD         #16,R6
      Monochrome   387                            break;
    000006D2 A023                   BRA         L909
    000006D4 0009                   NOP
    000006D6              L1278:                            
    000006D6 0080                   .DATA.W     H'0080
    000006D8 <00000000>             .DATA.L     _sc0135
    000006DC              L836:                            ; case label 
      Monochrome   388                    case ML_CHECKER:
      Monochrome   389                            byte = 128>>(x&7);
    000006DC 26C9                   AND         R12,R6




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   25


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    000006DE 666B                   NEG         R6,R6
    000006E0 6073                   MOV         R7,R0
    000006E2 406C                   SHAD        R6,R0
      Monochrome   390                            checker = y1&1^x&1;
    000006E4 E701                   MOV         #1,R7
    000006E6 27E9                   AND         R14,R7
    000006E8 E301                   MOV         #1,R3
    000006EA 2C39                   AND         R3,R12
    000006EC 27CA                   XOR         R12,R7
    000006EE 66D3                   MOV         R13,R6
    000006F0 6ED3                   MOV         R13,R14
      Monochrome   391                            for( ; i<=j ; i+=16)
    000006F2 3457                   CMP/GT      R5,R4
    000006F4 8D12                   BT/S        L909
    000006F6 6D07                   NOT         R0,R13
    000006F8              L921:                             
      Monochrome   392                            {
      Monochrome   393                                    if(checker) vram[i] &= ~byte;
    000006F8 637E                   EXTS.B      R7,R3
    000006FA 2338                   TST         R3,R3
    000006FC 8D04                   BT/S        L922
      Monochrome   394                                    else vram[i] |= byte;
      Monochrome   395                                    checker = !checker;
    000006FE 677E                   EXTS.B      R7,R7
    00000700 62E0                   MOV.B       @R14,R2
    00000702 22D9                   AND         R13,R2
    00000704 A003                   BRA         L923
    00000706 2E20                   MOV.B       R2,@R14
    00000708              L922:                             
    00000708 6160                   MOV.B       @R6,R1
    0000070A 210B                   OR          R0,R1
    0000070C 2610                   MOV.B       R1,@R6
    0000070E              L923:                             
    0000070E 2778                   TST         R7,R7
    00000710 0729                   MOVT        R7
    00000712 7410                   ADD         #16,R4
    00000714 7610                   ADD         #16,R6
    00000716 3457                   CMP/GT      R5,R4
    00000718 8FEE                   BF/S        L921
    0000071A 7E10                   ADD         #16,R14
    0000071C              L909:                             
      Monochrome   396                            }
      Monochrome   397                            break;
      Monochrome   398            }
      Monochrome   399    }
    0000071C 7F08                   ADD         #8,R15
    0000071E 4F26                   LDS.L       @R15+,PR
    00000720 6CF6                   MOV.L       @R15+,R12
    00000722 6DF6                   MOV.L       @R15+,R13
    00000724 000B                   RTS
    00000726 6EF6                   MOV.L       @R15+,R14
      Monochrome   400    #endif
      Monochrome   401    
      Monochrome   402    #ifdef ML_RECTANGLE
      Monochrome   403    void ML_rectangle(int x1, int y1, int x2, int y2, int border_width, ML_Color border_color, ML_Color fill_c
                         +olor)
    00000728              _ML_rectangle:                   ; function: ML_rectangle




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   26


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

                                                           ; frame size=48
    00000728 2FE6                   MOV.L       R14,@-R15
    0000072A 2FD6                   MOV.L       R13,@-R15
    0000072C 2FC6                   MOV.L       R12,@-R15
    0000072E 6D43                   MOV         R4,R13
    00000730 2FB6                   MOV.L       R11,@-R15
    00000732 6C63                   MOV         R6,R12
    00000734 2FA6                   MOV.L       R10,@-R15
      Monochrome   404    {
      Monochrome   405            int i;
      Monochrome   406            if(x1 > x2)
    00000736 3DC7                   CMP/GT      R12,R13
    00000738 2F96                   MOV.L       R9,@-R15
    0000073A 2F86                   MOV.L       R8,@-R15
    0000073C 4F22                   STS.L       PR,@-R15
    0000073E 7FF0                   ADD         #-16,R15
    00000740 5EFC                   MOV.L       @(48,R15),R14
    00000742 8F03                   BF/S        L925
    00000744 5BFD                   MOV.L       @(52,R15),R11
      Monochrome   407            {
      Monochrome   408                    i = x1;
    00000746 64D3                   MOV         R13,R4
      Monochrome   409                    x1 = x2;
    00000748 6DC3                   MOV         R12,R13
      Monochrome   410                    x2 = i;
    0000074A 6C43                   MOV         R4,R12
    0000074C              L925:                             
      Monochrome   411            }
      Monochrome   412            if(y1 > y2)
    0000074C 3577                   CMP/GT      R7,R5
    0000074E 8B02                   BF          L926
      Monochrome   413            {
      Monochrome   414                    i = y1;
    00000750 6453                   MOV         R5,R4
      Monochrome   415                    y1 = y2;
    00000752 6573                   MOV         R7,R5
      Monochrome   416                    y2 = i;
    00000754 6743                   MOV         R4,R7
    00000756              L926:                             
    00000756 64C3                   MOV         R12,R4
    00000758 34D8                   SUB         R13,R4
    0000075A E300                   MOV         #0,R3
    0000075C 3347                   CMP/GT      R4,R3
    0000075E 343E                   ADDC        R3,R4
    00000760 4421                   SHAR        R4
    00000762 7401                   ADD         #1,R4
    00000764 3E47                   CMP/GT      R4,R14
    00000766 8B00                   BF          L927
      Monochrome   417            }
      Monochrome   418            if(border_width > (x2-x1)/2+1) border_width = (x2-x1)/2+1;
    00000768 6E43                   MOV         R4,R14
    0000076A              L927:                             
    0000076A 6473                   MOV         R7,R4
    0000076C 3458                   SUB         R5,R4
    0000076E E300                   MOV         #0,R3
    00000770 3347                   CMP/GT      R4,R3
    00000772 343E                   ADDC        R3,R4




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   27


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00000774 4421                   SHAR        R4
    00000776 7401                   ADD         #1,R4
    00000778 3E47                   CMP/GT      R4,R14
    0000077A 8F01                   BF/S        L928
    0000077C 6353                   MOV         R5,R3
      Monochrome   419            if(border_width > (y2-y1)/2+1) border_width = (y2-y1)/2+1;
    0000077E 6E43                   MOV         R4,R14
    00000780              L928:                             
    00000780 33EC                   ADD         R14,R3
    00000782 6873                   MOV         R7,R8
    00000784 1F33                   MOV.L       R3,@(12,R15)
    00000786 62D3                   MOV         R13,R2
    00000788 32EC                   ADD         R14,R2
    0000078A 61C3                   MOV         R12,R1
    0000078C 1F22                   MOV.L       R2,@(8,R15)
    0000078E 60B3                   MOV         R11,R0
    00000790 31E8                   SUB         R14,R1
    00000792 88FF                   CMP/EQ      #-1,R0
    00000794 2F12                   MOV.L       R1,@R15
    00000796 8D2D                   BT/S        L929
    00000798 38E8                   SUB         R14,R8
    0000079A 4E15                   CMP/PL      R14
    0000079C 8B2A                   BF          L929
      Monochrome   420            if(border_color != ML_TRANSPARENT && border_width > 0)
      Monochrome   421            {
      Monochrome   422                    for(i=0 ; i<border_width ; i++)
    0000079E E300                   MOV         #0,R3
    000007A0 1F31                   MOV.L       R3,@(4,R15)
    000007A2 6973                   MOV         R7,R9
    000007A4 4E15                   CMP/PL      R14
    000007A6 8F11                   BF/S        L930
    000007A8 6A53                   MOV         R5,R10
    000007AA              L931:                             
      Monochrome   423                    {
      Monochrome   424                            ML_horizontal_line(y1+i, x1, x2, border_color);
    000007AA 67B3                   MOV         R11,R7
    000007AC 66C3                   MOV         R12,R6
    000007AE 65D3                   MOV         R13,R5
    000007B0 BDC6                   BSR         _ML_horizontal_line
    000007B2 64A3                   MOV         R10,R4
      Monochrome   425                            ML_horizontal_line(y2-i, x1, x2, border_color);
    000007B4 67B3                   MOV         R11,R7
    000007B6 66C3                   MOV         R12,R6
    000007B8 65D3                   MOV         R13,R5
    000007BA BDC1                   BSR         _ML_horizontal_line
    000007BC 6493                   MOV         R9,R4
    000007BE 79FF                   ADD         #-1,R9
    000007C0 52F1                   MOV.L       @(4,R15),R2
    000007C2 7201                   ADD         #1,R2
    000007C4 1F21                   MOV.L       R2,@(4,R15)
    000007C6 32E3                   CMP/GE      R14,R2
    000007C8 8FEF                   BF/S        L931
    000007CA 7A01                   ADD         #1,R10
    000007CC              L930:                             
      Monochrome   426                    }
      Monochrome   427                    for(i=y1+border_width ; i<=y2-border_width ; i++)
    000007CC 5EF3                   MOV.L       @(12,R15),R14




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   28


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    000007CE 5AF2                   MOV.L       @(8,R15),R10
    000007D0 69F2                   MOV.L       @R15,R9
    000007D2 3E87                   CMP/GT      R8,R14
    000007D4 7AFF                   ADD         #-1,R10
    000007D6 8D0D                   BT/S        L929
    000007D8 7901                   ADD         #1,R9
    000007DA              L933:                             
      Monochrome   428                    {
      Monochrome   429                            ML_horizontal_line(i, x1, x1+border_width-1, border_color);
    000007DA 67B3                   MOV         R11,R7
    000007DC 66A3                   MOV         R10,R6
    000007DE 65D3                   MOV         R13,R5
    000007E0 BDAE                   BSR         _ML_horizontal_line
    000007E2 64E3                   MOV         R14,R4
      Monochrome   430                            ML_horizontal_line(i, x2-border_width+1, x2, border_color);
    000007E4 67B3                   MOV         R11,R7
    000007E6 66C3                   MOV         R12,R6
    000007E8 6593                   MOV         R9,R5
    000007EA BDA9                   BSR         _ML_horizontal_line
    000007EC 64E3                   MOV         R14,R4
    000007EE 7E01                   ADD         #1,R14
    000007F0 3E87                   CMP/GT      R8,R14
    000007F2 8BF2                   BF          L933
    000007F4              L929:                             
      Monochrome   431                    }
      Monochrome   432            }
      Monochrome   433            if(fill_color != ML_TRANSPARENT)
    000007F4 50FE                   MOV.L       @(56,R15),R0
    000007F6 88FF                   CMP/EQ      #-1,R0
    000007F8 890A                   BT          L934
      Monochrome   434            {
      Monochrome   435                    for(i=y1+border_width ; i<=y2-border_width ; i++)
    000007FA 5EF3                   MOV.L       @(12,R15),R14
    000007FC 3E87                   CMP/GT      R8,R14
    000007FE 8907                   BT          L934
    00000800              L936:                             
      Monochrome   436                            ML_horizontal_line(i, x1+border_width, x2-border_width, fill_color);
    00000800 57FE                   MOV.L       @(56,R15),R7
    00000802 66F2                   MOV.L       @R15,R6
    00000804 55F2                   MOV.L       @(8,R15),R5
    00000806 BD9B                   BSR         _ML_horizontal_line
    00000808 64E3                   MOV         R14,R4
    0000080A 7E01                   ADD         #1,R14
    0000080C 3E87                   CMP/GT      R8,R14
    0000080E 8BF7                   BF          L936
    00000810              L934:                             
      Monochrome   437            }
      Monochrome   438    }
    00000810 7F10                   ADD         #16,R15
    00000812 4F26                   LDS.L       @R15+,PR
    00000814 68F6                   MOV.L       @R15+,R8
    00000816 69F6                   MOV.L       @R15+,R9
    00000818 6AF6                   MOV.L       @R15+,R10
    0000081A 6BF6                   MOV.L       @R15+,R11
    0000081C 6CF6                   MOV.L       @R15+,R12
    0000081E 6DF6                   MOV.L       @R15+,R13
    00000820 000B                   RTS




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   29


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00000822 6EF6                   MOV.L       @R15+,R14
      Monochrome   439    #endif
      Monochrome   440    
      Monochrome   441    #ifdef ML_POLYGON
      Monochrome   442    void ML_polygon(const int *x, const int *y, int nb_vertices, ML_Color color)
    00000824              _ML_polygon:                     ; function: ML_polygon
                                                           ; frame size=44
    00000824 2FE6                   MOV.L       R14,@-R15
      Monochrome   443    {
      Monochrome   444            int i;
      Monochrome   445            if(nb_vertices < 1) return;
    00000826 E301                   MOV         #1,R3
    00000828 2FD6                   MOV.L       R13,@-R15
    0000082A 3633                   CMP/GE      R3,R6
    0000082C 2FC6                   MOV.L       R12,@-R15
    0000082E 6D43                   MOV         R4,R13
    00000830 2FB6                   MOV.L       R11,@-R15
    00000832 6C53                   MOV         R5,R12
    00000834 2FA6                   MOV.L       R10,@-R15
    00000836 2F96                   MOV.L       R9,@-R15
    00000838 2F86                   MOV.L       R8,@-R15
    0000083A 4F22                   STS.L       PR,@-R15
    0000083C 7FF8                   ADD         #-8,R15
    0000083E 8F21                   BF/S        L938
    00000840 2F72                   MOV.L       R7,@R15
    00000842 6863                   MOV         R6,R8
    00000844 78FF                   ADD         #-1,R8
      Monochrome   446            for(i=0 ; i<nb_vertices-1 ; i++)
    00000846 4815                   CMP/PL      R8
    00000848 8F11                   BF/S        L939
    0000084A EE00                   MOV         #0,R14
    0000084C              L940:                             
      Monochrome   447                    ML_line(x[i], y[i], x[i+1], y[i+1], color);
    0000084C 62F2                   MOV.L       @R15,R2
    0000084E 69E3                   MOV         R14,R9
    00000850 2F26                   MOV.L       R2,@-R15
    00000852 4908                   SHLL2       R9
    00000854 6A93                   MOV         R9,R10
    00000856 3ACC                   ADD         R12,R10
    00000858 57A1                   MOV.L       @(4,R10),R7
    0000085A 6B93                   MOV         R9,R11
    0000085C 65A2                   MOV.L       @R10,R5
    0000085E 3BDC                   ADD         R13,R11
    00000860 56B1                   MOV.L       @(4,R11),R6
    00000862 BD00                   BSR         _ML_line
    00000864 64B2                   MOV.L       @R11,R4
    00000866 7E01                   ADD         #1,R14
    00000868 3E83                   CMP/GE      R8,R14
    0000086A 8FEF                   BF/S        L940
    0000086C 7F04                   ADD         #4,R15
    0000086E              L939:                             
      Monochrome   448            ML_line(x[i], y[i], x[0], y[0], color);
    0000086E 60E3                   MOV         R14,R0
    00000870 63F2                   MOV.L       @R15,R3
    00000872 4008                   SHLL2       R0
    00000874 2F36                   MOV.L       R3,@-R15
    00000876 67C2                   MOV.L       @R12,R7




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   30


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00000878 66D2                   MOV.L       @R13,R6
    0000087A 1F02                   MOV.L       R0,@(8,R15)
    0000087C 05CE                   MOV.L       @(R0,R12),R5
    0000087E BCF2                   BSR         _ML_line
    00000880 04DE                   MOV.L       @(R0,R13),R4
    00000882 7F04                   ADD         #4,R15
      Monochrome   449    }
    00000884              L938:                             
    00000884 7F08                   ADD         #8,R15
    00000886 4F26                   LDS.L       @R15+,PR
    00000888 68F6                   MOV.L       @R15+,R8
    0000088A 69F6                   MOV.L       @R15+,R9
    0000088C 6AF6                   MOV.L       @R15+,R10
    0000088E 6BF6                   MOV.L       @R15+,R11
    00000890 6CF6                   MOV.L       @R15+,R12
    00000892 6DF6                   MOV.L       @R15+,R13
    00000894 000B                   RTS
    00000896 6EF6                   MOV.L       @R15+,R14
      Monochrome   450    #endif
      Monochrome   451    
      Monochrome   452    #ifdef ML_FILLED_POLYGON
      Monochrome   453    static int ML_filled_polygon_quicksord_partition(int *t, int p, int r)
    00000898              __$ML_filled_polygon_quicksord_partition:
                                                           ; function: ML_filled_polygon_quicksord_partition
                                                           ; frame size=20
    00000898 2FE6                   MOV.L       R14,@-R15
      Monochrome   454    {
      Monochrome   455            int i, j, x, tmp;
      Monochrome   456            j = p - 1;
      Monochrome   457            x = t[r];
      Monochrome   458            for(i=p ; i<r ; i++)
    0000089A 6753                   MOV         R5,R7
    0000089C 2FD6                   MOV.L       R13,@-R15
    0000089E 6E53                   MOV         R5,R14
    000008A0 2FC6                   MOV.L       R12,@-R15
    000008A2 3763                   CMP/GE      R6,R7
    000008A4 7FF8                   ADD         #-8,R15
    000008A6 7EFF                   ADD         #-1,R14
    000008A8 6C63                   MOV         R6,R12
    000008AA 4C08                   SHLL2       R12
    000008AC 3C4C                   ADD         R4,R12
    000008AE 4508                   SHLL2       R5
    000008B0 1FC1                   MOV.L       R12,@(4,R15)
    000008B2 354C                   ADD         R4,R5
    000008B4 6CC2                   MOV.L       @R12,R12
    000008B6 2F52                   MOV.L       R5,@R15
    000008B8 8D10                   BT/S        L941
    000008BA 6D53                   MOV         R5,R13
    000008BC              L942:                             
      Monochrome   459            {
      Monochrome   460                    if(x > t[i])
    000008BC 62D2                   MOV.L       @R13,R2
    000008BE 3C27                   CMP/GT      R2,R12
    000008C0 8F08                   BF/S        L943
    000008C2 7701                   ADD         #1,R7
      Monochrome   461                    {
      Monochrome   462                            j++;




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   31


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

      Monochrome   463                            tmp = t[j];
      Monochrome   464                            t[j] = t[i];
    000008C4 6352                   MOV.L       @R5,R3
    000008C6 7E01                   ADD         #1,R14
    000008C8 60E3                   MOV         R14,R0
    000008CA 4008                   SHLL2       R0
    000008CC 304C                   ADD         R4,R0
    000008CE 6102                   MOV.L       @R0,R1
    000008D0 2032                   MOV.L       R3,@R0
      Monochrome   465                            t[i] = tmp;
    000008D2 2512                   MOV.L       R1,@R5
    000008D4              L943:                             
    000008D4 7504                   ADD         #4,R5
    000008D6 3763                   CMP/GE      R6,R7
    000008D8 8FF0                   BF/S        L942
    000008DA 7D04                   ADD         #4,R13
    000008DC              L941:                             
      Monochrome   466                    }
      Monochrome   467            }
      Monochrome   468            t[r] = t[j+1];
    000008DC 53F1                   MOV.L       @(4,R15),R3
    000008DE 65E3                   MOV         R14,R5
    000008E0 4508                   SHLL2       R5
    000008E2 354C                   ADD         R4,R5
    000008E4 7504                   ADD         #4,R5
      Monochrome   469            t[j+1] = x;
      Monochrome   470            return j + 1;
    000008E6 60E3                   MOV         R14,R0
    000008E8 6252                   MOV.L       @R5,R2
    000008EA 7001                   ADD         #1,R0
    000008EC 2322                   MOV.L       R2,@R3
    000008EE 25C2                   MOV.L       R12,@R5
      Monochrome   471    }
    000008F0 7F08                   ADD         #8,R15
    000008F2 6CF6                   MOV.L       @R15+,R12
    000008F4 6DF6                   MOV.L       @R15+,R13
    000008F6 000B                   RTS
    000008F8 6EF6                   MOV.L       @R15+,R14
      Monochrome   472    
      Monochrome   473    static void ML_filled_polygon_quicksord(int* t, int p, int r)
    000008FA              __$ML_filled_polygon_quicksord:  ; function: ML_filled_polygon_quicksord
                                                           ; frame size=20
    000008FA 2FE6                   MOV.L       R14,@-R15
    000008FC 2FD6                   MOV.L       R13,@-R15
    000008FE 6E53                   MOV         R5,R14
    00000900 2FC6                   MOV.L       R12,@-R15
    00000902 6D63                   MOV         R6,R13
    00000904 4F22                   STS.L       PR,@-R15
    00000906 7FFC                   ADD         #-4,R15
    00000908 2F42                   MOV.L       R4,@R15
    0000090A              L945:                             
      Monochrome   474    {
      Monochrome   475            int q;
      Monochrome   476            if(p < r)
    0000090A 3ED3                   CMP/GE      R13,R14
    0000090C 890E                   BT          L946
      Monochrome   477            {




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   32


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

      Monochrome   478                    q = ML_filled_polygon_quicksord_partition(t, p, r);
    0000090E 66D3                   MOV         R13,R6
    00000910 65E3                   MOV         R14,R5
    00000912 BFC1                   BSR         __$ML_filled_polygon_quicksord_partition
    00000914 64F2                   MOV.L       @R15,R4
    00000916 6C03                   MOV         R0,R12
      Monochrome   479                    ML_filled_polygon_quicksord(t, p, q-1);
    00000918 6603                   MOV         R0,R6
    0000091A 76FF                   ADD         #-1,R6
    0000091C 65E3                   MOV         R14,R5
    0000091E BFEC                   BSR         __$ML_filled_polygon_quicksord
    00000920 64F2                   MOV.L       @R15,R4
      Monochrome   480                    ML_filled_polygon_quicksord(t, q+1, r);
    00000922 65D3                   MOV         R13,R5
    00000924 64C3                   MOV         R12,R4
    00000926 7401                   ADD         #1,R4
    00000928 AFEF                   BRA         L945
    0000092A 6E43                   MOV         R4,R14
    0000092C              L946:                             
      Monochrome   481            }
      Monochrome   482    }
    0000092C 7F04                   ADD         #4,R15
    0000092E 4F26                   LDS.L       @R15+,PR
    00000930 6CF6                   MOV.L       @R15+,R12
    00000932 6DF6                   MOV.L       @R15+,R13
    00000934 000B                   RTS
    00000936 6EF6                   MOV.L       @R15+,R14
      Monochrome   483    
      Monochrome   484    
      Monochrome   485    void ML_filled_polygon(const int *x, const int *y, int nb_vertices, ML_Color color)
    00000938              _ML_filled_polygon:              ; function: ML_filled_polygon
                                                           ; frame size=108
                                                           ; used runtime library name:
                                                           ; __divls, __modls, __addd, __dtoi, __itod
    00000938 2FE6                   MOV.L       R14,@-R15
      Monochrome   486    {
      Monochrome   487            int i, j, dx, dy, ymin, ymax;
      Monochrome   488            int *cut_in_line, nb_cut;
      Monochrome   489            if(nb_vertices < 3) return;
    0000093A E303                   MOV         #3,R3
    0000093C 2FD6                   MOV.L       R13,@-R15
    0000093E 2FC6                   MOV.L       R12,@-R15
    00000940 2FB6                   MOV.L       R11,@-R15
    00000942 6B63                   MOV         R6,R11
    00000944 2FA6                   MOV.L       R10,@-R15
    00000946 3B33                   CMP/GE      R3,R11
    00000948 2F96                   MOV.L       R9,@-R15
    0000094A 6A53                   MOV         R5,R10
    0000094C 2F86                   MOV.L       R8,@-R15
    0000094E 4F22                   STS.L       PR,@-R15
    00000950 4F12                   STS.L       MACL,@-R15
    00000952 7FD8                   ADD         #-40,R15
    00000954 1F44                   MOV.L       R4,@(16,R15)
    00000956 8D02                   BT/S        L1282
    00000958 1F73                   MOV.L       R7,@(12,R15)
    0000095A A100                   BRA         L948
    0000095C 0009                   NOP




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   33


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    0000095E              L1282:                            
      Monochrome   490            cut_in_line = malloc(nb_vertices*sizeof(int));
    0000095E 64B3                   MOV         R11,R4
    00000960 D384                   MOV.L       L1283,R3   ; _malloc
    00000962 430B                   JSR         @R3
    00000964 4408                   SHLL2       R4
    00000966 6D03                   MOV         R0,R13
      Monochrome   491            if(!cut_in_line) return;
    00000968 2DD8                   TST         R13,R13
    0000096A 8B01                   BF          L1284
    0000096C A0F7                   BRA         L948
    0000096E 0009                   NOP
    00000970              L1284:                            
      Monochrome   492            ymin = ymax = y[0];
    00000970 6EA2                   MOV.L       @R10,R14
      Monochrome   493            for(i=1 ; i<nb_vertices ; i++)
    00000972 E801                   MOV         #1,R8
    00000974 1FE6                   MOV.L       R14,@(24,R15)
    00000976 E704                   MOV         #4,R7
    00000978 6483                   MOV         R8,R4
    0000097A 37AC                   ADD         R10,R7
    0000097C 6573                   MOV         R7,R5
    0000097E 34B3                   CMP/GE      R11,R4
    00000980 8D12                   BT/S        L950
    00000982 6673                   MOV         R7,R6
    00000984              L951:                             
      Monochrome   494            {
      Monochrome   495                    if(y[i] < ymin) ymin = y[i];
    00000984 6043                   MOV         R4,R0
    00000986 4008                   SHLL2       R0
    00000988 03AE                   MOV.L       @(R0,R10),R3
    0000098A 33E3                   CMP/GE      R14,R3
    0000098C 8900                   BT          L952
    0000098E 6E72                   MOV.L       @R7,R14
    00000990              L952:                             
      Monochrome   496                    if(y[i] > ymax) ymax = y[i];
    00000990 53F6                   MOV.L       @(24,R15),R3
    00000992 6262                   MOV.L       @R6,R2
    00000994 3237                   CMP/GT      R3,R2
    00000996 8F02                   BF/S        L953
    00000998 7401                   ADD         #1,R4
    0000099A 6252                   MOV.L       @R5,R2
    0000099C 1F26                   MOV.L       R2,@(24,R15)
    0000099E              L953:                             
    0000099E 7504                   ADD         #4,R5
    000009A0 7604                   ADD         #4,R6
    000009A2 34B3                   CMP/GE      R11,R4
    000009A4 8FEE                   BF/S        L951
    000009A6 7704                   ADD         #4,R7
    000009A8              L950:                             
      Monochrome   497            }
      Monochrome   498            for(i=ymin ; i<=ymax ; i++)
    000009A8 A0C7                   BRA         L954
    000009AA 6CE3                   MOV         R14,R12
    000009AC              L955:                             
      Monochrome   499            {
      Monochrome   500                    nb_cut = 0;




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   34


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    000009AC E900                   MOV         #0,R9
      Monochrome   501                    for(j=0 ; j<nb_vertices ; j++)
    000009AE 6E93                   MOV         R9,R14
    000009B0 6393                   MOV         R9,R3
    000009B2 4B15                   CMP/PL      R11
    000009B4 2F32                   MOV.L       R3,@R15
    000009B6 1F81                   MOV.L       R8,@(4,R15)
    000009B8 8F73                   BF/S        L956
    000009BA 1F82                   MOV.L       R8,@(8,R15)
    000009BC              L957:                             
      Monochrome   502                    {
      Monochrome   503                            if((y[j]<=i && y[(j+1)%nb_vertices]>=i) || (y[j]>=i && y[(j+1)%nb_vertices]<=i))
    000009BC 60E3                   MOV         R14,R0
    000009BE 4008                   SHLL2       R0
    000009C0 04AE                   MOV.L       @(R0,R10),R4
    000009C2 34C7                   CMP/GT      R12,R4
    000009C4 8908                   BT          L960
    000009C6 61E3                   MOV         R14,R1
    000009C8 D36B                   MOV.L       L1283+4,R3 ; __modls
    000009CA 7101                   ADD         #1,R1
    000009CC 430B                   JSR         @R3
    000009CE 60B3                   MOV         R11,R0
    000009D0 4008                   SHLL2       R0
    000009D2 02AE                   MOV.L       @(R0,R10),R2
    000009D4 32C3                   CMP/GE      R12,R2
    000009D6 890A                   BT          L959
    000009D8              L960:                             
    000009D8 34C3                   CMP/GE      R12,R4
    000009DA 8B56                   BF          L958
    000009DC D366                   MOV.L       L1283+4,R3 ; __modls
    000009DE 61E3                   MOV         R14,R1
    000009E0 7101                   ADD         #1,R1
    000009E2 430B                   JSR         @R3
    000009E4 60B3                   MOV         R11,R0
    000009E6 4008                   SHLL2       R0
    000009E8 02AE                   MOV.L       @(R0,R10),R2
    000009EA 32C7                   CMP/GT      R12,R2
    000009EC 894D                   BT          L958
    000009EE              L959:                             
      Monochrome   504                            {
      Monochrome   505                                    dy = abs(y[j]-y[(j+1)%nb_vertices]);
    000009EE 60E3                   MOV         R14,R0
    000009F0 51F2                   MOV.L       @(8,R15),R1
    000009F2 4008                   SHLL2       R0
    000009F4 D360                   MOV.L       L1283+4,R3 ; __modls
    000009F6 04AE                   MOV.L       @(R0,R10),R4
    000009F8 430B                   JSR         @R3
    000009FA 60B3                   MOV         R11,R0
    000009FC D25F                   MOV.L       L1283+8,R2 ; _abs
    000009FE 4008                   SHLL2       R0
    00000A00 03AE                   MOV.L       @(R0,R10),R3
    00000A02 420B                   JSR         @R2
    00000A04 3438                   SUB         R3,R4
      Monochrome   506                                    if(dy)
    00000A06 2008                   TST         R0,R0
    00000A08 8D3F                   BT/S        L958
    00000A0A 1F05                   MOV.L       R0,@(20,R15)




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   35


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

      Monochrome   507                                    {
      Monochrome   508                                            dx = x[(j+1)%nb_vertices]-x[j];
    00000A0C 51F1                   MOV.L       @(4,R15),R1
    00000A0E D25A                   MOV.L       L1283+4,R2 ; __modls
    00000A10 420B                   JSR         @R2
    00000A12 60B3                   MOV         R11,R0
    00000A14 53F4                   MOV.L       @(16,R15),R3
      Monochrome   509                                            cut_in_line[nb_cut] = x[j] + rnd(abs(i-y[j]+sgn(i-y[j])/2)*dx/dy);
    00000A16 64C3                   MOV         R12,R4
    00000A18 4008                   SHLL2       R0
    00000A1A 023E                   MOV.L       @(R0,R3),R2
    00000A1C 60F2                   MOV.L       @R15,R0
    00000A1E 013E                   MOV.L       @(R0,R3),R1
    00000A20 1F18                   MOV.L       R1,@(32,R15)
    00000A22 3218                   SUB         R1,R2
    00000A24 1F27                   MOV.L       R2,@(28,R15)
    00000A26 6193                   MOV         R9,R1
    00000A28 4108                   SHLL2       R1
    00000A2A 31DC                   ADD         R13,R1
    00000A2C 2F16                   MOV.L       R1,@-R15
    00000A2E 7FF8                   ADD         #-8,R15
    00000A30 50F3                   MOV.L       @(12,R15),R0
    00000A32 02AE                   MOV.L       @(R0,R10),R2
    00000A34 3428                   SUB         R2,R4
    00000A36 4411                   CMP/PZ      R4
    00000A38 8D02                   BT/S        L962
    00000A3A 1F2C                   MOV.L       R2,@(48,R15)
    00000A3C A001                   BRA         L963
    00000A3E E4FF                   MOV         #-1,R4
    00000A40              L962:                             
    00000A40 E401                   MOV         #1,R4
    00000A42              L963:                             
    00000A42 E300                   MOV         #0,R3
    00000A44 52FC                   MOV.L       @(48,R15),R2
    00000A46 3347                   CMP/GT      R4,R3
    00000A48 343E                   ADDC        R3,R4
    00000A4A 4421                   SHAR        R4
    00000A4C D34B                   MOV.L       L1283+8,R3 ; _abs
    00000A4E 3428                   SUB         R2,R4
    00000A50 430B                   JSR         @R3
    00000A52 34CC                   ADD         R12,R4
    00000A54 51FA                   MOV.L       @(40,R15),R1
    00000A56 0017                   MUL.L       R1,R0
    00000A58 D349                   MOV.L       L1283+12,R3; __divls
    00000A5A 011A                   STS         MACL,R1
    00000A5C 430B                   JSR         @R3
    00000A5E 50F8                   MOV.L       @(32,R15),R0
    00000A60 D248                   MOV.L       L1283+16,R2; __itod
    00000A62 7FF8                   ADD         #-8,R15
    00000A64 420B                   JSR         @R2
    00000A66 2FF6                   MOV.L       R15,@-R15
    00000A68 D148                   MOV.L       L1283+24,R1; __addd
    00000A6A E300                   MOV         #0,R3
    00000A6C 2F36                   MOV.L       R3,@-R15
    00000A6E D346                   MOV.L       L1283+20,R3; H'3FE00000
    00000A70 2F36                   MOV.L       R3,@-R15
    00000A72 62F3                   MOV         R15,R2




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   36


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00000A74 7210                   ADD         #16,R2
    00000A76 410B                   JSR         @R1
    00000A78 2F26                   MOV.L       R2,@-R15
    00000A7A D345                   MOV.L       L1283+28,R3; __dtoi
    00000A7C 430B                   JSR         @R3
    00000A7E 0009                   NOP
    00000A80 52F9                   MOV.L       @(36,R15),R2
      Monochrome   510                                            nb_cut++;
    00000A82 7901                   ADD         #1,R9
    00000A84 63F6                   MOV.L       @R15+,R3
    00000A86 302C                   ADD         R2,R0
    00000A88 2302                   MOV.L       R0,@R3
    00000A8A              L958:                             
    00000A8A 7E01                   ADD         #1,R14
    00000A8C 62F2                   MOV.L       @R15,R2
    00000A8E 3EB3                   CMP/GE      R11,R14
    00000A90 7204                   ADD         #4,R2
    00000A92 2F22                   MOV.L       R2,@R15
    00000A94 53F1                   MOV.L       @(4,R15),R3
    00000A96 7301                   ADD         #1,R3
    00000A98 1F31                   MOV.L       R3,@(4,R15)
    00000A9A 51F2                   MOV.L       @(8,R15),R1
    00000A9C 7101                   ADD         #1,R1
    00000A9E 8F8D                   BF/S        L957
    00000AA0 1F12                   MOV.L       R1,@(8,R15)
    00000AA2              L956:                             
      Monochrome   511                                    }
      Monochrome   512                            }
      Monochrome   513                    }
      Monochrome   514                    ML_filled_polygon_quicksord(cut_in_line, 0, nb_cut-1);
    00000AA2 6693                   MOV         R9,R6
    00000AA4 76FF                   ADD         #-1,R6
    00000AA6 E500                   MOV         #0,R5
    00000AA8 1F61                   MOV.L       R6,@(4,R15)
    00000AAA BF26                   BSR         __$ML_filled_polygon_quicksord
    00000AAC 64D3                   MOV         R13,R4
      Monochrome   515                    j = 0;
    00000AAE EE00                   MOV         #0,R14
    00000AB0 6493                   MOV         R9,R4
      Monochrome   516                    while(j<nb_cut-2 && cut_in_line[j]==cut_in_line[j+1]) j++;
    00000AB2 A001                   BRA         L964
    00000AB4 74FE                   ADD         #-2,R4
    00000AB6              L965:                             
    00000AB6 7E01                   ADD         #1,R14
    00000AB8              L964:                             
    00000AB8 3E43                   CMP/GE      R4,R14
    00000ABA 893B                   BT          L967
    00000ABC 60E3                   MOV         R14,R0
    00000ABE 4008                   SHLL2       R0
    00000AC0 03DE                   MOV.L       @(R0,R13),R3
    00000AC2 62E3                   MOV         R14,R2
    00000AC4 4208                   SHLL2       R2
    00000AC6 32DC                   ADD         R13,R2
    00000AC8 5121                   MOV.L       @(4,R2),R1
    00000ACA 3310                   CMP/EQ      R1,R3
    00000ACC 89F3                   BT          L965
      Monochrome   517                    while(j < nb_cut)




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   37


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00000ACE A031                   BRA         L967
    00000AD0 0009                   NOP
    00000AD2              L968:                             
    00000AD2 63E3                   MOV         R14,R3
    00000AD4 4308                   SHLL2       R3
    00000AD6 33DC                   ADD         R13,R3
    00000AD8 1F32                   MOV.L       R3,@(8,R15)
    00000ADA 52F1                   MOV.L       @(4,R15),R2
    00000ADC 3E20                   CMP/EQ      R2,R14
    00000ADE 8B0A                   BF          L969
      Monochrome   518                    {
      Monochrome   519                            if(j == nb_cut-1) ML_horizontal_line(i, cut_in_line[j-1]+1, cut_in_line[j], color)
                         +;
    00000AE0 57F3                   MOV.L       @(12,R15),R7
    00000AE2 60E3                   MOV         R14,R0
    00000AE4 6632                   MOV.L       @R3,R6
    00000AE6 70FF                   ADD         #-1,R0
    00000AE8 4008                   SHLL2       R0
    00000AEA 05DE                   MOV.L       @(R0,R13),R5
    00000AEC 7501                   ADD         #1,R5
    00000AEE BC27                   BSR         _ML_horizontal_line
    00000AF0 64C3                   MOV         R12,R4
    00000AF2 A01E                   BRA         L970
    00000AF4 0009                   NOP
    00000AF6              L969:                             
      Monochrome   520                            else
      Monochrome   521                            {
      Monochrome   522                                    dx = 1;
      Monochrome   523                                    while(j+dx<nb_cut-1 && cut_in_line[j+dx]==cut_in_line[j+dx+1]) dx++;
    00000AF6 A003                   BRA         L971
    00000AF8 2F82                   MOV.L       R8,@R15
    00000AFA              L972:                             
    00000AFA 63F2                   MOV.L       @R15,R3
    00000AFC 7301                   ADD         #1,R3
    00000AFE 2F32                   MOV.L       R3,@R15
    00000B00              L971:                             
    00000B00 64F2                   MOV.L       @R15,R4
    00000B02 34EC                   ADD         R14,R4
    00000B04 53F1                   MOV.L       @(4,R15),R3
    00000B06 3433                   CMP/GE      R3,R4
    00000B08 8908                   BT          L973
    00000B0A 6043                   MOV         R4,R0
    00000B0C 4008                   SHLL2       R0
    00000B0E 6243                   MOV         R4,R2
    00000B10 03DE                   MOV.L       @(R0,R13),R3
    00000B12 4208                   SHLL2       R2
    00000B14 32DC                   ADD         R13,R2
    00000B16 5121                   MOV.L       @(4,R2),R1
    00000B18 3310                   CMP/EQ      R1,R3
    00000B1A 89EE                   BT          L972
    00000B1C              L973:                             
      Monochrome   524                                    ML_horizontal_line(i, cut_in_line[j], cut_in_line[j+dx], color);
    00000B1C 57F3                   MOV.L       @(12,R15),R7
    00000B1E 60F2                   MOV.L       @R15,R0
    00000B20 55F2                   MOV.L       @(8,R15),R5
    00000B22 30EC                   ADD         R14,R0
    00000B24 6552                   MOV.L       @R5,R5




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   38


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00000B26 4008                   SHLL2       R0
    00000B28 06DE                   MOV.L       @(R0,R13),R6
    00000B2A BC09                   BSR         _ML_horizontal_line
    00000B2C 64C3                   MOV         R12,R4
      Monochrome   525                                    j += dx;
    00000B2E 62F2                   MOV.L       @R15,R2
    00000B30 3E2C                   ADD         R2,R14
    00000B32              L970:                             
      Monochrome   526                            }
      Monochrome   527                            j++;
    00000B32 7E01                   ADD         #1,R14
    00000B34              L967:                             
    00000B34 3E93                   CMP/GE      R9,R14
    00000B36 8BCC                   BF          L968
    00000B38 7C01                   ADD         #1,R12
    00000B3A              L954:                             
    00000B3A 52F6                   MOV.L       @(24,R15),R2
    00000B3C 3C27                   CMP/GT      R2,R12
    00000B3E 8901                   BT          L1285
    00000B40 AF34                   BRA         L955
    00000B42 0009                   NOP
    00000B44              L1285:                            
      Monochrome   528                    }
      Monochrome   529            }
      Monochrome   530            free(cut_in_line);
    00000B44 D213                   MOV.L       L1283+32,R2; _free
    00000B46 64D3                   MOV         R13,R4
    00000B48 7F28                   ADD         #40,R15
    00000B4A 4F16                   LDS.L       @R15+,MACL
    00000B4C 4F26                   LDS.L       @R15+,PR
    00000B4E 68F6                   MOV.L       @R15+,R8
    00000B50 69F6                   MOV.L       @R15+,R9
    00000B52 6AF6                   MOV.L       @R15+,R10
    00000B54 6BF6                   MOV.L       @R15+,R11
    00000B56 6CF6                   MOV.L       @R15+,R12
    00000B58 6DF6                   MOV.L       @R15+,R13
    00000B5A 422B                   JMP         @R2
    00000B5C 6EF6                   MOV.L       @R15+,R14
    00000B5E              L948:                             
      Monochrome   531    }
    00000B5E 7F28                   ADD         #40,R15
    00000B60 4F16                   LDS.L       @R15+,MACL
    00000B62 4F26                   LDS.L       @R15+,PR
    00000B64 68F6                   MOV.L       @R15+,R8
    00000B66 69F6                   MOV.L       @R15+,R9
    00000B68 6AF6                   MOV.L       @R15+,R10
    00000B6A 6BF6                   MOV.L       @R15+,R11
    00000B6C 6CF6                   MOV.L       @R15+,R12
    00000B6E 6DF6                   MOV.L       @R15+,R13
    00000B70 000B                   RTS
    00000B72 6EF6                   MOV.L       @R15+,R14
    00000B74              L1283:                            
    00000B74 <00000000>             .DATA.L     _malloc
    00000B78 <00000000>             .DATA.L     __modls
    00000B7C <00000000>             .DATA.L     _abs
    00000B80 <00000000>             .DATA.L     __divls
    00000B84 <00000000>             .DATA.L     __itod




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   39


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00000B88 3FE00000               .DATA.L     H'3FE00000
    00000B8C <00000000>             .DATA.L     __addd
    00000B90 <00000000>             .DATA.L     __dtoi
    00000B94 <00000000>             .DATA.L     _free
      Monochrome   532    #endif
      Monochrome   533    
      Monochrome   534    #ifdef ML_CIRCLE
      Monochrome   535    void ML_circle(int x, int y, int radius, ML_Color color)
    00000B98              _ML_circle:                      ; function: ML_circle
                                                           ; frame size=40
    00000B98 2FE6                   MOV.L       R14,@-R15
    00000B9A 2FD6                   MOV.L       R13,@-R15
    00000B9C 2FC6                   MOV.L       R12,@-R15
    00000B9E 2FB6                   MOV.L       R11,@-R15
    00000BA0 2FA6                   MOV.L       R10,@-R15
    00000BA2 6B53                   MOV         R5,R11
    00000BA4 2F96                   MOV.L       R9,@-R15
    00000BA6 6A43                   MOV         R4,R10
    00000BA8 2F86                   MOV.L       R8,@-R15
    00000BAA 6863                   MOV         R6,R8
    00000BAC 4F22                   STS.L       PR,@-R15
      Monochrome   536    {
      Monochrome   537            int plot_x, plot_y, d;
      Monochrome   538    
      Monochrome   539            if(radius < 0) return;
    00000BAE 4811                   CMP/PZ      R8
    00000BB0 7FF8                   ADD         #-8,R15
    00000BB2 8F60                   BF/S        L975
    00000BB4 6C73                   MOV         R7,R12
      Monochrome   540            plot_x = 0;
    00000BB6 ED00                   MOV         #0,R13
      Monochrome   541            plot_y = radius;
    00000BB8 6E83                   MOV         R8,R14
      Monochrome   542            d = 1 - radius;
    00000BBA E901                   MOV         #1,R9
    00000BBC 3988                   SUB         R8,R9
      Monochrome   543    
      Monochrome   544            ML_pixel(x, y+plot_y, color);
    00000BBE 66C3                   MOV         R12,R6
    00000BC0 65B3                   MOV         R11,R5
    00000BC2 35EC                   ADD         R14,R5
    00000BC4 BA9C                   BSR         _ML_pixel
    00000BC6 64A3                   MOV         R10,R4
      Monochrome   545            if(radius)
    00000BC8 2888                   TST         R8,R8
    00000BCA 890E                   BT          L976
      Monochrome   546            {
      Monochrome   547                    ML_pixel(x, y-plot_y, color);
    00000BCC 66C3                   MOV         R12,R6
    00000BCE 65B3                   MOV         R11,R5
    00000BD0 35E8                   SUB         R14,R5
    00000BD2 BA95                   BSR         _ML_pixel
    00000BD4 64A3                   MOV         R10,R4
      Monochrome   548                    ML_pixel(x+plot_y, y, color);
    00000BD6 66C3                   MOV         R12,R6
    00000BD8 65B3                   MOV         R11,R5
    00000BDA 64A3                   MOV         R10,R4




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   40


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00000BDC BA90                   BSR         _ML_pixel
    00000BDE 34EC                   ADD         R14,R4
      Monochrome   549                    ML_pixel(x-plot_y, y, color);
    00000BE0 66C3                   MOV         R12,R6
    00000BE2 65B3                   MOV         R11,R5
    00000BE4 64A3                   MOV         R10,R4
    00000BE6 BA8B                   BSR         _ML_pixel
    00000BE8 34E8                   SUB         R14,R4
    00000BEA              L976:                             
      Monochrome   550            }
      Monochrome   551            while(plot_y > plot_x)
    00000BEA 4E15                   CMP/PL      R14
    00000BEC 8B43                   BF          L975
    00000BEE              L978:                             
      Monochrome   552            {
      Monochrome   553                    if(d < 0)
    00000BEE 4911                   CMP/PZ      R9
    00000BF0 8904                   BT          L979
      Monochrome   554                            d += 2*plot_x+3;
    00000BF2 63D3                   MOV         R13,R3
    00000BF4 4300                   SHLL        R3
    00000BF6 7303                   ADD         #3,R3
    00000BF8 A006                   BRA         L980
    00000BFA 393C                   ADD         R3,R9
    00000BFC              L979:                             
      Monochrome   555                    else
      Monochrome   556                    {
      Monochrome   557                            d += 2*(plot_x-plot_y)+5;
    00000BFC 63D3                   MOV         R13,R3
    00000BFE 33E8                   SUB         R14,R3
    00000C00 4300                   SHLL        R3
    00000C02 7305                   ADD         #5,R3
    00000C04 393C                   ADD         R3,R9
      Monochrome   558                            plot_y--;
    00000C06 7EFF                   ADD         #-1,R14
    00000C08              L980:                             
      Monochrome   559                    }
      Monochrome   560                    plot_x++;
    00000C08 7D01                   ADD         #1,R13
      Monochrome   561                    if(plot_y >= plot_x)
    00000C0A 3ED3                   CMP/GE      R13,R14
    00000C0C 8B17                   BF          L981
      Monochrome   562                    {
      Monochrome   563                            ML_pixel(x+plot_x, y+plot_y, color);
    00000C0E 66C3                   MOV         R12,R6
    00000C10 65B3                   MOV         R11,R5
    00000C12 35EC                   ADD         R14,R5
    00000C14 2F52                   MOV.L       R5,@R15
    00000C16 64A3                   MOV         R10,R4
    00000C18 34DC                   ADD         R13,R4
    00000C1A BA71                   BSR         _ML_pixel
    00000C1C 1F41                   MOV.L       R4,@(4,R15)
      Monochrome   564                            ML_pixel(x-plot_x, y+plot_y, color);
    00000C1E 66C3                   MOV         R12,R6
    00000C20 65F2                   MOV.L       @R15,R5
    00000C22 68A3                   MOV         R10,R8
    00000C24 38D8                   SUB         R13,R8




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   41


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00000C26 BA6B                   BSR         _ML_pixel
    00000C28 6483                   MOV         R8,R4
      Monochrome   565                            ML_pixel(x+plot_x, y-plot_y, color);
    00000C2A 66C3                   MOV         R12,R6
    00000C2C 65B3                   MOV         R11,R5
    00000C2E 35E8                   SUB         R14,R5
    00000C30 2F52                   MOV.L       R5,@R15
    00000C32 BA65                   BSR         _ML_pixel
    00000C34 54F1                   MOV.L       @(4,R15),R4
      Monochrome   566                            ML_pixel(x-plot_x, y-plot_y, color);
    00000C36 66C3                   MOV         R12,R6
    00000C38 65F2                   MOV.L       @R15,R5
    00000C3A BA61                   BSR         _ML_pixel
    00000C3C 6483                   MOV         R8,R4
    00000C3E              L981:                             
      Monochrome   567                    }
      Monochrome   568                    if(plot_y > plot_x)
    00000C3E 3ED7                   CMP/GT      R13,R14
    00000C40 8B17                   BF          L982
      Monochrome   569                    {
      Monochrome   570                            ML_pixel(x+plot_y, y+plot_x, color);
    00000C42 66C3                   MOV         R12,R6
    00000C44 65B3                   MOV         R11,R5
    00000C46 35DC                   ADD         R13,R5
    00000C48 2F52                   MOV.L       R5,@R15
    00000C4A 64A3                   MOV         R10,R4
    00000C4C 34EC                   ADD         R14,R4
    00000C4E BA57                   BSR         _ML_pixel
    00000C50 1F41                   MOV.L       R4,@(4,R15)
      Monochrome   571                            ML_pixel(x-plot_y, y+plot_x, color);
    00000C52 66C3                   MOV         R12,R6
    00000C54 65F2                   MOV.L       @R15,R5
    00000C56 68A3                   MOV         R10,R8
    00000C58 38E8                   SUB         R14,R8
    00000C5A BA51                   BSR         _ML_pixel
    00000C5C 6483                   MOV         R8,R4
      Monochrome   572                            ML_pixel(x+plot_y, y-plot_x, color);
    00000C5E 66C3                   MOV         R12,R6
    00000C60 65B3                   MOV         R11,R5
    00000C62 35D8                   SUB         R13,R5
    00000C64 2F52                   MOV.L       R5,@R15
    00000C66 BA4B                   BSR         _ML_pixel
    00000C68 54F1                   MOV.L       @(4,R15),R4
      Monochrome   573                            ML_pixel(x-plot_y, y-plot_x, color);
    00000C6A 66C3                   MOV         R12,R6
    00000C6C 65F2                   MOV.L       @R15,R5
    00000C6E BA47                   BSR         _ML_pixel
    00000C70 6483                   MOV         R8,R4
    00000C72              L982:                             
    00000C72 3ED7                   CMP/GT      R13,R14
    00000C74 89BB                   BT          L978
    00000C76              L975:                             
      Monochrome   574                    }
      Monochrome   575            }
      Monochrome   576    }
    00000C76 7F08                   ADD         #8,R15
    00000C78 4F26                   LDS.L       @R15+,PR




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   42


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00000C7A 68F6                   MOV.L       @R15+,R8
    00000C7C 69F6                   MOV.L       @R15+,R9
    00000C7E 6AF6                   MOV.L       @R15+,R10
    00000C80 6BF6                   MOV.L       @R15+,R11
    00000C82 6CF6                   MOV.L       @R15+,R12
    00000C84 6DF6                   MOV.L       @R15+,R13
    00000C86 000B                   RTS
    00000C88 6EF6                   MOV.L       @R15+,R14
      Monochrome   577    #endif
      Monochrome   578    
      Monochrome   579    #ifdef ML_FILLED_CIRCLE
      Monochrome   580    void ML_filled_circle(int x, int y, int radius, ML_Color color)
    00000C8A              _ML_filled_circle:               ; function: ML_filled_circle
                                                           ; frame size=36
      Monochrome   581    {
      Monochrome   582            int plot_x, plot_y, d;
      Monochrome   583    
      Monochrome   584            if(radius < 0) return;
    00000C8A 4611                   CMP/PZ      R6
    00000C8C 2FE6                   MOV.L       R14,@-R15
    00000C8E 2FD6                   MOV.L       R13,@-R15
    00000C90 2FC6                   MOV.L       R12,@-R15
    00000C92 6C43                   MOV         R4,R12
    00000C94 2FB6                   MOV.L       R11,@-R15
    00000C96 2FA6                   MOV.L       R10,@-R15
    00000C98 2F96                   MOV.L       R9,@-R15
    00000C9A 6A53                   MOV         R5,R10
    00000C9C 2F86                   MOV.L       R8,@-R15
    00000C9E 4F22                   STS.L       PR,@-R15
    00000CA0 7FFC                   ADD         #-4,R15
    00000CA2 8F41                   BF/S        L984
    00000CA4 6B73                   MOV         R7,R11
      Monochrome   585            plot_x = 0;
    00000CA6 ED00                   MOV         #0,R13
      Monochrome   586            plot_y = radius;
    00000CA8 6E63                   MOV         R6,R14
      Monochrome   587            d = 1 - radius;
    00000CAA E901                   MOV         #1,R9
    00000CAC 3968                   SUB         R6,R9
      Monochrome   588    
      Monochrome   589            ML_horizontal_line(y, x-plot_y, x+plot_y, color);
    00000CAE 67B3                   MOV         R11,R7
    00000CB0 66C3                   MOV         R12,R6
    00000CB2 36EC                   ADD         R14,R6
    00000CB4 65C3                   MOV         R12,R5
    00000CB6 35E8                   SUB         R14,R5
    00000CB8 BB42                   BSR         _ML_horizontal_line
    00000CBA 64A3                   MOV         R10,R4
      Monochrome   590            while(plot_y > plot_x)
    00000CBC 4E15                   CMP/PL      R14
    00000CBE 8B33                   BF          L984
    00000CC0              L986:                             
      Monochrome   591            {
      Monochrome   592                    if(d < 0)
    00000CC0 4911                   CMP/PZ      R9
    00000CC2 8904                   BT          L987
      Monochrome   593                            d += 2*plot_x+3;




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   43


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00000CC4 63D3                   MOV         R13,R3
    00000CC6 4300                   SHLL        R3
    00000CC8 7303                   ADD         #3,R3
    00000CCA A018                   BRA         L988
    00000CCC 393C                   ADD         R3,R9
    00000CCE              L987:                             
      Monochrome   594                    else {
      Monochrome   595                            d += 2*(plot_x-plot_y)+5;
    00000CCE 63D3                   MOV         R13,R3
    00000CD0 33E8                   SUB         R14,R3
    00000CD2 4300                   SHLL        R3
    00000CD4 7305                   ADD         #5,R3
    00000CD6 393C                   ADD         R3,R9
      Monochrome   596                            plot_y--;
    00000CD8 7EFF                   ADD         #-1,R14
      Monochrome   597                            ML_horizontal_line(y+plot_y+1, x-plot_x, x+plot_x, color);
    00000CDA 67B3                   MOV         R11,R7
    00000CDC 68C3                   MOV         R12,R8
    00000CDE 38DC                   ADD         R13,R8
    00000CE0 6683                   MOV         R8,R6
    00000CE2 65C3                   MOV         R12,R5
    00000CE4 35D8                   SUB         R13,R5
    00000CE6 64A3                   MOV         R10,R4
    00000CE8 2F52                   MOV.L       R5,@R15
    00000CEA 34EC                   ADD         R14,R4
    00000CEC BB28                   BSR         _ML_horizontal_line
    00000CEE 7401                   ADD         #1,R4
      Monochrome   598                            ML_horizontal_line(y-plot_y-1, x-plot_x, x+plot_x, color);
    00000CF0 65F2                   MOV.L       @R15,R5
    00000CF2 64A3                   MOV         R10,R4
    00000CF4 67B3                   MOV         R11,R7
    00000CF6 6683                   MOV         R8,R6
    00000CF8 34E8                   SUB         R14,R4
    00000CFA BB21                   BSR         _ML_horizontal_line
    00000CFC 74FF                   ADD         #-1,R4
    00000CFE              L988:                             
      Monochrome   599                    }
      Monochrome   600                    plot_x++;
    00000CFE 7D01                   ADD         #1,R13
      Monochrome   601                    if(plot_y >= plot_x)
    00000D00 3ED3                   CMP/GE      R13,R14
    00000D02 8B0F                   BF          L989
      Monochrome   602                    {
      Monochrome   603                            ML_horizontal_line(y+plot_x, x-plot_y, x+plot_y, color);
    00000D04 67B3                   MOV         R11,R7
    00000D06 66C3                   MOV         R12,R6
    00000D08 36EC                   ADD         R14,R6
    00000D0A 68C3                   MOV         R12,R8
    00000D0C 2F62                   MOV.L       R6,@R15
    00000D0E 64A3                   MOV         R10,R4
    00000D10 38E8                   SUB         R14,R8
    00000D12 6583                   MOV         R8,R5
    00000D14 BB14                   BSR         _ML_horizontal_line
    00000D16 34DC                   ADD         R13,R4
      Monochrome   604                            ML_horizontal_line(y-plot_x, x-plot_y, x+plot_y, color);
    00000D18 66F2                   MOV.L       @R15,R6
    00000D1A 6583                   MOV         R8,R5




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   44


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00000D1C 67B3                   MOV         R11,R7
    00000D1E 64A3                   MOV         R10,R4
    00000D20 BB0E                   BSR         _ML_horizontal_line
    00000D22 34D8                   SUB         R13,R4
    00000D24              L989:                             
    00000D24 3ED7                   CMP/GT      R13,R14
    00000D26 89CB                   BT          L986
    00000D28              L984:                             
      Monochrome   605                    }
      Monochrome   606            }
      Monochrome   607    }
    00000D28 7F04                   ADD         #4,R15
    00000D2A 4F26                   LDS.L       @R15+,PR
    00000D2C 68F6                   MOV.L       @R15+,R8
    00000D2E 69F6                   MOV.L       @R15+,R9
    00000D30 6AF6                   MOV.L       @R15+,R10
    00000D32 6BF6                   MOV.L       @R15+,R11
    00000D34 6CF6                   MOV.L       @R15+,R12
    00000D36 6DF6                   MOV.L       @R15+,R13
    00000D38 000B                   RTS
    00000D3A 6EF6                   MOV.L       @R15+,R14
      Monochrome   608    #endif
      Monochrome   609    
      Monochrome   610    #ifdef ML_ELLIPSE
      Monochrome   611    void ML_ellipse(int x, int y, int radius1, int radius2, ML_Color color)
    00000D3C              _ML_ellipse:                     ; function: ML_ellipse
                                                           ; frame size=128
                                                           ; used runtime library name:
                                                           ; __adds, __addd, __subdr, __muld, __dtos, __itos, __itod, __gtd, __lts
    00000D3C 2FE6                   MOV.L       R14,@-R15
    00000D3E 2FD6                   MOV.L       R13,@-R15
    00000D40 2FC6                   MOV.L       R12,@-R15
    00000D42 6C73                   MOV         R7,R12
    00000D44 2FB6                   MOV.L       R11,@-R15
    00000D46 2FA6                   MOV.L       R10,@-R15
    00000D48 2F96                   MOV.L       R9,@-R15
    00000D4A 6A63                   MOV         R6,R10
    00000D4C 2F86                   MOV.L       R8,@-R15
    00000D4E 6953                   MOV         R5,R9
    00000D50 4F22                   STS.L       PR,@-R15
    00000D52 6843                   MOV         R4,R8
    00000D54 4F12                   STS.L       MACL,@-R15
      Monochrome   612    {
      Monochrome   613            int plot_x, plot_y;
      Monochrome   614            float d1, d2;
      Monochrome   615            if(radius1 < 1 || radius2 < 1) return;
    00000D56 E401                   MOV         #1,R4
    00000D58 7FE8                   ADD         #-24,R15
    00000D5A 3A43                   CMP/GE      R4,R10
    00000D5C 8D02                   BT/S        L1286
    00000D5E 5BFF                   MOV.L       @(60,R15),R11
    00000D60 A13A                   BRA         L992
    00000D62 0009                   NOP
    00000D64              L1286:                            
    00000D64 3C43                   CMP/GE      R4,R12
    00000D66 8901                   BT          L1287
    00000D68 A136                   BRA         L992




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   45


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00000D6A 0009                   NOP
    00000D6C              L1287:                            
      Monochrome   616            plot_x = 0;
      Monochrome   617            plot_y = radius2;
      Monochrome   618            d1 = radius2*radius2 - radius1*radius1*radius2 + radius1*radius1/4;
    00000D6C 0AA7                   MUL.L       R10,R10
    00000D6E ED00                   MOV         #0,R13
    00000D70 6EC3                   MOV         R12,R14
    00000D72 001A                   STS         MACL,R0
    00000D74 4011                   CMP/PZ      R0
    00000D76 8D01                   BT/S        L993
    00000D78 1F02                   MOV.L       R0,@(8,R15)
    00000D7A 7003                   ADD         #3,R0
    00000D7C              L993:                             
    00000D7C 52F2                   MOV.L       @(8,R15),R2
    00000D7E 4021                   SHAR        R0
    00000D80 02C7                   MUL.L       R12,R2
    00000D82 4021                   SHAR        R0
    00000D84 021A                   STS         MACL,R2
    00000D86 3028                   SUB         R2,R0
    00000D88 0CC7                   MUL.L       R12,R12
    00000D8A 031A                   STS         MACL,R3
    00000D8C 1F35                   MOV.L       R3,@(20,R15)
    00000D8E D212                   MOV.L       L1288+2,R2 ; __itos
    00000D90 420B                   JSR         @R2
    00000D92 303C                   ADD         R3,R0
    00000D94 2F02                   MOV.L       R0,@R15
      Monochrome   619            ML_pixel(x, y+plot_y, color);
    00000D96 66B3                   MOV         R11,R6
    00000D98 6593                   MOV         R9,R5
    00000D9A 35EC                   ADD         R14,R5
    00000D9C B9B0                   BSR         _ML_pixel
    00000D9E 6483                   MOV         R8,R4
      Monochrome   620            ML_pixel(x, y-plot_y, color);
    00000DA0 66B3                   MOV         R11,R6
    00000DA2 6593                   MOV         R9,R5
    00000DA4 35E8                   SUB         R14,R5
      Monochrome   621            while(radius1*radius1*(plot_y-.5) > radius2*radius2*(plot_x+1))
    00000DA6 A045                   BRA         L1266
    00000DA8 6483                   MOV         R8,R4
    00000DAA              L995:                             
    00000DAA 64D3                   MOV         R13,R4
    00000DAC 61F2                   MOV.L       @R15,R1
    00000DAE 4400                   SHLL        R4
    00000DB0 D30A                   MOV.L       L1288+6,R3 ; __lts
    00000DB2 7403                   ADD         #3,R4
    00000DB4 04C7                   MUL.L       R12,R4
    00000DB6 041A                   STS         MACL,R4
    00000DB8 04C7                   MUL.L       R12,R4
    00000DBA 041A                   STS         MACL,R4
    00000DBC 430B                   JSR         @R3
    00000DBE E000                   MOV         #0,R0
    00000DC0 8800                   CMP/EQ      #0,R0
    00000DC2 890F                   BT          L996
      Monochrome   622            {
      Monochrome   623                    if(d1 < 0)
      Monochrome   624                    {




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   46


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

      Monochrome   625                            d1 += radius2*radius2*(2*plot_x+3);
    00000DC4 D204                   MOV.L       L1288+2,R2 ; __itos
    00000DC6 420B                   JSR         @R2
    00000DC8 6043                   MOV         R4,R0
    00000DCA D305                   MOV.L       L1288+10,R3; __adds
    00000DCC 430B                   JSR         @R3
    00000DCE 61F2                   MOV.L       @R15,R1
    00000DD0 2F02                   MOV.L       R0,@R15
      Monochrome   626                            plot_x++;
    00000DD2 A018                   BRA         L997
    00000DD4 7D01                   ADD         #1,R13
    00000DD6              L1288:                            
    00000DD6 0000                   .DATA.W     0
    00000DD8 <00000000>             .DATA.L     __itos
    00000DDC <00000000>             .DATA.L     __lts
    00000DE0 <00000000>             .DATA.L     __adds
    00000DE4              L996:                             
      Monochrome   627                    } else {
      Monochrome   628                            d1 += radius2*radius2*(2*plot_x+3) + radius1*radius1*(-2*plot_y+2);
    00000DE4 D3BA                   MOV.L       L1289+2,R3 ; __itos
    00000DE6 62E3                   MOV         R14,R2
    00000DE8 4200                   SHLL        R2
    00000DEA E002                   MOV         #2,R0
    00000DEC 3028                   SUB         R2,R0
    00000DEE 00A7                   MUL.L       R10,R0
    00000DF0 001A                   STS         MACL,R0
    00000DF2 00A7                   MUL.L       R10,R0
    00000DF4 001A                   STS         MACL,R0
    00000DF6 430B                   JSR         @R3
    00000DF8 304C                   ADD         R4,R0
    00000DFA D2B6                   MOV.L       L1289+6,R2 ; __adds
    00000DFC 420B                   JSR         @R2
    00000DFE 61F2                   MOV.L       @R15,R1
    00000E00 2F02                   MOV.L       R0,@R15
      Monochrome   629                            plot_x++;
    00000E02 7D01                   ADD         #1,R13
      Monochrome   630                            plot_y--;
    00000E04 7EFF                   ADD         #-1,R14
    00000E06              L997:                             
      Monochrome   631                    }
      Monochrome   632                    ML_pixel(x+plot_x, y+plot_y, color);
    00000E06 66B3                   MOV         R11,R6
    00000E08 6593                   MOV         R9,R5
    00000E0A 35EC                   ADD         R14,R5
    00000E0C 1F51                   MOV.L       R5,@(4,R15)
    00000E0E 6483                   MOV         R8,R4
    00000E10 34DC                   ADD         R13,R4
    00000E12 B975                   BSR         _ML_pixel
    00000E14 1F43                   MOV.L       R4,@(12,R15)
      Monochrome   633                    ML_pixel(x-plot_x, y+plot_y, color);
    00000E16 66B3                   MOV         R11,R6
    00000E18 55F1                   MOV.L       @(4,R15),R5
    00000E1A 6483                   MOV         R8,R4
    00000E1C 34D8                   SUB         R13,R4
    00000E1E B96F                   BSR         _ML_pixel
    00000E20 1F44                   MOV.L       R4,@(16,R15)
      Monochrome   634                    ML_pixel(x+plot_x, y-plot_y, color);




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   47


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00000E22 66B3                   MOV         R11,R6
    00000E24 6593                   MOV         R9,R5
    00000E26 35E8                   SUB         R14,R5
    00000E28 1F51                   MOV.L       R5,@(4,R15)
    00000E2A B969                   BSR         _ML_pixel
    00000E2C 54F3                   MOV.L       @(12,R15),R4
      Monochrome   635                    ML_pixel(x-plot_x, y-plot_y, color);
    00000E2E 66B3                   MOV         R11,R6
    00000E30 55F1                   MOV.L       @(4,R15),R5
    00000E32 54F4                   MOV.L       @(16,R15),R4
    00000E34              L1266:                            
    00000E34 B964                   BSR         _ML_pixel
    00000E36 0009                   NOP
    00000E38 D2A7                   MOV.L       L1289+10,R2; __itod
    00000E3A 7FF8                   ADD         #-8,R15
    00000E3C 50F4                   MOV.L       @(16,R15),R0
    00000E3E 7FF8                   ADD         #-8,R15
    00000E40 420B                   JSR         @R2
    00000E42 2FF6                   MOV.L       R15,@-R15
    00000E44 D3A4                   MOV.L       L1289+10,R3; __itod
    00000E46 60E3                   MOV         R14,R0
    00000E48 7FF0                   ADD         #-16,R15
    00000E4A 430B                   JSR         @R3
    00000E4C 2FF6                   MOV.L       R15,@-R15
    00000E4E E200                   MOV         #0,R2
    00000E50 D1A3                   MOV.L       L1289+18,R1; __addd
    00000E52 2F26                   MOV.L       R2,@-R15
    00000E54 D2A1                   MOV.L       L1289+14,R2; H'BFE00000
    00000E56 2F26                   MOV.L       R2,@-R15
    00000E58 63F3                   MOV         R15,R3
    00000E5A 7310                   ADD         #16,R3
    00000E5C 410B                   JSR         @R1
    00000E5E 2F36                   MOV.L       R3,@-R15
    00000E60 D0A0                   MOV.L       L1289+22,R0; __muld
    00000E62 62F3                   MOV         R15,R2
    00000E64 7210                   ADD         #16,R2
    00000E66 400B                   JSR         @R0
    00000E68 2F26                   MOV.L       R2,@-R15
    00000E6A 60D3                   MOV         R13,R0
    00000E6C D39A                   MOV.L       L1289+10,R3; __itod
    00000E6E 7FF8                   ADD         #-8,R15
    00000E70 7001                   ADD         #1,R0
    00000E72 00C7                   MUL.L       R12,R0
    00000E74 001A                   STS         MACL,R0
    00000E76 00C7                   MUL.L       R12,R0
    00000E78 001A                   STS         MACL,R0
    00000E7A 430B                   JSR         @R3
    00000E7C 2FF6                   MOV.L       R15,@-R15
    00000E7E D29A                   MOV.L       L1289+26,R2; __gtd
    00000E80 420B                   JSR         @R2
    00000E82 0009                   NOP
    00000E84 8800                   CMP/EQ      #0,R0
    00000E86 8B90                   BF          L995
      Monochrome   636            }
      Monochrome   637            d2 = radius2*radius2*(plot_x+.5)*(plot_x+.5) + radius1*radius1*(plot_y-1)*(plot_y-1) - radius1*rad
                         +ius1*radius2*radius2;
    00000E88 D393                   MOV.L       L1289+10,R3; __itod




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   48


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00000E8A 7FE0                   ADD         #-32,R15
    00000E8C 50FD                   MOV.L       @(52,R15),R0
    00000E8E 7FF8                   ADD         #-8,R15
    00000E90 430B                   JSR         @R3
    00000E92 2FF6                   MOV.L       R15,@-R15
    00000E94 D290                   MOV.L       L1289+10,R2; __itod
    00000E96 60D3                   MOV         R13,R0
    00000E98 7FF0                   ADD         #-16,R15
    00000E9A 420B                   JSR         @R2
    00000E9C 2FF6                   MOV.L       R15,@-R15
    00000E9E E300                   MOV         #0,R3
    00000EA0 D18F                   MOV.L       L1289+18,R1; __addd
    00000EA2 2F36                   MOV.L       R3,@-R15
    00000EA4 D391                   MOV.L       L1289+30,R3; H'3FE00000
    00000EA6 2F36                   MOV.L       R3,@-R15
    00000EA8 62F3                   MOV         R15,R2
    00000EAA 7210                   ADD         #16,R2
    00000EAC 410B                   JSR         @R1
    00000EAE 2F26                   MOV.L       R2,@-R15
    00000EB0 D08C                   MOV.L       L1289+22,R0; __muld
    00000EB2 63F3                   MOV         R15,R3
    00000EB4 7310                   ADD         #16,R3
    00000EB6 400B                   JSR         @R0
    00000EB8 2F36                   MOV.L       R3,@-R15
    00000EBA 60D3                   MOV         R13,R0
    00000EBC D286                   MOV.L       L1289+10,R2; __itod
    00000EBE 7FF0                   ADD         #-16,R15
    00000EC0 420B                   JSR         @R2
    00000EC2 2FF6                   MOV.L       R15,@-R15
    00000EC4 D186                   MOV.L       L1289+18,R1; __addd
    00000EC6 E300                   MOV         #0,R3
    00000EC8 2F36                   MOV.L       R3,@-R15
    00000ECA D388                   MOV.L       L1289+30,R3; H'3FE00000
    00000ECC 2F36                   MOV.L       R3,@-R15
    00000ECE 62F3                   MOV         R15,R2
    00000ED0 7210                   ADD         #16,R2
    00000ED2 410B                   JSR         @R1
    00000ED4 2F26                   MOV.L       R2,@-R15
    00000ED6 63F3                   MOV         R15,R3
    00000ED8 D082                   MOV.L       L1289+22,R0; __muld
    00000EDA 7310                   ADD         #16,R3
    00000EDC 400B                   JSR         @R0
    00000EDE 2F36                   MOV.L       R3,@-R15
    00000EE0 D37D                   MOV.L       L1289+10,R3; __itod
    00000EE2 64E3                   MOV         R14,R4
    00000EE4 74FF                   ADD         #-1,R4
    00000EE6 7FF8                   ADD         #-8,R15
    00000EE8 0447                   MUL.L       R4,R4
    00000EEA 001A                   STS         MACL,R0
    00000EEC 00A7                   MUL.L       R10,R0
    00000EEE 001A                   STS         MACL,R0
    00000EF0 00A7                   MUL.L       R10,R0
    00000EF2 001A                   STS         MACL,R0
    00000EF4 430B                   JSR         @R3
    00000EF6 2FF6                   MOV.L       R15,@-R15
    00000EF8 D179                   MOV.L       L1289+18,R1; __addd
    00000EFA 62F3                   MOV         R15,R2




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   49


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00000EFC 7210                   ADD         #16,R2
    00000EFE 410B                   JSR         @R1
    00000F00 2F26                   MOV.L       R2,@-R15
    00000F02 50F6                   MOV.L       @(24,R15),R0
    00000F04 D374                   MOV.L       L1289+10,R3; __itod
    00000F06 7FF8                   ADD         #-8,R15
    00000F08 00C7                   MUL.L       R12,R0
    00000F0A 001A                   STS         MACL,R0
    00000F0C 00C7                   MUL.L       R12,R0
    00000F0E 001A                   STS         MACL,R0
    00000F10 430B                   JSR         @R3
    00000F12 2FF6                   MOV.L       R15,@-R15
    00000F14 D176                   MOV.L       L1289+34,R1; __subdr
    00000F16 62F3                   MOV         R15,R2
    00000F18 7210                   ADD         #16,R2
    00000F1A 410B                   JSR         @R1
    00000F1C 2F26                   MOV.L       R2,@-R15
    00000F1E D375                   MOV.L       L1289+38,R3; __dtos
    00000F20 430B                   JSR         @R3
    00000F22 0009                   NOP
    00000F24 2F02                   MOV.L       R0,@R15
    00000F26 6483                   MOV         R8,R4
    00000F28 34D8                   SUB         R13,R4
    00000F2A 6383                   MOV         R8,R3
    00000F2C 1F42                   MOV.L       R4,@(8,R15)
      Monochrome   638            while(plot_y > 0)
    00000F2E 4E15                   CMP/PL      R14
    00000F30 33DC                   ADD         R13,R3
    00000F32 1F31                   MOV.L       R3,@(4,R15)
    00000F34 8F50                   BF/S        L992
    00000F36 1F44                   MOV.L       R4,@(16,R15)
    00000F38              L999:                             
      Monochrome   639            {
      Monochrome   640                    if(d2 < 0)
    00000F38 61F2                   MOV.L       @R15,R1
    00000F3A D36F                   MOV.L       L1289+42,R3; __lts
    00000F3C 430B                   JSR         @R3
    00000F3E E000                   MOV         #0,R0
    00000F40 8800                   CMP/EQ      #0,R0
    00000F42 8921                   BT          L1000
      Monochrome   641                    {
      Monochrome   642                            d2 += radius2*radius2*(2*plot_x+2) + radius1*radius1*(-2*plot_y+3);
    00000F44 60D3                   MOV         R13,R0
    00000F46 4000                   SHLL        R0
    00000F48 7002                   ADD         #2,R0
    00000F4A 63E3                   MOV         R14,R3
    00000F4C 00C7                   MUL.L       R12,R0
    00000F4E E203                   MOV         #3,R2
    00000F50 001A                   STS         MACL,R0
    00000F52 4300                   SHLL        R3
    00000F54 00C7                   MUL.L       R12,R0
    00000F56 3238                   SUB         R3,R2
    00000F58 D35D                   MOV.L       L1289+2,R3 ; __itos
    00000F5A 001A                   STS         MACL,R0
    00000F5C 02A7                   MUL.L       R10,R2
    00000F5E 021A                   STS         MACL,R2
    00000F60 02A7                   MUL.L       R10,R2




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   50


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00000F62 021A                   STS         MACL,R2
    00000F64 430B                   JSR         @R3
    00000F66 302C                   ADD         R2,R0
    00000F68 D25A                   MOV.L       L1289+6,R2 ; __adds
    00000F6A 420B                   JSR         @R2
    00000F6C 61F2                   MOV.L       @R15,R1
      Monochrome   643                            plot_y--;
    00000F6E 7EFF                   ADD         #-1,R14
    00000F70 2F02                   MOV.L       R0,@R15
      Monochrome   644                            plot_x++;
    00000F72 7D01                   ADD         #1,R13
    00000F74 53F2                   MOV.L       @(8,R15),R3
    00000F76 73FF                   ADD         #-1,R3
    00000F78 1F32                   MOV.L       R3,@(8,R15)
    00000F7A 52F1                   MOV.L       @(4,R15),R2
    00000F7C 7201                   ADD         #1,R2
    00000F7E 1F21                   MOV.L       R2,@(4,R15)
    00000F80 51F4                   MOV.L       @(16,R15),R1
    00000F82 71FF                   ADD         #-1,R1
    00000F84 A00F                   BRA         L1001
    00000F86 1F14                   MOV.L       R1,@(16,R15)
    00000F88              L1000:                            
      Monochrome   645                    } else {
      Monochrome   646                            d2 += radius1*radius1*(-2*plot_y+3);
    00000F88 D351                   MOV.L       L1289+2,R3 ; __itos
    00000F8A 62E3                   MOV         R14,R2
    00000F8C 4200                   SHLL        R2
    00000F8E E003                   MOV         #3,R0
    00000F90 3028                   SUB         R2,R0
    00000F92 00A7                   MUL.L       R10,R0
    00000F94 001A                   STS         MACL,R0
    00000F96 00A7                   MUL.L       R10,R0
    00000F98 430B                   JSR         @R3
    00000F9A 001A                   STS         MACL,R0
    00000F9C D24D                   MOV.L       L1289+6,R2 ; __adds
    00000F9E 420B                   JSR         @R2
    00000FA0 61F2                   MOV.L       @R15,R1
      Monochrome   647                            plot_y--;
    00000FA2 7EFF                   ADD         #-1,R14
    00000FA4 2F02                   MOV.L       R0,@R15
    00000FA6              L1001:                            
      Monochrome   648                    }
      Monochrome   649                    ML_pixel(x+plot_x, y+plot_y, color);
    00000FA6 66B3                   MOV         R11,R6
    00000FA8 6593                   MOV         R9,R5
    00000FAA 35EC                   ADD         R14,R5
    00000FAC 1F53                   MOV.L       R5,@(12,R15)
    00000FAE 6483                   MOV         R8,R4
    00000FB0 B8A6                   BSR         _ML_pixel
    00000FB2 34DC                   ADD         R13,R4
      Monochrome   650                    ML_pixel(x-plot_x, y+plot_y, color);
    00000FB4 55F3                   MOV.L       @(12,R15),R5
    00000FB6 66B3                   MOV         R11,R6
    00000FB8 B8A2                   BSR         _ML_pixel
    00000FBA 54F4                   MOV.L       @(16,R15),R4
      Monochrome   651                    if(plot_y > 0)
    00000FBC 4E15                   CMP/PL      R14




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   51


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00000FBE 8B09                   BF          L1002
      Monochrome   652                    {
      Monochrome   653                            ML_pixel(x+plot_x, y-plot_y, color);
    00000FC0 66B3                   MOV         R11,R6
    00000FC2 6593                   MOV         R9,R5
    00000FC4 35E8                   SUB         R14,R5
    00000FC6 1F53                   MOV.L       R5,@(12,R15)
    00000FC8 B89A                   BSR         _ML_pixel
    00000FCA 54F1                   MOV.L       @(4,R15),R4
      Monochrome   654                            ML_pixel(x-plot_x, y-plot_y, color);
    00000FCC 55F3                   MOV.L       @(12,R15),R5
    00000FCE 66B3                   MOV         R11,R6
    00000FD0 B896                   BSR         _ML_pixel
    00000FD2 54F2                   MOV.L       @(8,R15),R4
    00000FD4              L1002:                            
    00000FD4 4E15                   CMP/PL      R14
    00000FD6 89AF                   BT          L999
    00000FD8              L992:                             
      Monochrome   655                    }
      Monochrome   656            }
      Monochrome   657    }
    00000FD8 7F18                   ADD         #24,R15
    00000FDA 4F16                   LDS.L       @R15+,MACL
    00000FDC 4F26                   LDS.L       @R15+,PR
    00000FDE 68F6                   MOV.L       @R15+,R8
    00000FE0 69F6                   MOV.L       @R15+,R9
    00000FE2 6AF6                   MOV.L       @R15+,R10
    00000FE4 6BF6                   MOV.L       @R15+,R11
    00000FE6 6CF6                   MOV.L       @R15+,R12
    00000FE8 6DF6                   MOV.L       @R15+,R13
    00000FEA 000B                   RTS
    00000FEC 6EF6                   MOV.L       @R15+,R14
      Monochrome   658    #endif
      Monochrome   659    
      Monochrome   660    #ifdef ML_ELLIPSE_IN_RECT
      Monochrome   661    void ML_ellipse_in_rect(int x1, int y1, int x2, int y2, ML_Color color)
    00000FEE              _ML_ellipse_in_rect:             ; function: ML_ellipse_in_rect
                                                           ; frame size=24
    00000FEE 2FE6                   MOV.L       R14,@-R15
    00000FF0 2FD6                   MOV.L       R13,@-R15
    00000FF2 6E43                   MOV         R4,R14
    00000FF4 2FC6                   MOV.L       R12,@-R15
      Monochrome   662    {
      Monochrome   663            int radius1, radius2;
      Monochrome   664            if(x1 > x2)
    00000FF6 3E67                   CMP/GT      R6,R14
    00000FF8 2FB6                   MOV.L       R11,@-R15
    00000FFA 4F22                   STS.L       PR,@-R15
    00000FFC 8F03                   BF/S        L1003
    00000FFE 6D53                   MOV         R5,R13
      Monochrome   665            {
      Monochrome   666                    int tmp = x1;
    00001000 64E3                   MOV         R14,R4
      Monochrome   667                    x1 = x2;
    00001002 6E63                   MOV         R6,R14
      Monochrome   668                    x2 = tmp;
    00001004 6643                   MOV         R4,R6




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   52


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00001006              L1003:                            
      Monochrome   669            }
      Monochrome   670            if(y1 > y2)
    00001006 3D77                   CMP/GT      R7,R13
    00001008 8F03                   BF/S        L1004
      Monochrome   671            {
      Monochrome   672                    int tmp = y1;
      Monochrome   673                    y1 = y2;
      Monochrome   674                    y2 = tmp;
      Monochrome   675            }
      Monochrome   676            radius1 = (x2-x1)/2;
    0000100A 36E8                   SUB         R14,R6
    0000100C 64D3                   MOV         R13,R4
    0000100E 6D73                   MOV         R7,R13
    00001010 6743                   MOV         R4,R7
    00001012              L1004:                            
    00001012 6B63                   MOV         R6,R11
      Monochrome   677            radius2 = (y2-y1)/2;
      Monochrome   678            ML_ellipse(x1+radius1, y1+radius2, radius1, radius2, color);
    00001014 52F5                   MOV.L       @(20,R15),R2
    00001016 65D3                   MOV         R13,R5
    00001018 2F26                   MOV.L       R2,@-R15
    0000101A 64E3                   MOV         R14,R4
    0000101C E300                   MOV         #0,R3
    0000101E 33B7                   CMP/GT      R11,R3
    00001020 3B3E                   ADDC        R3,R11
    00001022 4B21                   SHAR        R11
    00001024 37D8                   SUB         R13,R7
    00001026 6C73                   MOV         R7,R12
    00001028 33C7                   CMP/GT      R12,R3
    0000102A 3C3E                   ADDC        R3,R12
    0000102C 4C21                   SHAR        R12
    0000102E 67C3                   MOV         R12,R7
    00001030 66B3                   MOV         R11,R6
    00001032 35CC                   ADD         R12,R5
    00001034 BE82                   BSR         _ML_ellipse
    00001036 34BC                   ADD         R11,R4
      Monochrome   679    }
    00001038 7F04                   ADD         #4,R15
    0000103A 4F26                   LDS.L       @R15+,PR
    0000103C 6BF6                   MOV.L       @R15+,R11
    0000103E 6CF6                   MOV.L       @R15+,R12
    00001040 6DF6                   MOV.L       @R15+,R13
    00001042 000B                   RTS
    00001044 6EF6                   MOV.L       @R15+,R14
      Monochrome   680    #endif
      Monochrome   681    
      Monochrome   682    #ifdef ML_FILLED_ELLIPSE
      Monochrome   683    void ML_filled_ellipse(int x, int y, int radius1, int radius2, ML_Color color)
    00001046              _ML_filled_ellipse:              ; function: ML_filled_ellipse
                                                           ; frame size=124
                                                           ; used runtime library name:
                                                           ; __adds, __addd, __subdr, __muld, __dtos, __itos, __itod, __gtd, __lts
    00001046 2FE6                   MOV.L       R14,@-R15
    00001048 2FD6                   MOV.L       R13,@-R15
    0000104A 2FC6                   MOV.L       R12,@-R15
    0000104C 2FB6                   MOV.L       R11,@-R15




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   53


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    0000104E 6C73                   MOV         R7,R12
    00001050 2FA6                   MOV.L       R10,@-R15
    00001052 6B63                   MOV         R6,R11
    00001054 2F96                   MOV.L       R9,@-R15
    00001056 6953                   MOV         R5,R9
    00001058 2F86                   MOV.L       R8,@-R15
    0000105A 6843                   MOV         R4,R8
    0000105C 4F22                   STS.L       PR,@-R15
      Monochrome   684    {
      Monochrome   685            int plot_x, plot_y;
      Monochrome   686            float d1, d2;
      Monochrome   687            if(radius1 < 1 || radius2 < 1) return;
    0000105E E401                   MOV         #1,R4
    00001060 4F12                   STS.L       MACL,@-R15
    00001062 3B43                   CMP/GE      R4,R11
    00001064 7FEC                   ADD         #-20,R15
    00001066 8D02                   BT/S        L1290
    00001068 5AFE                   MOV.L       @(56,R15),R10
    0000106A A13F                   BRA         L1007
    0000106C 0009                   NOP
    0000106E              L1290:                            
    0000106E 3C43                   CMP/GE      R4,R12
    00001070 8901                   BT          L1291
    00001072 A13B                   BRA         L1007
    00001074 0009                   NOP
    00001076              L1291:                            
      Monochrome   688            plot_x = 0;
    00001076 ED00                   MOV         #0,R13
      Monochrome   689            plot_y = radius2;
      Monochrome   690            d1 = radius2*radius2 - radius1*radius1*radius2 + radius1*radius1/4;
    00001078 0BB7                   MUL.L       R11,R11
    0000107A 6EC3                   MOV         R12,R14
    0000107C 001A                   STS         MACL,R0
    0000107E 4011                   CMP/PZ      R0
    00001080 8D01                   BT/S        L1008
    00001082 1F02                   MOV.L       R0,@(8,R15)
    00001084 7003                   ADD         #3,R0
    00001086              L1008:                            
    00001086 4021                   SHAR        R0
    00001088 52F2                   MOV.L       @(8,R15),R2
    0000108A 4021                   SHAR        R0
    0000108C 02C7                   MUL.L       R12,R2
    0000108E 021A                   STS         MACL,R2
    00001090 0CC7                   MUL.L       R12,R12
    00001092 3028                   SUB         R2,R0
    00001094 D20E                   MOV.L       L1289+2,R2 ; __itos
    00001096 031A                   STS         MACL,R3
    00001098 1F34                   MOV.L       R3,@(16,R15)
    0000109A 420B                   JSR         @R2
    0000109C 303C                   ADD         R3,R0
      Monochrome   691            while(radius1*radius1*(plot_y-.5) > radius2*radius2*(plot_x+1))
    0000109E A04E                   BRA         L1009
    000010A0 2F02                   MOV.L       R0,@R15
    000010A2              L1010:                            
    000010A2 64D3                   MOV         R13,R4
    000010A4 61F2                   MOV.L       @R15,R1
    000010A6 4400                   SHLL        R4




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   54


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    000010A8 D313                   MOV.L       L1289+42,R3; __lts
    000010AA 7403                   ADD         #3,R4
    000010AC 04C7                   MUL.L       R12,R4
    000010AE 041A                   STS         MACL,R4
    000010B0 04C7                   MUL.L       R12,R4
    000010B2 041A                   STS         MACL,R4
    000010B4 430B                   JSR         @R3
    000010B6 E000                   MOV         #0,R0
    000010B8 8800                   CMP/EQ      #0,R0
    000010BA 891F                   BT          L1011
      Monochrome   692            {
      Monochrome   693                    if(d1 < 0)
      Monochrome   694                    {
      Monochrome   695                            d1 += radius2*radius2*(2*plot_x+3);
    000010BC D204                   MOV.L       L1289+2,R2 ; __itos
    000010BE 420B                   JSR         @R2
    000010C0 6043                   MOV         R4,R0
    000010C2 D304                   MOV.L       L1289+6,R3 ; __adds
    000010C4 430B                   JSR         @R3
    000010C6 61F2                   MOV.L       @R15,R1
    000010C8 2F02                   MOV.L       R0,@R15
      Monochrome   696                            plot_x++;
    000010CA A038                   BRA         L1009
    000010CC 7D01                   ADD         #1,R13
    000010CE              L1289:                            
    000010CE 0000                   .DATA.W     0
    000010D0 <00000000>             .DATA.L     __itos
    000010D4 <00000000>             .DATA.L     __adds
    000010D8 <00000000>             .DATA.L     __itod
    000010DC BFE00000               .DATA.L     H'BFE00000
    000010E0 <00000000>             .DATA.L     __addd
    000010E4 <00000000>             .DATA.L     __muld
    000010E8 <00000000>             .DATA.L     __gtd
    000010EC 3FE00000               .DATA.L     H'3FE00000
    000010F0 <00000000>             .DATA.L     __subdr
    000010F4 <00000000>             .DATA.L     __dtos
    000010F8 <00000000>             .DATA.L     __lts
    000010FC              L1011:                            
      Monochrome   697                    } else {
      Monochrome   698                            d1 += radius2*radius2*(2*plot_x+3) + radius1*radius1*(-2*plot_y+2);
    000010FC D3A0                   MOV.L       L1292+2,R3 ; __itos
    000010FE 62E3                   MOV         R14,R2
    00001100 4200                   SHLL        R2
    00001102 E002                   MOV         #2,R0
    00001104 3028                   SUB         R2,R0
    00001106 00B7                   MUL.L       R11,R0
    00001108 001A                   STS         MACL,R0
    0000110A 00B7                   MUL.L       R11,R0
    0000110C 001A                   STS         MACL,R0
    0000110E 430B                   JSR         @R3
    00001110 304C                   ADD         R4,R0
    00001112 D29C                   MOV.L       L1292+6,R2 ; __adds
    00001114 420B                   JSR         @R2
    00001116 61F2                   MOV.L       @R15,R1
    00001118 2F02                   MOV.L       R0,@R15
      Monochrome   699                            ML_horizontal_line(y+plot_y, x-plot_x, x+plot_x, color);
    0000111A 67A3                   MOV         R10,R7




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   55


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    0000111C 6683                   MOV         R8,R6
    0000111E 36DC                   ADD         R13,R6
    00001120 1F61                   MOV.L       R6,@(4,R15)
    00001122 6583                   MOV         R8,R5
    00001124 35D8                   SUB         R13,R5
    00001126 6493                   MOV         R9,R4
    00001128 1F53                   MOV.L       R5,@(12,R15)
    0000112A B909                   BSR         _ML_horizontal_line
    0000112C 34EC                   ADD         R14,R4
      Monochrome   700                            ML_horizontal_line(y-plot_y, x-plot_x, x+plot_x, color);
    0000112E 67A3                   MOV         R10,R7
    00001130 56F1                   MOV.L       @(4,R15),R6
    00001132 6493                   MOV         R9,R4
    00001134 55F3                   MOV.L       @(12,R15),R5
    00001136 B903                   BSR         _ML_horizontal_line
    00001138 34E8                   SUB         R14,R4
      Monochrome   701                            plot_x++;
    0000113A 7D01                   ADD         #1,R13
      Monochrome   702                            plot_y--;
    0000113C 7EFF                   ADD         #-1,R14
    0000113E              L1009:                            
    0000113E 7FF8                   ADD         #-8,R15
    00001140 D291                   MOV.L       L1292+10,R2; __itod
    00001142 50F4                   MOV.L       @(16,R15),R0
    00001144 7FF8                   ADD         #-8,R15
    00001146 420B                   JSR         @R2
    00001148 2FF6                   MOV.L       R15,@-R15
    0000114A 60E3                   MOV         R14,R0
    0000114C D38E                   MOV.L       L1292+10,R3; __itod
    0000114E 7FF0                   ADD         #-16,R15
    00001150 430B                   JSR         @R3
    00001152 2FF6                   MOV.L       R15,@-R15
    00001154 D18E                   MOV.L       L1292+18,R1; __addd
    00001156 E200                   MOV         #0,R2
    00001158 2F26                   MOV.L       R2,@-R15
    0000115A D28C                   MOV.L       L1292+14,R2; H'BFE00000
    0000115C 2F26                   MOV.L       R2,@-R15
    0000115E 63F3                   MOV         R15,R3
    00001160 7310                   ADD         #16,R3
    00001162 410B                   JSR         @R1
    00001164 2F36                   MOV.L       R3,@-R15
    00001166 62F3                   MOV         R15,R2
    00001168 D08A                   MOV.L       L1292+22,R0; __muld
    0000116A 7210                   ADD         #16,R2
    0000116C 400B                   JSR         @R0
    0000116E 2F26                   MOV.L       R2,@-R15
    00001170 D385                   MOV.L       L1292+10,R3; __itod
    00001172 60D3                   MOV         R13,R0
    00001174 7001                   ADD         #1,R0
    00001176 7FF8                   ADD         #-8,R15
    00001178 00C7                   MUL.L       R12,R0
    0000117A 001A                   STS         MACL,R0
    0000117C 00C7                   MUL.L       R12,R0
    0000117E 001A                   STS         MACL,R0
    00001180 430B                   JSR         @R3
    00001182 2FF6                   MOV.L       R15,@-R15
    00001184 D284                   MOV.L       L1292+26,R2; __gtd




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   56


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00001186 420B                   JSR         @R2
    00001188 0009                   NOP
    0000118A 8800                   CMP/EQ      #0,R0
    0000118C 8B89                   BF          L1010
      Monochrome   703                    }
      Monochrome   704            }
      Monochrome   705            ML_horizontal_line(y+plot_y, x-plot_x, x+plot_x, color);
    0000118E 67A3                   MOV         R10,R7
    00001190 6683                   MOV         R8,R6
    00001192 36DC                   ADD         R13,R6
    00001194 1F61                   MOV.L       R6,@(4,R15)
    00001196 6583                   MOV         R8,R5
    00001198 35D8                   SUB         R13,R5
    0000119A 6493                   MOV         R9,R4
    0000119C 1F53                   MOV.L       R5,@(12,R15)
    0000119E B8CF                   BSR         _ML_horizontal_line
    000011A0 34EC                   ADD         R14,R4
      Monochrome   706            ML_horizontal_line(y-plot_y, x-plot_x, x+plot_x, color);
    000011A2 67A3                   MOV         R10,R7
    000011A4 56F1                   MOV.L       @(4,R15),R6
    000011A6 6493                   MOV         R9,R4
    000011A8 55F3                   MOV.L       @(12,R15),R5
    000011AA B8C9                   BSR         _ML_horizontal_line
    000011AC 34E8                   SUB         R14,R4
      Monochrome   707            d2 = radius2*radius2*(plot_x+.5)*(plot_x+.5) + radius1*radius1*(plot_y-1)*(plot_y-1) - radius1*rad
                         +ius1*radius2*radius2;
    000011AE 7FE0                   ADD         #-32,R15
    000011B0 D275                   MOV.L       L1292+10,R2; __itod
    000011B2 50FC                   MOV.L       @(48,R15),R0
    000011B4 7FF8                   ADD         #-8,R15
    000011B6 420B                   JSR         @R2
    000011B8 2FF6                   MOV.L       R15,@-R15
    000011BA 60D3                   MOV         R13,R0
    000011BC D372                   MOV.L       L1292+10,R3; __itod
    000011BE 7FF0                   ADD         #-16,R15
    000011C0 430B                   JSR         @R3
    000011C2 2FF6                   MOV.L       R15,@-R15
    000011C4 D172                   MOV.L       L1292+18,R1; __addd
    000011C6 E200                   MOV         #0,R2
    000011C8 2F26                   MOV.L       R2,@-R15
    000011CA D274                   MOV.L       L1292+30,R2; H'3FE00000
    000011CC 2F26                   MOV.L       R2,@-R15
    000011CE 63F3                   MOV         R15,R3
    000011D0 7310                   ADD         #16,R3
    000011D2 410B                   JSR         @R1
    000011D4 2F36                   MOV.L       R3,@-R15
    000011D6 62F3                   MOV         R15,R2
    000011D8 D06E                   MOV.L       L1292+22,R0; __muld
    000011DA 7210                   ADD         #16,R2
    000011DC 400B                   JSR         @R0
    000011DE 2F26                   MOV.L       R2,@-R15
    000011E0 D369                   MOV.L       L1292+10,R3; __itod
    000011E2 60D3                   MOV         R13,R0
    000011E4 7FF0                   ADD         #-16,R15
    000011E6 430B                   JSR         @R3
    000011E8 2FF6                   MOV.L       R15,@-R15
    000011EA E200                   MOV         #0,R2




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   57


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    000011EC D168                   MOV.L       L1292+18,R1; __addd
    000011EE 2F26                   MOV.L       R2,@-R15
    000011F0 D26A                   MOV.L       L1292+30,R2; H'3FE00000
    000011F2 2F26                   MOV.L       R2,@-R15
    000011F4 63F3                   MOV         R15,R3
    000011F6 7310                   ADD         #16,R3
    000011F8 410B                   JSR         @R1
    000011FA 2F36                   MOV.L       R3,@-R15
    000011FC D065                   MOV.L       L1292+22,R0; __muld
    000011FE 62F3                   MOV         R15,R2
    00001200 7210                   ADD         #16,R2
    00001202 400B                   JSR         @R0
    00001204 2F26                   MOV.L       R2,@-R15
    00001206 64E3                   MOV         R14,R4
    00001208 D35F                   MOV.L       L1292+10,R3; __itod
    0000120A 7FF8                   ADD         #-8,R15
    0000120C 74FF                   ADD         #-1,R4
    0000120E 0447                   MUL.L       R4,R4
    00001210 001A                   STS         MACL,R0
    00001212 00B7                   MUL.L       R11,R0
    00001214 001A                   STS         MACL,R0
    00001216 00B7                   MUL.L       R11,R0
    00001218 001A                   STS         MACL,R0
    0000121A 430B                   JSR         @R3
    0000121C 2FF6                   MOV.L       R15,@-R15
    0000121E 62F3                   MOV         R15,R2
    00001220 D15B                   MOV.L       L1292+18,R1; __addd
    00001222 7210                   ADD         #16,R2
    00001224 410B                   JSR         @R1
    00001226 2F26                   MOV.L       R2,@-R15
    00001228 50F6                   MOV.L       @(24,R15),R0
    0000122A 7FF8                   ADD         #-8,R15
    0000122C D356                   MOV.L       L1292+10,R3; __itod
    0000122E 00C7                   MUL.L       R12,R0
    00001230 001A                   STS         MACL,R0
    00001232 00C7                   MUL.L       R12,R0
    00001234 001A                   STS         MACL,R0
    00001236 430B                   JSR         @R3
    00001238 2FF6                   MOV.L       R15,@-R15
    0000123A 62F3                   MOV         R15,R2
    0000123C D158                   MOV.L       L1292+34,R1; __subdr
    0000123E 7210                   ADD         #16,R2
    00001240 410B                   JSR         @R1
    00001242 2F26                   MOV.L       R2,@-R15
    00001244 D357                   MOV.L       L1292+38,R3; __dtos
    00001246 430B                   JSR         @R3
    00001248 0009                   NOP
      Monochrome   708            while(plot_y > 0)
    0000124A 4E15                   CMP/PL      R14
    0000124C 2F02                   MOV.L       R0,@R15
    0000124E 53F3                   MOV.L       @(12,R15),R3
    00001250 1F32                   MOV.L       R3,@(8,R15)
    00001252 52F1                   MOV.L       @(4,R15),R2
    00001254 1F24                   MOV.L       R2,@(16,R15)
    00001256 53F3                   MOV.L       @(12,R15),R3
    00001258 1F31                   MOV.L       R3,@(4,R15)
    0000125A 8B47                   BF          L1007




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   58


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    0000125C              L1014:                            
      Monochrome   709            {
      Monochrome   710                    if(d2 < 0)
    0000125C 61F2                   MOV.L       @R15,R1
    0000125E D252                   MOV.L       L1292+42,R2; __lts
    00001260 420B                   JSR         @R2
    00001262 E000                   MOV         #0,R0
    00001264 8800                   CMP/EQ      #0,R0
    00001266 8921                   BT          L1015
      Monochrome   711                    {
      Monochrome   712                            d2 += radius2*radius2*(2*plot_x+2) + radius1*radius1*(-2*plot_y+3);
    00001268 60D3                   MOV         R13,R0
    0000126A 4000                   SHLL        R0
    0000126C 7002                   ADD         #2,R0
    0000126E 63E3                   MOV         R14,R3
    00001270 00C7                   MUL.L       R12,R0
    00001272 E203                   MOV         #3,R2
    00001274 001A                   STS         MACL,R0
    00001276 4300                   SHLL        R3
    00001278 00C7                   MUL.L       R12,R0
    0000127A 3238                   SUB         R3,R2
    0000127C D340                   MOV.L       L1292+2,R3 ; __itos
    0000127E 001A                   STS         MACL,R0
    00001280 02B7                   MUL.L       R11,R2
    00001282 021A                   STS         MACL,R2
    00001284 02B7                   MUL.L       R11,R2
    00001286 021A                   STS         MACL,R2
    00001288 430B                   JSR         @R3
    0000128A 302C                   ADD         R2,R0
    0000128C D23D                   MOV.L       L1292+6,R2 ; __adds
    0000128E 420B                   JSR         @R2
    00001290 61F2                   MOV.L       @R15,R1
      Monochrome   713                            plot_y--;
    00001292 7EFF                   ADD         #-1,R14
    00001294 2F02                   MOV.L       R0,@R15
      Monochrome   714                            plot_x++;
    00001296 7D01                   ADD         #1,R13
    00001298 53F2                   MOV.L       @(8,R15),R3
    0000129A 73FF                   ADD         #-1,R3
    0000129C 1F32                   MOV.L       R3,@(8,R15)
    0000129E 52F4                   MOV.L       @(16,R15),R2
    000012A0 7201                   ADD         #1,R2
    000012A2 1F24                   MOV.L       R2,@(16,R15)
    000012A4 51F1                   MOV.L       @(4,R15),R1
    000012A6 71FF                   ADD         #-1,R1
    000012A8 A00F                   BRA         L1016
    000012AA 1F11                   MOV.L       R1,@(4,R15)
    000012AC              L1015:                            
      Monochrome   715                    } else {
      Monochrome   716                            d2 += radius1*radius1*(-2*plot_y+3);
    000012AC D334                   MOV.L       L1292+2,R3 ; __itos
    000012AE 62E3                   MOV         R14,R2
    000012B0 4200                   SHLL        R2
    000012B2 E003                   MOV         #3,R0
    000012B4 3028                   SUB         R2,R0
    000012B6 00B7                   MUL.L       R11,R0
    000012B8 001A                   STS         MACL,R0




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   59


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    000012BA 00B7                   MUL.L       R11,R0
    000012BC 430B                   JSR         @R3
    000012BE 001A                   STS         MACL,R0
    000012C0 D230                   MOV.L       L1292+6,R2 ; __adds
    000012C2 420B                   JSR         @R2
    000012C4 61F2                   MOV.L       @R15,R1
      Monochrome   717                            plot_y--;
    000012C6 7EFF                   ADD         #-1,R14
    000012C8 2F02                   MOV.L       R0,@R15
    000012CA              L1016:                            
      Monochrome   718                    }
      Monochrome   719                    ML_horizontal_line(y+plot_y, x-plot_x, x+plot_x, color);
    000012CA 67A3                   MOV         R10,R7
    000012CC 55F1                   MOV.L       @(4,R15),R5
    000012CE 6493                   MOV         R9,R4
    000012D0 6683                   MOV         R8,R6
    000012D2 36DC                   ADD         R13,R6
    000012D4 B834                   BSR         _ML_horizontal_line
    000012D6 34EC                   ADD         R14,R4
      Monochrome   720                    if(plot_y > 0)
    000012D8 4E15                   CMP/PL      R14
    000012DA 8B05                   BF          L1017
      Monochrome   721                            ML_horizontal_line(y-plot_y, x-plot_x, x+plot_x, color);
    000012DC 56F4                   MOV.L       @(16,R15),R6
    000012DE 6493                   MOV         R9,R4
    000012E0 55F2                   MOV.L       @(8,R15),R5
    000012E2 67A3                   MOV         R10,R7
    000012E4 B82C                   BSR         _ML_horizontal_line
    000012E6 34E8                   SUB         R14,R4
    000012E8              L1017:                            
    000012E8 4E15                   CMP/PL      R14
    000012EA 89B7                   BT          L1014
    000012EC              L1007:                            
      Monochrome   722            }
      Monochrome   723    }
    000012EC 7F14                   ADD         #20,R15
    000012EE 4F16                   LDS.L       @R15+,MACL
    000012F0 4F26                   LDS.L       @R15+,PR
    000012F2 68F6                   MOV.L       @R15+,R8
    000012F4 69F6                   MOV.L       @R15+,R9
    000012F6 6AF6                   MOV.L       @R15+,R10
    000012F8 6BF6                   MOV.L       @R15+,R11
    000012FA 6CF6                   MOV.L       @R15+,R12
    000012FC 6DF6                   MOV.L       @R15+,R13
    000012FE 000B                   RTS
    00001300 6EF6                   MOV.L       @R15+,R14
      Monochrome   724    #endif
      Monochrome   725    
      Monochrome   726    #ifdef ML_FILLED_ELLIPSE_IN_RECT
      Monochrome   727    void ML_filled_ellipse_in_rect(int x1, int y1, int x2, int y2, ML_Color color)
    00001302              _ML_filled_ellipse_in_rect:      ; function: ML_filled_ellipse_in_rect
                                                           ; frame size=24
    00001302 2FE6                   MOV.L       R14,@-R15
    00001304 2FD6                   MOV.L       R13,@-R15
    00001306 6E43                   MOV         R4,R14
    00001308 2FC6                   MOV.L       R12,@-R15
      Monochrome   728    {




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   60


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

      Monochrome   729            int radius1, radius2;
      Monochrome   730            if(x1 > x2)
    0000130A 3E67                   CMP/GT      R6,R14
    0000130C 2FB6                   MOV.L       R11,@-R15
    0000130E 4F22                   STS.L       PR,@-R15
    00001310 8F03                   BF/S        L1018
    00001312 6D53                   MOV         R5,R13
      Monochrome   731            {
      Monochrome   732                    int tmp = x1;
    00001314 64E3                   MOV         R14,R4
      Monochrome   733                    x1 = x2;
    00001316 6E63                   MOV         R6,R14
      Monochrome   734                    x2 = tmp;
    00001318 6643                   MOV         R4,R6
    0000131A              L1018:                            
      Monochrome   735            }
      Monochrome   736            if(y1 > y2)
    0000131A 3D77                   CMP/GT      R7,R13
    0000131C 8F03                   BF/S        L1019
      Monochrome   737            {
      Monochrome   738                    int tmp = y1;
      Monochrome   739                    y1 = y2;
      Monochrome   740                    y2 = tmp;
      Monochrome   741            }
      Monochrome   742            radius1 = (x2-x1)/2;
    0000131E 36E8                   SUB         R14,R6
    00001320 64D3                   MOV         R13,R4
    00001322 6D73                   MOV         R7,R13
    00001324 6743                   MOV         R4,R7
    00001326              L1019:                            
    00001326 6B63                   MOV         R6,R11
      Monochrome   743            radius2 = (y2-y1)/2;
      Monochrome   744            ML_filled_ellipse(x1+radius1, y1+radius2, radius1, radius2, color);
    00001328 52F5                   MOV.L       @(20,R15),R2
    0000132A 65D3                   MOV         R13,R5
    0000132C 2F26                   MOV.L       R2,@-R15
    0000132E 64E3                   MOV         R14,R4
    00001330 E300                   MOV         #0,R3
    00001332 33B7                   CMP/GT      R11,R3
    00001334 3B3E                   ADDC        R3,R11
    00001336 4B21                   SHAR        R11
    00001338 37D8                   SUB         R13,R7
    0000133A 6C73                   MOV         R7,R12
    0000133C 33C7                   CMP/GT      R12,R3
    0000133E 3C3E                   ADDC        R3,R12
    00001340 4C21                   SHAR        R12
    00001342 67C3                   MOV         R12,R7
    00001344 66B3                   MOV         R11,R6
    00001346 35CC                   ADD         R12,R5
    00001348 BE7D                   BSR         _ML_filled_ellipse
    0000134A 34BC                   ADD         R11,R4
      Monochrome   745    }
    0000134C 7F04                   ADD         #4,R15
    0000134E 4F26                   LDS.L       @R15+,PR
    00001350 6BF6                   MOV.L       @R15+,R11
    00001352 6CF6                   MOV.L       @R15+,R12
    00001354 6DF6                   MOV.L       @R15+,R13




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   61


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00001356 000B                   RTS
    00001358 6EF6                   MOV.L       @R15+,R14
      Monochrome   746    #endif
      Monochrome   747    
      Monochrome   748    #ifdef ML_HORIZONTAL_SCROLL
      Monochrome   749    void ML_horizontal_scroll(int scroll)
    0000135A              _ML_horizontal_scroll:           ; function: ML_horizontal_scroll
                                                           ; frame size=80
    0000135A 2FE6                   MOV.L       R14,@-R15
    0000135C 2FD6                   MOV.L       R13,@-R15
    0000135E 2FC6                   MOV.L       R12,@-R15
    00001360 2FB6                   MOV.L       R11,@-R15
    00001362 2FA6                   MOV.L       R10,@-R15
    00001364 2F96                   MOV.L       R9,@-R15
    00001366 2F86                   MOV.L       R8,@-R15
    00001368 4F22                   STS.L       PR,@-R15
    0000136A 7FD0                   ADD         #-48,R15
      Monochrome   750    {
      Monochrome   751            int i, j;
      Monochrome   752            char line[16], shift, *vram;
      Monochrome   753            unsigned char next;
      Monochrome   754            unsigned short word;
      Monochrome   755            vram = ML_vram_adress();
    0000136C DE0F                   MOV.L       L1292+46,R14; _sc0135
    0000136E 4E0B                   JSR         @R14
    00001370 6C43                   MOV         R4,R12
    00001372 6E03                   MOV         R0,R14
      Monochrome   756            scroll %= 128;
    00001374 4C11                   CMP/PZ      R12
    00001376 8F1B                   BF/S        L1020
    00001378 E37F                   MOV         #127,R3
    0000137A A01E                   BRA         L1021
    0000137C 2C39                   AND         R3,R12
    0000137E              L1292:                            
    0000137E 0000                   .DATA.W     0
    00001380 <00000000>             .DATA.L     __itos
    00001384 <00000000>             .DATA.L     __adds
    00001388 <00000000>             .DATA.L     __itod
    0000138C BFE00000               .DATA.L     H'BFE00000
    00001390 <00000000>             .DATA.L     __addd
    00001394 <00000000>             .DATA.L     __muld
    00001398 <00000000>             .DATA.L     __gtd
    0000139C 3FE00000               .DATA.L     H'3FE00000
    000013A0 <00000000>             .DATA.L     __subdr
    000013A4 <00000000>             .DATA.L     __dtos
    000013A8 <00000000>             .DATA.L     __lts
    000013AC <00000000>             .DATA.L     _sc0135
    000013B0              L1020:                            
    000013B0 6CC7                   NOT         R12,R12
    000013B2 7C01                   ADD         #1,R12
    000013B4 2C39                   AND         R3,R12
    000013B6 6CC7                   NOT         R12,R12
    000013B8 7C01                   ADD         #1,R12
    000013BA              L1021:                            
      Monochrome   757            shift = 8-(scroll&7);
    000013BA E107                   MOV         #7,R1
    000013BC 21C9                   AND         R12,R1




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   62


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    000013BE E008                   MOV         #8,R0
    000013C0 3018                   SUB         R1,R0
      Monochrome   758            for(i=0 ; i<64 ; i++)
    000013C2 E700                   MOV         #0,R7
    000013C4 80F4                   MOV.B       R0,@(4,R15)
    000013C6 6DE3                   MOV         R14,R13
    000013C8 6A73                   MOV         R7,R10
    000013CA 6873                   MOV         R7,R8
    000013CC 69E3                   MOV         R14,R9
    000013CE 790F                   ADD         #15,R9
    000013D0 64F3                   MOV         R15,R4
    000013D2 7420                   ADD         #32,R4
    000013D4 6343                   MOV         R4,R3
    000013D6 7310                   ADD         #16,R3
    000013D8 1F32                   MOV.L       R3,@(8,R15)
    000013DA 4C21                   SHAR        R12
    000013DC 4C21                   SHAR        R12
    000013DE 4C21                   SHAR        R12
    000013E0 1FC4                   MOV.L       R12,@(16,R15)
    000013E2 6243                   MOV         R4,R2
    000013E4 1F25                   MOV.L       R2,@(20,R15)
    000013E6 6123                   MOV         R2,R1
    000013E8 710F                   ADD         #15,R1
    000013EA EC0F                   MOV         #15,R12
    000013EC 1F16                   MOV.L       R1,@(24,R15)
    000013EE 740E                   ADD         #14,R4
    000013F0 1F47                   MOV.L       R4,@(28,R15)
    000013F2              L1022:                            
      Monochrome   759            {
      Monochrome   760                    for(j=0 ; j<16 ; j++) line[j] = vram[(i<<4)+((j-(scroll>>3)+15)&15)];
    000013F2 6473                   MOV         R7,R4
    000013F4 53F4                   MOV.L       @(16,R15),R3
    000013F6 66A3                   MOV         R10,R6
    000013F8 3438                   SUB         R3,R4
    000013FA 6543                   MOV         R4,R5
    000013FC 54F5                   MOV.L       @(20,R15),R4
    000013FE 4608                   SHLL2       R6
    00001400 750F                   ADD         #15,R5
    00001402 4608                   SHLL2       R6
    00001404              L1023:                            
    00001404 6053                   MOV         R5,R0
    00001406 20C9                   AND         R12,R0
    00001408 306C                   ADD         R6,R0
    0000140A 03EC                   MOV.B       @(R0,R14),R3
    0000140C 2430                   MOV.B       R3,@R4
    0000140E 7401                   ADD         #1,R4
    00001410 52F2                   MOV.L       @(8,R15),R2
    00001412 3422                   CMP/HS      R2,R4
    00001414 8FF6                   BF/S        L1023
    00001416 7501                   ADD         #1,R5
      Monochrome   761                    next = line[15];
    00001418 56F6                   MOV.L       @(24,R15),R6
      Monochrome   762                    vram[(i<<4)+15] = 0;
      Monochrome   763                    for(j=15 ; j>0 ; j--)
    0000141A 6BC3                   MOV         R12,R11
    0000141C 6660                   MOV.B       @R6,R6
    0000141E 6483                   MOV         R8,R4




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   63


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00001420 2970                   MOV.B       R7,@R9
    00001422 740F                   ADD         #15,R4
    00001424 55F7                   MOV.L       @(28,R15),R5
    00001426              L1024:                            
      Monochrome   764                    {
      Monochrome   765                            word = next << shift;
    00001426 666C                   EXTU.B      R6,R6
    00001428 84F4                   MOV.B       @(4,R15),R0
      Monochrome   766                            next = line[j-1];
      Monochrome   767                            vram[(i<<4)+j] |= *((char*)&word+1);
    0000142A 63F3                   MOV         R15,R3
    0000142C 460D                   SHLD        R0,R6
    0000142E 6043                   MOV         R4,R0
    00001430 2F61                   MOV.W       R6,@R15
    00001432 E201                   MOV         #1,R2
    00001434 6650                   MOV.B       @R5,R6
    00001436 7BFF                   ADD         #-1,R11
    00001438 323C                   ADD         R3,R2
    0000143A 4B15                   CMP/PL      R11
    0000143C 6320                   MOV.B       @R2,R3
    0000143E 02EC                   MOV.B       @(R0,R14),R2
    00001440 223B                   OR          R3,R2
      Monochrome   768                            vram[(i<<4)+j-1] = *((char*)&word);
    00001442 63F3                   MOV         R15,R3
    00001444 0E24                   MOV.B       R2,@(R0,R14)
    00001446 70FF                   ADD         #-1,R0
    00001448 1F03                   MOV.L       R0,@(12,R15)
    0000144A 6230                   MOV.B       @R3,R2
    0000144C 0E24                   MOV.B       R2,@(R0,R14)
    0000144E 54F3                   MOV.L       @(12,R15),R4
    00001450 8DE9                   BT/S        L1024
    00001452 75FF                   ADD         #-1,R5
      Monochrome   769                    }
      Monochrome   770                    word = next << shift;
    00001454 84F4                   MOV.B       @(4,R15),R0
      Monochrome   771                    vram[(i<<4)] |= *((char*)&word+1);
    00001456 63F3                   MOV         R15,R3
    00001458 666C                   EXTU.B      R6,R6
    0000145A 460D                   SHLD        R0,R6
    0000145C 2F61                   MOV.W       R6,@R15
    0000145E 7A01                   ADD         #1,R10
    00001460 8431                   MOV.B       @(1,R3),R0
    00001462 7810                   ADD         #16,R8
    00001464 62D0                   MOV.B       @R13,R2
      Monochrome   772                    vram[(i<<4)+15] |= *((char*)&word);
    00001466 63F3                   MOV         R15,R3
    00001468 220B                   OR          R0,R2
    0000146A 2D20                   MOV.B       R2,@R13
    0000146C 6330                   MOV.B       @R3,R3
    0000146E 84DF                   MOV.B       @(15,R13),R0
    00001470 203B                   OR          R3,R0
    00001472 E340                   MOV         #64,R3
    00001474 80DF                   MOV.B       R0,@(15,R13)
    00001476 3A33                   CMP/GE      R3,R10
    00001478 7D10                   ADD         #16,R13
    0000147A 8FBA                   BF/S        L1022
    0000147C 7910                   ADD         #16,R9




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   64


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

      Monochrome   773            }
      Monochrome   774    }
    0000147E 7F30                   ADD         #48,R15
    00001480 4F26                   LDS.L       @R15+,PR
    00001482 68F6                   MOV.L       @R15+,R8
    00001484 69F6                   MOV.L       @R15+,R9
    00001486 6AF6                   MOV.L       @R15+,R10
    00001488 6BF6                   MOV.L       @R15+,R11
    0000148A 6CF6                   MOV.L       @R15+,R12
    0000148C 6DF6                   MOV.L       @R15+,R13
    0000148E 000B                   RTS
    00001490 6EF6                   MOV.L       @R15+,R14
      Monochrome   775    #endif
      Monochrome   776    
      Monochrome   777    #ifdef ML_VERTICAL_SCROLL
      Monochrome   778    void ML_vertical_scroll(int scroll)
    00001492              _ML_vertical_scroll:             ; function: ML_vertical_scroll
                                                           ; frame size=104
    00001492 2FE6                   MOV.L       R14,@-R15
    00001494 2FD6                   MOV.L       R13,@-R15
    00001496 2FC6                   MOV.L       R12,@-R15
    00001498 2FB6                   MOV.L       R11,@-R15
    0000149A 2FA6                   MOV.L       R10,@-R15
    0000149C 2F86                   MOV.L       R8,@-R15
    0000149E 4F22                   STS.L       PR,@-R15
      Monochrome   779    {
      Monochrome   780            int i, j;
      Monochrome   781            char column[64], *vram = ML_vram_adress();
    000014A0 D31F                   MOV.L       L1293,R3   ; _sc0135
    000014A2 7FB4                   ADD         #-76,R15
    000014A4 430B                   JSR         @R3
    000014A6 2F42                   MOV.L       R4,@R15
    000014A8 1F01                   MOV.L       R0,@(4,R15)
      Monochrome   782            scroll %= 64;
    000014AA 60F2                   MOV.L       @R15,R0
    000014AC 4011                   CMP/PZ      R0
    000014AE 8B01                   BF          L1025
    000014B0 A005                   BRA         L1026
    000014B2 C93F                   AND         #63,R0
    000014B4              L1025:                            
    000014B4 6007                   NOT         R0,R0
    000014B6 7001                   ADD         #1,R0
    000014B8 C93F                   AND         #63,R0
    000014BA 6007                   NOT         R0,R0
    000014BC 7001                   ADD         #1,R0
    000014BE              L1026:                            
      Monochrome   783            for(i=0 ; i<16 ; i++)
    000014BE EC00                   MOV         #0,R12
    000014C0 2F02                   MOV.L       R0,@R15
    000014C2 6EF3                   MOV         R15,R14
    000014C4 67C3                   MOV         R12,R7
    000014C6 7E0C                   ADD         #12,R14
    000014C8 68E3                   MOV         R14,R8
    000014CA 7840                   ADD         #64,R8
    000014CC EA10                   MOV         #16,R10
    000014CE EB3F                   MOV         #63,R11
    000014D0 ED40                   MOV         #64,R13




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   65


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    000014D2 63E3                   MOV         R14,R3
    000014D4 1F32                   MOV.L       R3,@(8,R15)
    000014D6              L1027:                            
    000014D6 51F1                   MOV.L       @(4,R15),R1
    000014D8 54F2                   MOV.L       @(8,R15),R4
    000014DA 317C                   ADD         R7,R1
    000014DC 6513                   MOV         R1,R5
      Monochrome   784            {
      Monochrome   785                    for(j=0 ; j<64 ; j++) column[j] = vram[(j<<4)+i];
    000014DE              L1028:                            
    000014DE 6250                   MOV.B       @R5,R2
    000014E0 2420                   MOV.B       R2,@R4
    000014E2 7401                   ADD         #1,R4
    000014E4 3482                   CMP/HS      R8,R4
    000014E6 8FFA                   BF/S        L1028
    000014E8 7510                   ADD         #16,R5
      Monochrome   786                    for(j=0 ; j<64 ; j++) vram[(j<<4)+i] = column[(j-scroll+64)&63];
    000014EA 66C3                   MOV         R12,R6
    000014EC 63F2                   MOV.L       @R15,R3
    000014EE 64C3                   MOV         R12,R4
    000014F0 3438                   SUB         R3,R4
    000014F2 7440                   ADD         #64,R4
    000014F4 6513                   MOV         R1,R5
    000014F6              L1029:                            
    000014F6 6043                   MOV         R4,R0
    000014F8 20B9                   AND         R11,R0
    000014FA 7601                   ADD         #1,R6
    000014FC 03EC                   MOV.B       @(R0,R14),R3
    000014FE 7401                   ADD         #1,R4
    00001500 2530                   MOV.B       R3,@R5
    00001502 36D3                   CMP/GE      R13,R6
    00001504 8FF7                   BF/S        L1029
    00001506 7510                   ADD         #16,R5
    00001508 7701                   ADD         #1,R7
    0000150A 37A3                   CMP/GE      R10,R7
    0000150C 8BE3                   BF          L1027
      Monochrome   787            }
      Monochrome   788    }
    0000150E 7F4C                   ADD         #76,R15
    00001510 4F26                   LDS.L       @R15+,PR
    00001512 68F6                   MOV.L       @R15+,R8
    00001514 6AF6                   MOV.L       @R15+,R10
    00001516 6BF6                   MOV.L       @R15+,R11
    00001518 6CF6                   MOV.L       @R15+,R12
    0000151A 6DF6                   MOV.L       @R15+,R13
    0000151C 000B                   RTS
    0000151E 6EF6                   MOV.L       @R15+,R14
    00001520              L1293:                            
    00001520 <00000000>             .DATA.L     _sc0135
      Monochrome   789    #endif
      Monochrome   790    
      Monochrome   791    #ifdef ML_BMP_OR
      Monochrome   792    void ML_bmp_or(const unsigned char *bmp, int x, int y, int width, int height)
    00001524              _ML_bmp_or:                      ; function: ML_bmp_or
                                                           ; frame size=60
    00001524 2FE6                   MOV.L       R14,@-R15
    00001526 6E63                   MOV         R6,R14




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   66


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00001528 2FD6                   MOV.L       R13,@-R15
    0000152A 2FC6                   MOV.L       R12,@-R15
    0000152C 2FB6                   MOV.L       R11,@-R15
    0000152E 6B43                   MOV         R4,R11
    00001530 2FA6                   MOV.L       R10,@-R15
    00001532 6A53                   MOV         R5,R10
    00001534 2F96                   MOV.L       R9,@-R15
    00001536 6973                   MOV         R7,R9
    00001538 2F86                   MOV.L       R8,@-R15
      Monochrome   793    {
      Monochrome   794            unsigned short line;
      Monochrome   795            char shift, *screen, *p=(char*)&line;
      Monochrome   796            int i, j, begin=0, end=height, real_width=(width-1>>3<<3)+8;
    0000153A 6C93                   MOV         R9,R12
    0000153C 4F22                   STS.L       PR,@-R15
    0000153E E800                   MOV         #0,R8
    00001540 4F12                   STS.L       MACL,@-R15
    00001542 7CFF                   ADD         #-1,R12
    00001544 7FE8                   ADD         #-24,R15
    00001546 6DF3                   MOV         R15,R13
    00001548 54FF                   MOV.L       @(60,R15),R4
    0000154A 4C21                   SHAR        R12
    0000154C 2F82                   MOV.L       R8,@R15
    0000154E 7D04                   ADD         #4,R13
    00001550 1F45                   MOV.L       R4,@(20,R15)
    00001552 4C21                   SHAR        R12
    00001554 4C21                   SHAR        R12
    00001556 62C3                   MOV         R12,R2
    00001558 4208                   SHLL2       R2
    0000155A 4200                   SHLL        R2
    0000155C 7208                   ADD         #8,R2
      Monochrome   797            if(!bmp || x<0 || x>128-width || y<1-height || y>63 || width<1 || height<1) return;
    0000155E 2BB8                   TST         R11,R11
    00001560 8F02                   BF/S        L1294
    00001562 1F23                   MOV.L       R2,@(12,R15)
    00001564 A085                   BRA         L1032
    00001566 0009                   NOP
    00001568              L1294:                            
    00001568 4A11                   CMP/PZ      R10
    0000156A 8901                   BT          L1295
    0000156C A081                   BRA         L1032
    0000156E 0009                   NOP
    00001570              L1295:                            
    00001570 933D                   MOV.W       L1296,R3   ; H'0080
    00001572 3398                   SUB         R9,R3
    00001574 3A37                   CMP/GT      R3,R10
    00001576 8B01                   BF          L1297
    00001578 A07B                   BRA         L1032
    0000157A 0009                   NOP
    0000157C              L1297:                            
    0000157C E301                   MOV         #1,R3
    0000157E 3348                   SUB         R4,R3
    00001580 3E33                   CMP/GE      R3,R14
    00001582 8B76                   BF          L1032
    00001584 E33F                   MOV         #63,R3
    00001586 3E37                   CMP/GT      R3,R14
    00001588 8973                   BT          L1032




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   67


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    0000158A E001                   MOV         #1,R0
    0000158C 3903                   CMP/GE      R0,R9
    0000158E 8B70                   BF          L1032
    00001590 3403                   CMP/GE      R0,R4
    00001592 8B6E                   BF          L1032
      Monochrome   798            if(y < 0) begin = -y;
    00001594 4E11                   CMP/PZ      R14
    00001596 8D02                   BT/S        L1033
      Monochrome   799            if(y+height > 64) end = 64-y;
    00001598 E540                   MOV         #64,R5
    0000159A 62EB                   NEG         R14,R2
    0000159C 2F22                   MOV.L       R2,@R15
    0000159E              L1033:                            
    0000159E 34EC                   ADD         R14,R4
    000015A0 3457                   CMP/GT      R5,R4
    000015A2 8B01                   BF          L1034
    000015A4 35E8                   SUB         R14,R5
    000015A6 1F55                   MOV.L       R5,@(20,R15)
    000015A8              L1034:                            
      Monochrome   800            shift = 8-(x&7);
    000015A8 E307                   MOV         #7,R3
    000015AA 23A9                   AND         R10,R3
    000015AC E208                   MOV         #8,R2
    000015AE 3238                   SUB         R3,R2
      Monochrome   801            screen = ML_vram_adress()+(y+begin<<4)+(x>>3);
    000015B0 D30F                   MOV.L       L1296+2,R3 ; _sc0135
    000015B2 E010                   MOV         #16,R0
    000015B4 430B                   JSR         @R3
    000015B6 0F24                   MOV.B       R2,@(R0,R15)
    000015B8 62F2                   MOV.L       @R15,R2
    000015BA 63A3                   MOV         R10,R3
    000015BC 3E2C                   ADD         R2,R14
    000015BE 4E08                   SHLL2       R14
    000015C0 4E08                   SHLL2       R14
    000015C2 30EC                   ADD         R14,R0
    000015C4 4321                   SHAR        R3
    000015C6 4321                   SHAR        R3
    000015C8 4321                   SHAR        R3
    000015CA 6503                   MOV         R0,R5
    000015CC 353C                   ADD         R3,R5
      Monochrome   802            for(i=begin ; i<end ; i++)
    000015CE 6623                   MOV         R2,R6
    000015D0 63D3                   MOV         R13,R3
    000015D2 7301                   ADD         #1,R3
    000015D4 2F32                   MOV.L       R3,@R15
    000015D6 54F3                   MOV.L       @(12,R15),R4
    000015D8 6143                   MOV         R4,R1
    000015DA 4121                   SHAR        R1
    000015DC 4121                   SHAR        R1
    000015DE 4121                   SHAR        R1
    000015E0 1F12                   MOV.L       R1,@(8,R15)
    000015E2 6243                   MOV         R4,R2
    000015E4 3298                   SUB         R9,R2
    000015E6 E9FF                   MOV         #-1,R9
    000015E8 492C                   SHAD        R2,R9
    000015EA A03F                   BRA         L1035
    000015EC 3A4C                   ADD         R4,R10




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   68


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    000015EE              L1296:                            
    000015EE 0080                   .DATA.W     H'0080
    000015F0 <00000000>             .DATA.L     _sc0135
    000015F4              L1036:                            
    000015F4 57F2                   MOV.L       @(8,R15),R7
    000015F6 E010                   MOV         #16,R0
    000015F8 0767                   MUL.L       R6,R7
    000015FA 4C15                   CMP/PL      R12
      Monochrome   803            {
      Monochrome   804                    for(j=0 ; j<width-1>>3 ; j++)
    000015FC 6483                   MOV         R8,R4
    000015FE 071A                   STS         MACL,R7
    00001600 8F18                   BF/S        L1037
    00001602 0EFC                   MOV.B       @(R0,R15),R14
    00001604              L1038:                            
      Monochrome   805                    {
      Monochrome   806                            line = bmp[i*(real_width>>3)+j]<<shift;
    00001604 6073                   MOV         R7,R0
    00001606 304C                   ADD         R4,R0
    00001608 00BC                   MOV.B       @(R0,R11),R0
    0000160A 600C                   EXTU.B      R0,R0
    0000160C 40ED                   SHLD        R14,R0
    0000160E 81F2                   MOV.W       R0,@(4,R15)
      Monochrome   807                            screen[j] |= *p;
    00001610 63D0                   MOV.B       @R13,R3
    00001612 6043                   MOV         R4,R0
    00001614 025C                   MOV.B       @(R0,R5),R2
    00001616 223B                   OR          R3,R2
    00001618 0524                   MOV.B       R2,@(R0,R5)
      Monochrome   808                            if(shift!=8) screen[j+1] |= *(p+1);
    0000161A 60E3                   MOV         R14,R0
    0000161C 8808                   CMP/EQ      #8,R0
    0000161E 8906                   BT          L1039
    00001620 62F2                   MOV.L       @R15,R2
    00001622 6343                   MOV         R4,R3
    00001624 6220                   MOV.B       @R2,R2
    00001626 335C                   ADD         R5,R3
    00001628 8431                   MOV.B       @(1,R3),R0
    0000162A 202B                   OR          R2,R0
    0000162C 8031                   MOV.B       R0,@(1,R3)
    0000162E              L1039:                            
    0000162E 7401                   ADD         #1,R4
    00001630 34C3                   CMP/GE      R12,R4
    00001632 8BE7                   BF          L1038
    00001634              L1037:                            
      Monochrome   809                    }
      Monochrome   810                    line = (bmp[i*(real_width>>3)+j] & -1<<(real_width-width))<<shift;
    00001634 50F2                   MOV.L       @(8,R15),R0
      Monochrome   811                    screen[j] |= *p;
    00001636 6743                   MOV         R4,R7
    00001638 0067                   MUL.L       R6,R0
    0000163A 375C                   ADD         R5,R7
    0000163C 001A                   STS         MACL,R0
    0000163E 304C                   ADD         R4,R0
    00001640 00BC                   MOV.B       @(R0,R11),R0
    00001642 600C                   EXTU.B      R0,R0
    00001644 2099                   AND         R9,R0




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   69


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00001646 40EC                   SHAD        R14,R0
    00001648 81F2                   MOV.W       R0,@(4,R15)
      Monochrome   812                    if(shift!=8 && x+real_width<129) screen[j+1] |= *(p+1);
    0000164A 60E3                   MOV         R14,R0
    0000164C 63D0                   MOV.B       @R13,R3
    0000164E 8808                   CMP/EQ      #8,R0
    00001650 6270                   MOV.B       @R7,R2
    00001652 223B                   OR          R3,R2
    00001654 8D08                   BT/S        L1040
    00001656 2720                   MOV.B       R2,@R7
    00001658 9216                   MOV.W       L1298,R2   ; H'0081
    0000165A 3A23                   CMP/GE      R2,R10
    0000165C 8904                   BT          L1040
    0000165E 61F2                   MOV.L       @R15,R1
    00001660 8471                   MOV.B       @(1,R7),R0
    00001662 6310                   MOV.B       @R1,R3
    00001664 203B                   OR          R3,R0
    00001666 8071                   MOV.B       R0,@(1,R7)
    00001668              L1040:                            
      Monochrome   813                    screen += 16;
    00001668 7510                   ADD         #16,R5
    0000166A 7601                   ADD         #1,R6
    0000166C              L1035:                            
    0000166C 53F5                   MOV.L       @(20,R15),R3
    0000166E 3633                   CMP/GE      R3,R6
    00001670 8BC0                   BF          L1036
    00001672              L1032:                            
      Monochrome   814            }
      Monochrome   815    }
    00001672 7F18                   ADD         #24,R15
    00001674 4F16                   LDS.L       @R15+,MACL
    00001676 4F26                   LDS.L       @R15+,PR
    00001678 68F6                   MOV.L       @R15+,R8
    0000167A 69F6                   MOV.L       @R15+,R9
    0000167C 6AF6                   MOV.L       @R15+,R10
    0000167E 6BF6                   MOV.L       @R15+,R11
    00001680 6CF6                   MOV.L       @R15+,R12
    00001682 6DF6                   MOV.L       @R15+,R13
    00001684 000B                   RTS
    00001686 6EF6                   MOV.L       @R15+,R14
    00001688              L1298:                            
    00001688 0081                   .DATA.W     H'0081
      Monochrome   816    #endif
      Monochrome   817    
      Monochrome   818    #ifdef ML_BMP_AND
      Monochrome   819    void ML_bmp_and(const unsigned char *bmp, int x, int y, int width, int height)
    0000168A              _ML_bmp_and:                     ; function: ML_bmp_and
                                                           ; frame size=60
    0000168A 2FE6                   MOV.L       R14,@-R15
    0000168C 2FD6                   MOV.L       R13,@-R15
    0000168E 6E63                   MOV         R6,R14
    00001690 2FC6                   MOV.L       R12,@-R15
    00001692 2FB6                   MOV.L       R11,@-R15
    00001694 2FA6                   MOV.L       R10,@-R15
    00001696 6B53                   MOV         R5,R11
    00001698 2F96                   MOV.L       R9,@-R15
    0000169A 6A43                   MOV         R4,R10




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   70


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    0000169C 2F86                   MOV.L       R8,@-R15
      Monochrome   820    {
      Monochrome   821            unsigned short line;
      Monochrome   822            char shift, *screen, *p=(char*)&line;
      Monochrome   823            int i, j, begin=0, end=height, real_width=(width-1>>3<<3)+8;
    0000169E E800                   MOV         #0,R8
    000016A0 4F22                   STS.L       PR,@-R15
    000016A2 6983                   MOV         R8,R9
    000016A4 4F12                   STS.L       MACL,@-R15
    000016A6 7FE8                   ADD         #-24,R15
    000016A8 1F71                   MOV.L       R7,@(4,R15)
    000016AA 6DF3                   MOV         R15,R13
    000016AC 54FF                   MOV.L       @(60,R15),R4
    000016AE 1F45                   MOV.L       R4,@(20,R15)
    000016B0 5CF1                   MOV.L       @(4,R15),R12
    000016B2 7CFF                   ADD         #-1,R12
    000016B4 4C21                   SHAR        R12
    000016B6 4C21                   SHAR        R12
    000016B8 4C21                   SHAR        R12
    000016BA 62C3                   MOV         R12,R2
    000016BC 4208                   SHLL2       R2
    000016BE 4200                   SHLL        R2
    000016C0 7208                   ADD         #8,R2
      Monochrome   824            if(!bmp || x<0 || x>128-width || y<1-height || y>63 || width<1 || height<1) return;
    000016C2 2AA8                   TST         R10,R10
    000016C4 8F02                   BF/S        L1299
    000016C6 1F24                   MOV.L       R2,@(16,R15)
    000016C8 A08E                   BRA         L1043
    000016CA 0009                   NOP
    000016CC              L1299:                            
    000016CC 4B11                   CMP/PZ      R11
    000016CE 8901                   BT          L1300
    000016D0 A08A                   BRA         L1043
    000016D2 0009                   NOP
    000016D4              L1300:                            
    000016D4 53F1                   MOV.L       @(4,R15),R3
    000016D6 9140                   MOV.W       L1301,R1   ; H'0080
    000016D8 3138                   SUB         R3,R1
    000016DA 3B17                   CMP/GT      R1,R11
    000016DC 8B01                   BF          L1302
    000016DE A083                   BRA         L1043
    000016E0 0009                   NOP
    000016E2              L1302:                            
    000016E2 E001                   MOV         #1,R0
    000016E4 3048                   SUB         R4,R0
    000016E6 3E03                   CMP/GE      R0,R14
    000016E8 8901                   BT          L1303
    000016EA A07D                   BRA         L1043
    000016EC 0009                   NOP
    000016EE              L1303:                            
    000016EE E13F                   MOV         #63,R1
    000016F0 3E17                   CMP/GT      R1,R14
    000016F2 8979                   BT          L1043
    000016F4 E001                   MOV         #1,R0
    000016F6 3303                   CMP/GE      R0,R3
    000016F8 8B76                   BF          L1043
    000016FA E201                   MOV         #1,R2




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   71


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    000016FC 3423                   CMP/GE      R2,R4
    000016FE 8B73                   BF          L1043
      Monochrome   825            if(y < 0) begin = -y;
    00001700 4E11                   CMP/PZ      R14
    00001702 8D01                   BT/S        L1044
      Monochrome   826            if(y+height > 64) end = 64-y;
    00001704 E540                   MOV         #64,R5
    00001706 69EB                   NEG         R14,R9
    00001708              L1044:                            
    00001708 34EC                   ADD         R14,R4
    0000170A 3457                   CMP/GT      R5,R4
    0000170C 8F02                   BF/S        L1045
      Monochrome   827            shift = 8-(x&7);
    0000170E E307                   MOV         #7,R3
    00001710 35E8                   SUB         R14,R5
    00001712 1F55                   MOV.L       R5,@(20,R15)
    00001714              L1045:                            
    00001714 23B9                   AND         R11,R3
    00001716 E008                   MOV         #8,R0
    00001718 3038                   SUB         R3,R0
      Monochrome   828            screen = ML_vram_adress()+(y+begin<<4)+(x>>3);
    0000171A D311                   MOV.L       L1301+6,R3 ; _sc0135
    0000171C 430B                   JSR         @R3
    0000171E 80FC                   MOV.B       R0,@(12,R15)
    00001720 3E9C                   ADD         R9,R14
    00001722 4E08                   SHLL2       R14
    00001724 4E08                   SHLL2       R14
    00001726 30EC                   ADD         R14,R0
    00001728 62B3                   MOV         R11,R2
    0000172A 4221                   SHAR        R2
    0000172C 4221                   SHAR        R2
    0000172E 4221                   SHAR        R2
    00001730 6503                   MOV         R0,R5
    00001732 352C                   ADD         R2,R5
    00001734 52F4                   MOV.L       @(16,R15),R2
    00001736 E308                   MOV         #8,R3
      Monochrome   829            for(i=begin ; i<end ; i++)
    00001738 6693                   MOV         R9,R6
    0000173A 69D3                   MOV         R13,R9
    0000173C 7901                   ADD         #1,R9
    0000173E 4221                   SHAR        R2
    00001740 4221                   SHAR        R2
    00001742 4221                   SHAR        R2
    00001744 1F22                   MOV.L       R2,@(8,R15)
    00001746 50F1                   MOV.L       @(4,R15),R0
    00001748 C907                   AND         #7,R0
    0000174A 3308                   SUB         R0,R3
    0000174C 9006                   MOV.W       L1301+2,R0 ; H'00FF
    0000174E 633B                   NEG         R3,R3
    00001750 403C                   SHAD        R3,R0
    00001752 80F4                   MOV.B       R0,@(4,R15)
    00001754 53F4                   MOV.L       @(16,R15),R3
    00001756 A044                   BRA         L1046
    00001758 3B3C                   ADD         R3,R11
    0000175A              L1301:                            
    0000175A 0080                   .DATA.W     H'0080
    0000175C 00FF                   .DATA.W     H'00FF




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   72


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    0000175E 0000                   .DATA.W     0
    00001760 <00000000>             .DATA.L     _sc0135
    00001764              L1047:                            
    00001764 57F2                   MOV.L       @(8,R15),R7
    00001766 4C15                   CMP/PL      R12
    00001768 84FC                   MOV.B       @(12,R15),R0
      Monochrome   830            {
      Monochrome   831                    for(j=0 ; j<width-1>>3 ; j++)
    0000176A 6483                   MOV         R8,R4
    0000176C 0767                   MUL.L       R6,R7
    0000176E 071A                   STS         MACL,R7
    00001770 8F19                   BF/S        L1048
    00001772 6E03                   MOV         R0,R14
    00001774              L1049:                            
      Monochrome   832                    {
      Monochrome   833                            line = ~((unsigned char)~bmp[i*(real_width>>3)+j]<<shift);
    00001774 6073                   MOV         R7,R0
    00001776 304C                   ADD         R4,R0
    00001778 03AC                   MOV.B       @(R0,R10),R3
      Monochrome   834                            screen[j] &= *p;
    0000177A 6043                   MOV         R4,R0
    0000177C 6337                   NOT         R3,R3
    0000177E 633C                   EXTU.B      R3,R3
    00001780 43ED                   SHLD        R14,R3
    00001782 6337                   NOT         R3,R3
    00001784 2F31                   MOV.W       R3,@R15
    00001786 62D0                   MOV.B       @R13,R2
    00001788 015C                   MOV.B       @(R0,R5),R1
    0000178A 2129                   AND         R2,R1
    0000178C 0514                   MOV.B       R1,@(R0,R5)
      Monochrome   835                            if(shift!=8) screen[j+1] &= *(p+1);
    0000178E 60E3                   MOV         R14,R0
    00001790 8808                   CMP/EQ      #8,R0
    00001792 8905                   BT          L1050
    00001794 6290                   MOV.B       @R9,R2
    00001796 6343                   MOV         R4,R3
    00001798 335C                   ADD         R5,R3
    0000179A 8431                   MOV.B       @(1,R3),R0
    0000179C 2029                   AND         R2,R0
    0000179E 8031                   MOV.B       R0,@(1,R3)
    000017A0              L1050:                            
    000017A0 7401                   ADD         #1,R4
    000017A2 34C3                   CMP/GE      R12,R4
    000017A4 8BE6                   BF          L1049
    000017A6              L1048:                            
      Monochrome   836                    }
      Monochrome   837                    line = ~((unsigned char)~(bmp[i*(real_width>>3)+j] | (unsigned char)-1>>8-(width&7))<<shif
                         +t);
      Monochrome   838                    screen[j] &= *p;
    000017A6 6743                   MOV         R4,R7
    000017A8 50F2                   MOV.L       @(8,R15),R0
    000017AA 375C                   ADD         R5,R7
    000017AC 0067                   MUL.L       R6,R0
    000017AE 001A                   STS         MACL,R0
    000017B0 304C                   ADD         R4,R0
    000017B2 03AC                   MOV.B       @(R0,R10),R3
    000017B4 84F4                   MOV.B       @(4,R15),R0




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   73


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    000017B6 203B                   OR          R3,R0
    000017B8 6007                   NOT         R0,R0
    000017BA 600C                   EXTU.B      R0,R0
    000017BC 40ED                   SHLD        R14,R0
    000017BE 6007                   NOT         R0,R0
    000017C0 2F01                   MOV.W       R0,@R15
      Monochrome   839                    if(shift!=8 && x+real_width<129) screen[j+1] &= *(p+1);
    000017C2 60E3                   MOV         R14,R0
    000017C4 63D0                   MOV.B       @R13,R3
    000017C6 8808                   CMP/EQ      #8,R0
    000017C8 6270                   MOV.B       @R7,R2
    000017CA 2239                   AND         R3,R2
    000017CC 8D07                   BT/S        L1051
    000017CE 2720                   MOV.B       R2,@R7
    000017D0 9215                   MOV.W       L1304,R2   ; H'0081
    000017D2 3B23                   CMP/GE      R2,R11
    000017D4 8903                   BT          L1051
    000017D6 6390                   MOV.B       @R9,R3
    000017D8 8471                   MOV.B       @(1,R7),R0
    000017DA 2039                   AND         R3,R0
    000017DC 8071                   MOV.B       R0,@(1,R7)
    000017DE              L1051:                            
      Monochrome   840                    screen += 16;
    000017DE 7510                   ADD         #16,R5
    000017E0 7601                   ADD         #1,R6
    000017E2              L1046:                            
    000017E2 53F5                   MOV.L       @(20,R15),R3
    000017E4 3633                   CMP/GE      R3,R6
    000017E6 8BBD                   BF          L1047
    000017E8              L1043:                            
      Monochrome   841            }
      Monochrome   842    }
    000017E8 7F18                   ADD         #24,R15
    000017EA 4F16                   LDS.L       @R15+,MACL
    000017EC 4F26                   LDS.L       @R15+,PR
    000017EE 68F6                   MOV.L       @R15+,R8
    000017F0 69F6                   MOV.L       @R15+,R9
    000017F2 6AF6                   MOV.L       @R15+,R10
    000017F4 6BF6                   MOV.L       @R15+,R11
    000017F6 6CF6                   MOV.L       @R15+,R12
    000017F8 6DF6                   MOV.L       @R15+,R13
    000017FA 000B                   RTS
    000017FC 6EF6                   MOV.L       @R15+,R14
    000017FE              L1304:                            
    000017FE 0081                   .DATA.W     H'0081
      Monochrome   843    #endif
      Monochrome   844    
      Monochrome   845    #ifdef ML_BMP_XOR
      Monochrome   846    void ML_bmp_xor(const unsigned char *bmp, int x, int y, int width, int height)
    00001800              _ML_bmp_xor:                     ; function: ML_bmp_xor
                                                           ; frame size=60
    00001800 2FE6                   MOV.L       R14,@-R15
    00001802 6E63                   MOV         R6,R14
    00001804 2FD6                   MOV.L       R13,@-R15
    00001806 2FC6                   MOV.L       R12,@-R15
    00001808 2FB6                   MOV.L       R11,@-R15
    0000180A 6B43                   MOV         R4,R11




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   74


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    0000180C 2FA6                   MOV.L       R10,@-R15
    0000180E 6A53                   MOV         R5,R10
    00001810 2F96                   MOV.L       R9,@-R15
    00001812 6973                   MOV         R7,R9
    00001814 2F86                   MOV.L       R8,@-R15
      Monochrome   847    {
      Monochrome   848            unsigned short line;
      Monochrome   849            char shift, *screen, *p=(char*)&line;
      Monochrome   850            int i, j, begin=0, end=height, real_width=(width-1>>3<<3)+8;
    00001816 6C93                   MOV         R9,R12
    00001818 4F22                   STS.L       PR,@-R15
    0000181A E800                   MOV         #0,R8
    0000181C 4F12                   STS.L       MACL,@-R15
    0000181E 7CFF                   ADD         #-1,R12
    00001820 7FE8                   ADD         #-24,R15
    00001822 6DF3                   MOV         R15,R13
    00001824 54FF                   MOV.L       @(60,R15),R4
    00001826 4C21                   SHAR        R12
    00001828 2F82                   MOV.L       R8,@R15
    0000182A 7D04                   ADD         #4,R13
    0000182C 1F45                   MOV.L       R4,@(20,R15)
    0000182E 4C21                   SHAR        R12
    00001830 4C21                   SHAR        R12
    00001832 62C3                   MOV         R12,R2
    00001834 4208                   SHLL2       R2
    00001836 4200                   SHLL        R2
    00001838 7208                   ADD         #8,R2
      Monochrome   851            if(!bmp || x<0 || x>128-width || y<1-height || y>63 || width<1 || height<1) return;
    0000183A 2BB8                   TST         R11,R11
    0000183C 8F02                   BF/S        L1305
    0000183E 1F23                   MOV.L       R2,@(12,R15)
    00001840 A085                   BRA         L1054
    00001842 0009                   NOP
    00001844              L1305:                            
    00001844 4A11                   CMP/PZ      R10
    00001846 8901                   BT          L1306
    00001848 A081                   BRA         L1054
    0000184A 0009                   NOP
    0000184C              L1306:                            
    0000184C 933D                   MOV.W       L1307,R3   ; H'0080
    0000184E 3398                   SUB         R9,R3
    00001850 3A37                   CMP/GT      R3,R10
    00001852 8B01                   BF          L1308
    00001854 A07B                   BRA         L1054
    00001856 0009                   NOP
    00001858              L1308:                            
    00001858 E301                   MOV         #1,R3
    0000185A 3348                   SUB         R4,R3
    0000185C 3E33                   CMP/GE      R3,R14
    0000185E 8B76                   BF          L1054
    00001860 E33F                   MOV         #63,R3
    00001862 3E37                   CMP/GT      R3,R14
    00001864 8973                   BT          L1054
    00001866 E001                   MOV         #1,R0
    00001868 3903                   CMP/GE      R0,R9
    0000186A 8B70                   BF          L1054
    0000186C 3403                   CMP/GE      R0,R4




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   75


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    0000186E 8B6E                   BF          L1054
      Monochrome   852            if(y < 0) begin = -y;
    00001870 4E11                   CMP/PZ      R14
    00001872 8D02                   BT/S        L1055
      Monochrome   853            if(y+height > 64) end = 64-y;
    00001874 E540                   MOV         #64,R5
    00001876 62EB                   NEG         R14,R2
    00001878 2F22                   MOV.L       R2,@R15
    0000187A              L1055:                            
    0000187A 34EC                   ADD         R14,R4
    0000187C 3457                   CMP/GT      R5,R4
    0000187E 8B01                   BF          L1056
    00001880 35E8                   SUB         R14,R5
    00001882 1F55                   MOV.L       R5,@(20,R15)
    00001884              L1056:                            
      Monochrome   854            shift = 8-(x&7);
    00001884 E307                   MOV         #7,R3
    00001886 23A9                   AND         R10,R3
    00001888 E208                   MOV         #8,R2
    0000188A 3238                   SUB         R3,R2
      Monochrome   855            screen = ML_vram_adress()+(y+begin<<4)+(x>>3);
    0000188C D30F                   MOV.L       L1307+2,R3 ; _sc0135
    0000188E E010                   MOV         #16,R0
    00001890 430B                   JSR         @R3
    00001892 0F24                   MOV.B       R2,@(R0,R15)
    00001894 62F2                   MOV.L       @R15,R2
    00001896 63A3                   MOV         R10,R3
    00001898 3E2C                   ADD         R2,R14
    0000189A 4E08                   SHLL2       R14
    0000189C 4E08                   SHLL2       R14
    0000189E 30EC                   ADD         R14,R0
    000018A0 4321                   SHAR        R3
    000018A2 4321                   SHAR        R3
    000018A4 4321                   SHAR        R3
    000018A6 6503                   MOV         R0,R5
    000018A8 353C                   ADD         R3,R5
      Monochrome   856            for(i=begin ; i<end ; i++)
    000018AA 6623                   MOV         R2,R6
    000018AC 63D3                   MOV         R13,R3
    000018AE 7301                   ADD         #1,R3
    000018B0 2F32                   MOV.L       R3,@R15
    000018B2 54F3                   MOV.L       @(12,R15),R4
    000018B4 6143                   MOV         R4,R1
    000018B6 4121                   SHAR        R1
    000018B8 4121                   SHAR        R1
    000018BA 4121                   SHAR        R1
    000018BC 1F12                   MOV.L       R1,@(8,R15)
    000018BE 6243                   MOV         R4,R2
    000018C0 3298                   SUB         R9,R2
    000018C2 E9FF                   MOV         #-1,R9
    000018C4 492C                   SHAD        R2,R9
    000018C6 A03F                   BRA         L1057
    000018C8 3A4C                   ADD         R4,R10
    000018CA              L1307:                            
    000018CA 0080                   .DATA.W     H'0080
    000018CC <00000000>             .DATA.L     _sc0135
    000018D0              L1058:                            




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   76


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    000018D0 57F2                   MOV.L       @(8,R15),R7
    000018D2 E010                   MOV         #16,R0
    000018D4 0767                   MUL.L       R6,R7
    000018D6 4C15                   CMP/PL      R12
      Monochrome   857            {
      Monochrome   858                    for(j=0 ; j<width-1>>3 ; j++)
    000018D8 6483                   MOV         R8,R4
    000018DA 071A                   STS         MACL,R7
    000018DC 8F18                   BF/S        L1059
    000018DE 0EFC                   MOV.B       @(R0,R15),R14
    000018E0              L1060:                            
      Monochrome   859                    {
      Monochrome   860                            line = bmp[i*(real_width>>3)+j]<<shift;
    000018E0 6073                   MOV         R7,R0
    000018E2 304C                   ADD         R4,R0
    000018E4 00BC                   MOV.B       @(R0,R11),R0
    000018E6 600C                   EXTU.B      R0,R0
    000018E8 40ED                   SHLD        R14,R0
    000018EA 81F2                   MOV.W       R0,@(4,R15)
      Monochrome   861                            screen[j] ^= *p;
    000018EC 63D0                   MOV.B       @R13,R3
    000018EE 6043                   MOV         R4,R0
    000018F0 025C                   MOV.B       @(R0,R5),R2
    000018F2 223A                   XOR         R3,R2
    000018F4 0524                   MOV.B       R2,@(R0,R5)
      Monochrome   862                            if(shift!=8) screen[j+1] ^= *(p+1);
    000018F6 60E3                   MOV         R14,R0
    000018F8 8808                   CMP/EQ      #8,R0
    000018FA 8906                   BT          L1061
    000018FC 62F2                   MOV.L       @R15,R2
    000018FE 6343                   MOV         R4,R3
    00001900 6220                   MOV.B       @R2,R2
    00001902 335C                   ADD         R5,R3
    00001904 8431                   MOV.B       @(1,R3),R0
    00001906 202A                   XOR         R2,R0
    00001908 8031                   MOV.B       R0,@(1,R3)
    0000190A              L1061:                            
    0000190A 7401                   ADD         #1,R4
    0000190C 34C3                   CMP/GE      R12,R4
    0000190E 8BE7                   BF          L1060
    00001910              L1059:                            
      Monochrome   863                    }
      Monochrome   864                    line = (bmp[i*(real_width>>3)+j] & -1<<(real_width-width))<<shift;
    00001910 50F2                   MOV.L       @(8,R15),R0
      Monochrome   865                    screen[j] ^= *p;
    00001912 6743                   MOV         R4,R7
    00001914 0067                   MUL.L       R6,R0
    00001916 375C                   ADD         R5,R7
    00001918 001A                   STS         MACL,R0
    0000191A 304C                   ADD         R4,R0
    0000191C 00BC                   MOV.B       @(R0,R11),R0
    0000191E 600C                   EXTU.B      R0,R0
    00001920 2099                   AND         R9,R0
    00001922 40EC                   SHAD        R14,R0
    00001924 81F2                   MOV.W       R0,@(4,R15)
      Monochrome   866                    if(shift!=8 && x+real_width<129) screen[j+1] ^= *(p+1);
    00001926 60E3                   MOV         R14,R0




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   77


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00001928 63D0                   MOV.B       @R13,R3
    0000192A 8808                   CMP/EQ      #8,R0
    0000192C 6270                   MOV.B       @R7,R2
    0000192E 223A                   XOR         R3,R2
    00001930 8D08                   BT/S        L1062
    00001932 2720                   MOV.B       R2,@R7
    00001934 9268                   MOV.W       L1309,R2   ; H'0081
    00001936 3A23                   CMP/GE      R2,R10
    00001938 8904                   BT          L1062
    0000193A 61F2                   MOV.L       @R15,R1
    0000193C 8471                   MOV.B       @(1,R7),R0
    0000193E 6310                   MOV.B       @R1,R3
    00001940 203A                   XOR         R3,R0
    00001942 8071                   MOV.B       R0,@(1,R7)
    00001944              L1062:                            
      Monochrome   867                    screen += 16;
    00001944 7510                   ADD         #16,R5
    00001946 7601                   ADD         #1,R6
    00001948              L1057:                            
    00001948 53F5                   MOV.L       @(20,R15),R3
    0000194A 3633                   CMP/GE      R3,R6
    0000194C 8BC0                   BF          L1058
    0000194E              L1054:                            
      Monochrome   868            }
      Monochrome   869    }
    0000194E 7F18                   ADD         #24,R15
    00001950 4F16                   LDS.L       @R15+,MACL
    00001952 4F26                   LDS.L       @R15+,PR
    00001954 68F6                   MOV.L       @R15+,R8
    00001956 69F6                   MOV.L       @R15+,R9
    00001958 6AF6                   MOV.L       @R15+,R10
    0000195A 6BF6                   MOV.L       @R15+,R11
    0000195C 6CF6                   MOV.L       @R15+,R12
    0000195E 6DF6                   MOV.L       @R15+,R13
    00001960 000B                   RTS
    00001962 6EF6                   MOV.L       @R15+,R14
      Monochrome   870    #endif
      Monochrome   871    
      Monochrome   872    #ifdef ML_BMP_OR_CL
      Monochrome   873    void ML_bmp_or_cl(const unsigned char *bmp, int x, int y, int width, int height)
    00001964              _ML_bmp_or_cl:                   ; function: ML_bmp_or_cl
                                                           ; frame size=92
    00001964 2FE6                   MOV.L       R14,@-R15
    00001966 E05C                   MOV         #92,R0
    00001968 2FD6                   MOV.L       R13,@-R15
    0000196A 2FC6                   MOV.L       R12,@-R15
    0000196C 2FB6                   MOV.L       R11,@-R15
    0000196E 2FA6                   MOV.L       R10,@-R15
    00001970 2F96                   MOV.L       R9,@-R15
    00001972 6963                   MOV         R6,R9
    00001974 2F86                   MOV.L       R8,@-R15
      Monochrome   874    {
      Monochrome   875            unsigned short line;
      Monochrome   876            char shift, *screen, *p;
      Monochrome   877            int i, j, real_width, begin_x, end_x, begin_y, end_y;
      Monochrome   878            char bool1=1, bool2=1, bool3;
    00001976 E601                   MOV         #1,R6




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   78


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00001978 4F22                   STS.L       PR,@-R15
    0000197A 4F12                   STS.L       MACL,@-R15
    0000197C 7FC8                   ADD         #-56,R15
    0000197E 1F45                   MOV.L       R4,@(20,R15)
    00001980 1F72                   MOV.L       R7,@(8,R15)
    00001982 04FE                   MOV.L       @(R0,R15),R4
    00001984 E01C                   MOV         #28,R0
    00001986 0F64                   MOV.B       R6,@(R0,R15)
    00001988 E034                   MOV         #52,R0
    0000198A 0F64                   MOV.B       R6,@(R0,R15)
      Monochrome   879            if(!bmp || x<1-width || x>127 || y<1-height || y>63 || height<1 || width<1) return;
    0000198C 53F5                   MOV.L       @(20,R15),R3
    0000198E 2338                   TST         R3,R3
    00001990 8B01                   BF          L1310
    00001992 A103                   BRA         L1065
    00001994 0009                   NOP
    00001996              L1310:                            
    00001996 E201                   MOV         #1,R2
    00001998 53F2                   MOV.L       @(8,R15),R3
    0000199A 3238                   SUB         R3,R2
    0000199C 3523                   CMP/GE      R2,R5
    0000199E 8901                   BT          L1311
    000019A0 A0FC                   BRA         L1065
    000019A2 0009                   NOP
    000019A4              L1311:                            
    000019A4 E17F                   MOV         #127,R1
    000019A6 3517                   CMP/GT      R1,R5
    000019A8 8B01                   BF          L1312
    000019AA A0F7                   BRA         L1065
    000019AC 0009                   NOP
    000019AE              L1312:                            
    000019AE E001                   MOV         #1,R0
    000019B0 3048                   SUB         R4,R0
    000019B2 3903                   CMP/GE      R0,R9
    000019B4 8901                   BT          L1313
    000019B6 A0F1                   BRA         L1065
    000019B8 0009                   NOP
    000019BA              L1313:                            
    000019BA E23F                   MOV         #63,R2
    000019BC 3927                   CMP/GT      R2,R9
    000019BE 8B01                   BF          L1314
    000019C0 A0EC                   BRA         L1065
    000019C2 0009                   NOP
    000019C4              L1314:                            
    000019C4 E001                   MOV         #1,R0
    000019C6 3403                   CMP/GE      R0,R4
    000019C8 8901                   BT          L1315
    000019CA A0E7                   BRA         L1065
    000019CC 0009                   NOP
    000019CE              L1315:                            
    000019CE 52F2                   MOV.L       @(8,R15),R2
    000019D0 3203                   CMP/GE      R0,R2
    000019D2 8901                   BT          L1316
    000019D4 A0E2                   BRA         L1065
    000019D6 0009                   NOP
    000019D8              L1316:                            
      Monochrome   880            p = (char*)&line;




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   79


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

      Monochrome   881            real_width = (width-1>>3<<3)+8;
    000019D8 52F2                   MOV.L       @(8,R15),R2
    000019DA 6BF3                   MOV         R15,R11
    000019DC 72FF                   ADD         #-1,R2
    000019DE 4221                   SHAR        R2
    000019E0 4221                   SHAR        R2
    000019E2 4221                   SHAR        R2
    000019E4 4208                   SHLL2       R2
    000019E6 4200                   SHLL        R2
    000019E8 7208                   ADD         #8,R2
      Monochrome   882            if(y < 0) begin_y = -y;
    000019EA 4911                   CMP/PZ      R9
    000019EC 1F23                   MOV.L       R2,@(12,R15)
    000019EE 8D02                   BT/S        L1066
    000019F0 E600                   MOV         #0,R6
    000019F2 A001                   BRA         L1067
    000019F4 689B                   NEG         R9,R8
    000019F6              L1066:                            
      Monochrome   883            else begin_y = 0;
    000019F6 6863                   MOV         R6,R8
    000019F8              L1067:                            
      Monochrome   884            if(y+height > 64) end_y = 64-y;
    000019F8 E740                   MOV         #64,R7
    000019FA 6393                   MOV         R9,R3
    000019FC 334C                   ADD         R4,R3
    000019FE 3377                   CMP/GT      R7,R3
    00001A00 8B03                   BF          L1068
    00001A02 3798                   SUB         R9,R7
    00001A04 A002                   BRA         L1069
    00001A06 1F7C                   MOV.L       R7,@(48,R15)
    00001A08              L1309:                            
    00001A08 0081                   .DATA.W     H'0081
    00001A0A              L1068:                            
      Monochrome   885            else end_y = height;
    00001A0A 1F4C                   MOV.L       R4,@(48,R15)
    00001A0C              L1069:                            
      Monochrome   886            shift = 8-(x&7);
    00001A0C E307                   MOV         #7,R3
    00001A0E 2359                   AND         R5,R3
    00001A10 E408                   MOV         #8,R4
    00001A12 3438                   SUB         R3,R4
    00001A14 4511                   CMP/PZ      R5
    00001A16 8D0A                   BT/S        L1070
    00001A18 6E4E                   EXTS.B      R4,R14
      Monochrome   887            if(x<0)
      Monochrome   888            {
      Monochrome   889                    begin_x = -x>>3;
    00001A1A 6C5B                   NEG         R5,R12
    00001A1C 4C21                   SHAR        R12
    00001A1E 4C21                   SHAR        R12
    00001A20 4C21                   SHAR        R12
      Monochrome   890                    if(shift != 8) bool1 = 0;
    00001A22 60E3                   MOV         R14,R0
    00001A24 8808                   CMP/EQ      #8,R0
    00001A26 8903                   BT          L1072
    00001A28 E01C                   MOV         #28,R0
    00001A2A A001                   BRA         L1072




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   80


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00001A2C 0F64                   MOV.B       R6,@(R0,R15)
    00001A2E              L1070:                            
      Monochrome   891            } else begin_x = 0;
    00001A2E 6C63                   MOV         R6,R12
    00001A30              L1072:                            
    00001A30 9343                   MOV.W       L1317,R3   ; H'0080
    00001A32 6253                   MOV         R5,R2
    00001A34 4221                   SHAR        R2
    00001A36 4221                   SHAR        R2
    00001A38 4221                   SHAR        R2
    00001A3A 1F21                   MOV.L       R2,@(4,R15)
    00001A3C 54F3                   MOV.L       @(12,R15),R4
    00001A3E 74FF                   ADD         #-1,R4
    00001A40 51F3                   MOV.L       @(12,R15),R1
    00001A42 4421                   SHAR        R4
    00001A44 4421                   SHAR        R4
    00001A46 4421                   SHAR        R4
    00001A48 315C                   ADD         R5,R1
    00001A4A 3137                   CMP/GT      R3,R1
    00001A4C 8B04                   BF          L1073
      Monochrome   892            if(x+real_width > 128) end_x = 15-(x>>3), bool2 = 0;
    00001A4E ED0F                   MOV         #15,R13
    00001A50 3D28                   SUB         R2,R13
    00001A52 E034                   MOV         #52,R0
    00001A54 A001                   BRA         L1074
    00001A56 0F64                   MOV.B       R6,@(R0,R15)
    00001A58              L1073:                            
      Monochrome   893            else end_x = real_width-1>>3;
    00001A58 6D43                   MOV         R4,R13
    00001A5A              L1074:                            
      Monochrome   894            bool3 = (end_x == real_width-1>>3);
    00001A5A 3D40                   CMP/EQ      R4,R13
      Monochrome   895            screen = ML_vram_adress()+(y+begin_y<<4)+(x>>3);
    00001A5C DA17                   MOV.L       L1317+2,R10; _sc0135
    00001A5E 61F3                   MOV         R15,R1
    00001A60 0029                   MOVT        R0
    00001A62 712C                   ADD         #44,R1
    00001A64 4A0B                   JSR         @R10
    00001A66 2100                   MOV.B       R0,@R1
    00001A68 53F1                   MOV.L       @(4,R15),R3
    00001A6A 61B3                   MOV         R11,R1
      Monochrome   896    
      Monochrome   897            for(i=begin_y ; i<end_y ; i++)
    00001A6C 1F86                   MOV.L       R8,@(24,R15)
    00001A6E 6A93                   MOV         R9,R10
    00001A70 54F3                   MOV.L       @(12,R15),R4
    00001A72 7101                   ADD         #1,R1
    00001A74 3A8C                   ADD         R8,R10
    00001A76 4A08                   SHLL2       R10
    00001A78 4A08                   SHLL2       R10
    00001A7A 3A0C                   ADD         R0,R10
    00001A7C 3A3C                   ADD         R3,R10
    00001A7E 4421                   SHAR        R4
    00001A80 4421                   SHAR        R4
    00001A82 4421                   SHAR        R4
    00001A84 1F44                   MOV.L       R4,@(16,R15)
    00001A86 53F6                   MOV.L       @(24,R15),R3




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   81


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00001A88 52F5                   MOV.L       @(20,R15),R2
    00001A8A 0437                   MUL.L       R3,R4
    00001A8C 041A                   STS         MACL,R4
    00001A8E 6843                   MOV         R4,R8
    00001A90 38DC                   ADD         R13,R8
    00001A92 382C                   ADD         R2,R8
    00001A94 6943                   MOV         R4,R9
    00001A96 34CC                   ADD         R12,R4
    00001A98 342C                   ADD         R2,R4
    00001A9A 63C3                   MOV         R12,R3
    00001A9C 1F48                   MOV.L       R4,@(32,R15)
    00001A9E 7301                   ADD         #1,R3
    00001AA0 1F11                   MOV.L       R1,@(4,R15)
    00001AA2 1F3A                   MOV.L       R3,@(40,R15)
    00001AA4 52F2                   MOV.L       @(8,R15),R2
    00001AA6 50F3                   MOV.L       @(12,R15),R0
    00001AA8 3028                   SUB         R2,R0
    00001AAA E1FF                   MOV         #-1,R1
    00001AAC 410C                   SHAD        R0,R1
    00001AAE 1F13                   MOV.L       R1,@(12,R15)
    00001AB0 55F4                   MOV.L       @(16,R15),R5
    00001AB2 1F59                   MOV.L       R5,@(36,R15)
    00001AB4 1F54                   MOV.L       R5,@(16,R15)
    00001AB6 A06D                   BRA         L1075
    00001AB8 1F52                   MOV.L       R5,@(8,R15)
    00001ABA              L1317:                            
    00001ABA 0080                   .DATA.W     H'0080
    00001ABC <00000000>             .DATA.L     _sc0135
    00001AC0              L1076:                            
      Monochrome   898            {
      Monochrome   899                    if(begin_x < end_x)
    00001AC0 3CD3                   CMP/GE      R13,R12
    00001AC2 8938                   BT          L1077
      Monochrome   900                    {
      Monochrome   901                            line = bmp[i*(real_width>>3)+begin_x] << shift;
    00001AC4 53F8                   MOV.L       @(32,R15),R3
    00001AC6 64C3                   MOV         R12,R4
    00001AC8 6230                   MOV.B       @R3,R2
    00001ACA E01C                   MOV         #28,R0
    00001ACC 622C                   EXTU.B      R2,R2
    00001ACE 42ED                   SHLD        R14,R2
    00001AD0 2F21                   MOV.W       R2,@R15
    00001AD2 03FC                   MOV.B       @(R0,R15),R3
    00001AD4 2338                   TST         R3,R3
    00001AD6 8D04                   BT/S        L1078
    00001AD8 34AC                   ADD         R10,R4
      Monochrome   902                            if(bool1) screen[begin_x] |= *p;
    00001ADA 63B0                   MOV.B       @R11,R3
    00001ADC 6140                   MOV.B       @R4,R1
    00001ADE 213B                   OR          R3,R1
    00001AE0 2410                   MOV.B       R1,@R4
    00001AE2              L1078:                            
      Monochrome   903                            if(shift!=8) screen[begin_x+1] |= *(p+1);
    00001AE2 60E3                   MOV         R14,R0
    00001AE4 8808                   CMP/EQ      #8,R0
    00001AE6 8904                   BT          L1079
    00001AE8 52F1                   MOV.L       @(4,R15),R2




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   82


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00001AEA 6320                   MOV.B       @R2,R3
    00001AEC 8441                   MOV.B       @(1,R4),R0
    00001AEE 203B                   OR          R3,R0
    00001AF0 8041                   MOV.B       R0,@(1,R4)
    00001AF2              L1079:                            
      Monochrome   904                            for(j=begin_x+1 ; j<end_x ; j++)
    00001AF2 54FA                   MOV.L       @(40,R15),R4
    00001AF4 53F5                   MOV.L       @(20,R15),R3
    00001AF6 34D3                   CMP/GE      R13,R4
    00001AF8 6643                   MOV         R4,R6
    00001AFA 36AC                   ADD         R10,R6
    00001AFC 6563                   MOV         R6,R5
    00001AFE 7501                   ADD         #1,R5
    00001B00 6763                   MOV         R6,R7
    00001B02 6693                   MOV         R9,R6
    00001B04 364C                   ADD         R4,R6
    00001B06 8D16                   BT/S        L1077
    00001B08 363C                   ADD         R3,R6
    00001B0A              L1081:                            
      Monochrome   905                            {
      Monochrome   906                                    line = bmp[i*(real_width>>3)+j] << shift;
      Monochrome   907                                    screen[j] |= *p;
      Monochrome   908                                    if(shift!=8) screen[j+1] |= *(p+1);
    00001B0A 60E3                   MOV         R14,R0
    00001B0C 6360                   MOV.B       @R6,R3
    00001B0E 8808                   CMP/EQ      #8,R0
    00001B10 633C                   EXTU.B      R3,R3
    00001B12 43ED                   SHLD        R14,R3
    00001B14 2F31                   MOV.W       R3,@R15
    00001B16 62B0                   MOV.B       @R11,R2
    00001B18 6170                   MOV.B       @R7,R1
    00001B1A 212B                   OR          R2,R1
    00001B1C 8D05                   BT/S        L1082
    00001B1E 2710                   MOV.B       R1,@R7
    00001B20 52F1                   MOV.L       @(4,R15),R2
    00001B22 6320                   MOV.B       @R2,R3
    00001B24 6150                   MOV.B       @R5,R1
    00001B26 213B                   OR          R3,R1
    00001B28 2510                   MOV.B       R1,@R5
    00001B2A              L1082:                            
    00001B2A 7401                   ADD         #1,R4
    00001B2C 7501                   ADD         #1,R5
    00001B2E 7701                   ADD         #1,R7
    00001B30 34D3                   CMP/GE      R13,R4
    00001B32 8FEA                   BF/S        L1081
    00001B34 7601                   ADD         #1,R6
    00001B36              L1077:                            
      Monochrome   909                            }
      Monochrome   910                    }
      Monochrome   911                    line = bmp[i*(real_width>>3)+end_x];
      Monochrome   912                    if(bool3) line &= -1<<real_width-width;
    00001B36 E02C                   MOV         #44,R0
    00001B38 6280                   MOV.B       @R8,R2
    00001B3A 622C                   EXTU.B      R2,R2
    00001B3C 2F21                   MOV.W       R2,@R15
    00001B3E 03FC                   MOV.B       @(R0,R15),R3
    00001B40 2338                   TST         R3,R3




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   83


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00001B42 8903                   BT          L1083
    00001B44 53F3                   MOV.L       @(12,R15),R3
    00001B46 61F1                   MOV.W       @R15,R1
    00001B48 2139                   AND         R3,R1
    00001B4A 2F11                   MOV.W       R1,@R15
    00001B4C              L1083:                            
      Monochrome   913                    line <<= shift;
    00001B4C 62F1                   MOV.W       @R15,R2
    00001B4E 64D3                   MOV         R13,R4
    00001B50 42ED                   SHLD        R14,R2
    00001B52 3CD3                   CMP/GE      R13,R12
    00001B54 2F21                   MOV.W       R2,@R15
    00001B56 8F04                   BF/S        L1085
    00001B58 34AC                   ADD         R10,R4
    00001B5A E01C                   MOV         #28,R0
    00001B5C 01FC                   MOV.B       @(R0,R15),R1
    00001B5E 2118                   TST         R1,R1
    00001B60 8903                   BT          L1084
    00001B62              L1085:                            
      Monochrome   914                    if(begin_x < end_x || bool1) screen[end_x] |= *p;
    00001B62 63B0                   MOV.B       @R11,R3
    00001B64 6240                   MOV.B       @R4,R2
    00001B66 223B                   OR          R3,R2
    00001B68 2420                   MOV.B       R2,@R4
    00001B6A              L1084:                            
      Monochrome   915                    if(bool2) screen[end_x+1] |= *(p+1);
    00001B6A E034                   MOV         #52,R0
    00001B6C 01FC                   MOV.B       @(R0,R15),R1
    00001B6E 2118                   TST         R1,R1
    00001B70 8D05                   BT/S        L1086
      Monochrome   916                    screen += 16;
    00001B72 7A10                   ADD         #16,R10
    00001B74 51F1                   MOV.L       @(4,R15),R1
    00001B76 6310                   MOV.B       @R1,R3
    00001B78 8441                   MOV.B       @(1,R4),R0
    00001B7A 203B                   OR          R3,R0
    00001B7C 8041                   MOV.B       R0,@(1,R4)
    00001B7E              L1086:                            
    00001B7E 53F6                   MOV.L       @(24,R15),R3
    00001B80 7301                   ADD         #1,R3
    00001B82 1F36                   MOV.L       R3,@(24,R15)
    00001B84 52F9                   MOV.L       @(36,R15),R2
    00001B86 382C                   ADD         R2,R8
    00001B88 51F4                   MOV.L       @(16,R15),R1
    00001B8A 391C                   ADD         R1,R9
    00001B8C 53F8                   MOV.L       @(32,R15),R3
    00001B8E 50F2                   MOV.L       @(8,R15),R0
    00001B90 303C                   ADD         R3,R0
    00001B92 1F08                   MOV.L       R0,@(32,R15)
    00001B94              L1075:                            
    00001B94 53FC                   MOV.L       @(48,R15),R3
    00001B96 51F6                   MOV.L       @(24,R15),R1
    00001B98 3133                   CMP/GE      R3,R1
    00001B9A 8B91                   BF          L1076
    00001B9C              L1065:                            
      Monochrome   917            }
      Monochrome   918    }




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   84


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00001B9C 7F38                   ADD         #56,R15
    00001B9E 4F16                   LDS.L       @R15+,MACL
    00001BA0 4F26                   LDS.L       @R15+,PR
    00001BA2 68F6                   MOV.L       @R15+,R8
    00001BA4 69F6                   MOV.L       @R15+,R9
    00001BA6 6AF6                   MOV.L       @R15+,R10
    00001BA8 6BF6                   MOV.L       @R15+,R11
    00001BAA 6CF6                   MOV.L       @R15+,R12
    00001BAC 6DF6                   MOV.L       @R15+,R13
    00001BAE 000B                   RTS
    00001BB0 6EF6                   MOV.L       @R15+,R14
      Monochrome   919    #endif
      Monochrome   920    
      Monochrome   921    #ifdef ML_BMP_AND_CL
      Monochrome   922    void ML_bmp_and_cl(const unsigned char *bmp, int x, int y, int width, int height)
    00001BB2              _ML_bmp_and_cl:                  ; function: ML_bmp_and_cl
                                                           ; frame size=92
    00001BB2 E05C                   MOV         #92,R0
    00001BB4 2FE6                   MOV.L       R14,@-R15
    00001BB6 2FD6                   MOV.L       R13,@-R15
    00001BB8 2FC6                   MOV.L       R12,@-R15
    00001BBA 2FB6                   MOV.L       R11,@-R15
    00001BBC 2FA6                   MOV.L       R10,@-R15
    00001BBE 2F96                   MOV.L       R9,@-R15
    00001BC0 2F86                   MOV.L       R8,@-R15
    00001BC2 6963                   MOV         R6,R9
    00001BC4 4F22                   STS.L       PR,@-R15
      Monochrome   923    {
      Monochrome   924            unsigned short line;
      Monochrome   925            char shift, *screen, *p;
      Monochrome   926            int i, j, real_width, begin_x, end_x, begin_y, end_y;
      Monochrome   927            char bool1=1, bool2=1, bool3;
    00001BC6 E601                   MOV         #1,R6
    00001BC8 4F12                   STS.L       MACL,@-R15
    00001BCA 7FC8                   ADD         #-56,R15
    00001BCC 1F45                   MOV.L       R4,@(20,R15)
    00001BCE 1F72                   MOV.L       R7,@(8,R15)
    00001BD0 04FE                   MOV.L       @(R0,R15),R4
    00001BD2 E01C                   MOV         #28,R0
    00001BD4 0F64                   MOV.B       R6,@(R0,R15)
    00001BD6 E034                   MOV         #52,R0
    00001BD8 0F64                   MOV.B       R6,@(R0,R15)
      Monochrome   928            if(!bmp || x<1-width || x>127 || y<1-height || y>63 || height<1 || width<1) return;
    00001BDA 53F5                   MOV.L       @(20,R15),R3
    00001BDC 2338                   TST         R3,R3
    00001BDE 8B01                   BF          L1318
    00001BE0 A109                   BRA         L1089
    00001BE2 0009                   NOP
    00001BE4              L1318:                            
    00001BE4 53F2                   MOV.L       @(8,R15),R3
    00001BE6 E201                   MOV         #1,R2
    00001BE8 3238                   SUB         R3,R2
    00001BEA 3523                   CMP/GE      R2,R5
    00001BEC 8901                   BT          L1319
    00001BEE A102                   BRA         L1089
    00001BF0 0009                   NOP
    00001BF2              L1319:                            




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   85


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00001BF2 E17F                   MOV         #127,R1
    00001BF4 3517                   CMP/GT      R1,R5
    00001BF6 8B01                   BF          L1320
    00001BF8 A0FD                   BRA         L1089
    00001BFA 0009                   NOP
    00001BFC              L1320:                            
    00001BFC E001                   MOV         #1,R0
    00001BFE 3048                   SUB         R4,R0
    00001C00 3903                   CMP/GE      R0,R9
    00001C02 8901                   BT          L1321
    00001C04 A0F7                   BRA         L1089
    00001C06 0009                   NOP
    00001C08              L1321:                            
    00001C08 E23F                   MOV         #63,R2
    00001C0A 3927                   CMP/GT      R2,R9
    00001C0C 8B01                   BF          L1322
    00001C0E A0F2                   BRA         L1089
    00001C10 0009                   NOP
    00001C12              L1322:                            
    00001C12 E001                   MOV         #1,R0
    00001C14 3403                   CMP/GE      R0,R4
    00001C16 8901                   BT          L1323
    00001C18 A0ED                   BRA         L1089
    00001C1A 0009                   NOP
    00001C1C              L1323:                            
    00001C1C 52F2                   MOV.L       @(8,R15),R2
    00001C1E 3203                   CMP/GE      R0,R2
    00001C20 8901                   BT          L1324
    00001C22 A0E8                   BRA         L1089
    00001C24 0009                   NOP
    00001C26              L1324:                            
      Monochrome   929            p = (char*)&line;
    00001C26 6BF3                   MOV         R15,R11
      Monochrome   930            real_width = (width-1>>3<<3)+8;
    00001C28 52F2                   MOV.L       @(8,R15),R2
    00001C2A 72FF                   ADD         #-1,R2
    00001C2C 4221                   SHAR        R2
    00001C2E 4221                   SHAR        R2
    00001C30 4221                   SHAR        R2
    00001C32 4208                   SHLL2       R2
    00001C34 4200                   SHLL        R2
    00001C36 7208                   ADD         #8,R2
    00001C38 1F23                   MOV.L       R2,@(12,R15)
      Monochrome   931            if(y < 0) begin_y = -y;
    00001C3A 4911                   CMP/PZ      R9
    00001C3C 8D02                   BT/S        L1090
    00001C3E E600                   MOV         #0,R6
    00001C40 A001                   BRA         L1091
    00001C42 689B                   NEG         R9,R8
    00001C44              L1090:                            
      Monochrome   932            else begin_y = 0;
    00001C44 6863                   MOV         R6,R8
    00001C46              L1091:                            
      Monochrome   933            if(y+height > 64) end_y = 64-y;
    00001C46 E740                   MOV         #64,R7
    00001C48 6393                   MOV         R9,R3
    00001C4A 334C                   ADD         R4,R3




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   86


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00001C4C 3377                   CMP/GT      R7,R3
    00001C4E 8B02                   BF          L1092
    00001C50 3798                   SUB         R9,R7
    00001C52 A001                   BRA         L1093
    00001C54 1F7C                   MOV.L       R7,@(48,R15)
    00001C56              L1092:                            
      Monochrome   934            else end_y = height;
    00001C56 1F4C                   MOV.L       R4,@(48,R15)
    00001C58              L1093:                            
      Monochrome   935            shift = 8-(x&7);
    00001C58 E307                   MOV         #7,R3
    00001C5A 2359                   AND         R5,R3
    00001C5C E408                   MOV         #8,R4
    00001C5E 3438                   SUB         R3,R4
    00001C60 4511                   CMP/PZ      R5
    00001C62 8D0A                   BT/S        L1094
    00001C64 6E4E                   EXTS.B      R4,R14
      Monochrome   936            if(x<0)
      Monochrome   937            {
      Monochrome   938                    begin_x = -x>>3;
    00001C66 6C5B                   NEG         R5,R12
    00001C68 4C21                   SHAR        R12
    00001C6A 4C21                   SHAR        R12
    00001C6C 4C21                   SHAR        R12
      Monochrome   939                    if(shift != 8) bool1 = 0;
    00001C6E 60E3                   MOV         R14,R0
    00001C70 8808                   CMP/EQ      #8,R0
    00001C72 8903                   BT          L1096
    00001C74 E01C                   MOV         #28,R0
    00001C76 A001                   BRA         L1096
    00001C78 0F64                   MOV.B       R6,@(R0,R15)
    00001C7A              L1094:                            
      Monochrome   940            } else begin_x = 0;
    00001C7A 6C63                   MOV         R6,R12
    00001C7C              L1096:                            
    00001C7C 9343                   MOV.W       L1325,R3   ; H'0080
    00001C7E 6253                   MOV         R5,R2
    00001C80 4221                   SHAR        R2
    00001C82 4221                   SHAR        R2
    00001C84 4221                   SHAR        R2
    00001C86 1F21                   MOV.L       R2,@(4,R15)
    00001C88 54F3                   MOV.L       @(12,R15),R4
    00001C8A 74FF                   ADD         #-1,R4
    00001C8C 51F3                   MOV.L       @(12,R15),R1
    00001C8E 4421                   SHAR        R4
    00001C90 4421                   SHAR        R4
    00001C92 4421                   SHAR        R4
    00001C94 315C                   ADD         R5,R1
    00001C96 3137                   CMP/GT      R3,R1
    00001C98 8B04                   BF          L1097
      Monochrome   941            if(x+real_width > 128) end_x = 15-(x>>3), bool2 = 0;
    00001C9A ED0F                   MOV         #15,R13
    00001C9C 3D28                   SUB         R2,R13
    00001C9E E034                   MOV         #52,R0
    00001CA0 A001                   BRA         L1098
    00001CA2 0F64                   MOV.B       R6,@(R0,R15)
    00001CA4              L1097:                            




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   87


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

      Monochrome   942            else end_x = real_width-1>>3;
    00001CA4 6D43                   MOV         R4,R13
    00001CA6              L1098:                            
      Monochrome   943            bool3 = (end_x == real_width-1>>3);
    00001CA6 3D40                   CMP/EQ      R4,R13
      Monochrome   944            screen = ML_vram_adress()+(y+begin_y<<4)+(x>>3);
    00001CA8 DA17                   MOV.L       L1325+2,R10; _sc0135
    00001CAA 61F3                   MOV         R15,R1
    00001CAC 0029                   MOVT        R0
    00001CAE 712C                   ADD         #44,R1
    00001CB0 4A0B                   JSR         @R10
    00001CB2 2100                   MOV.B       R0,@R1
    00001CB4 53F1                   MOV.L       @(4,R15),R3
    00001CB6 61B3                   MOV         R11,R1
      Monochrome   945    
      Monochrome   946            for(i=begin_y ; i<end_y ; i++)
    00001CB8 1F86                   MOV.L       R8,@(24,R15)
    00001CBA 6A93                   MOV         R9,R10
    00001CBC 54F3                   MOV.L       @(12,R15),R4
    00001CBE 7101                   ADD         #1,R1
    00001CC0 3A8C                   ADD         R8,R10
    00001CC2 4A08                   SHLL2       R10
    00001CC4 4A08                   SHLL2       R10
    00001CC6 3A0C                   ADD         R0,R10
    00001CC8 3A3C                   ADD         R3,R10
    00001CCA 4421                   SHAR        R4
    00001CCC 4421                   SHAR        R4
    00001CCE 4421                   SHAR        R4
    00001CD0 1F44                   MOV.L       R4,@(16,R15)
    00001CD2 53F6                   MOV.L       @(24,R15),R3
    00001CD4 52F5                   MOV.L       @(20,R15),R2
    00001CD6 0437                   MUL.L       R3,R4
    00001CD8 041A                   STS         MACL,R4
    00001CDA 6843                   MOV         R4,R8
    00001CDC 38DC                   ADD         R13,R8
    00001CDE 382C                   ADD         R2,R8
    00001CE0 6943                   MOV         R4,R9
    00001CE2 34CC                   ADD         R12,R4
    00001CE4 342C                   ADD         R2,R4
    00001CE6 63C3                   MOV         R12,R3
    00001CE8 1F48                   MOV.L       R4,@(32,R15)
    00001CEA 7301                   ADD         #1,R3
    00001CEC 1F11                   MOV.L       R1,@(4,R15)
    00001CEE 1F3A                   MOV.L       R3,@(40,R15)
    00001CF0 52F2                   MOV.L       @(8,R15),R2
    00001CF2 50F3                   MOV.L       @(12,R15),R0
    00001CF4 3028                   SUB         R2,R0
    00001CF6 E1FF                   MOV         #-1,R1
    00001CF8 410C                   SHAD        R0,R1
    00001CFA 1F13                   MOV.L       R1,@(12,R15)
    00001CFC 55F4                   MOV.L       @(16,R15),R5
    00001CFE 1F59                   MOV.L       R5,@(36,R15)
    00001D00 1F54                   MOV.L       R5,@(16,R15)
    00001D02 A074                   BRA         L1099
    00001D04 1F52                   MOV.L       R5,@(8,R15)
    00001D06              L1325:                            
    00001D06 0080                   .DATA.W     H'0080




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   88


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00001D08 <00000000>             .DATA.L     _sc0135
    00001D0C              L1100:                            
      Monochrome   947            {
      Monochrome   948                    if(begin_x < end_x)
    00001D0C 3CD3                   CMP/GE      R13,R12
    00001D0E 893C                   BT          L1101
      Monochrome   949    
      Monochrome   950                    {
      Monochrome   951                            line = ~((unsigned char)~bmp[i*(real_width>>3)+begin_x]<<shift);
    00001D10 53F8                   MOV.L       @(32,R15),R3
    00001D12 64C3                   MOV         R12,R4
    00001D14 6230                   MOV.B       @R3,R2
    00001D16 E01C                   MOV         #28,R0
    00001D18 6227                   NOT         R2,R2
    00001D1A 622C                   EXTU.B      R2,R2
    00001D1C 42ED                   SHLD        R14,R2
    00001D1E 6227                   NOT         R2,R2
    00001D20 2F21                   MOV.W       R2,@R15
    00001D22 03FC                   MOV.B       @(R0,R15),R3
    00001D24 2338                   TST         R3,R3
    00001D26 8D04                   BT/S        L1102
    00001D28 34AC                   ADD         R10,R4
      Monochrome   952                            if(bool1) screen[begin_x] &= *p;
    00001D2A 63B0                   MOV.B       @R11,R3
    00001D2C 6140                   MOV.B       @R4,R1
    00001D2E 2139                   AND         R3,R1
    00001D30 2410                   MOV.B       R1,@R4
    00001D32              L1102:                            
      Monochrome   953                            if(shift!=8) screen[begin_x+1] &= *(p+1);
    00001D32 60E3                   MOV         R14,R0
    00001D34 8808                   CMP/EQ      #8,R0
    00001D36 8904                   BT          L1103
    00001D38 52F1                   MOV.L       @(4,R15),R2
    00001D3A 6320                   MOV.B       @R2,R3
    00001D3C 8441                   MOV.B       @(1,R4),R0
    00001D3E 2039                   AND         R3,R0
    00001D40 8041                   MOV.B       R0,@(1,R4)
    00001D42              L1103:                            
      Monochrome   954                            for(j=begin_x+1 ; j<end_x ; j++)
    00001D42 54FA                   MOV.L       @(40,R15),R4
    00001D44 53F5                   MOV.L       @(20,R15),R3
    00001D46 34D3                   CMP/GE      R13,R4
    00001D48 6643                   MOV         R4,R6
    00001D4A 36AC                   ADD         R10,R6
    00001D4C 6563                   MOV         R6,R5
    00001D4E 7501                   ADD         #1,R5
    00001D50 6763                   MOV         R6,R7
    00001D52 6693                   MOV         R9,R6
    00001D54 364C                   ADD         R4,R6
    00001D56 8D18                   BT/S        L1101
    00001D58 363C                   ADD         R3,R6
    00001D5A              L1105:                            
      Monochrome   955                            {
      Monochrome   956                                    line = ~((unsigned char)~bmp[i*(real_width>>3)+j]<<shift);
      Monochrome   957                                    screen[j] &= *p;
      Monochrome   958                                    if(shift!=8) screen[j+1] &= *(p+1);
    00001D5A 60E3                   MOV         R14,R0




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   89


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00001D5C 6360                   MOV.B       @R6,R3
    00001D5E 8808                   CMP/EQ      #8,R0
    00001D60 6337                   NOT         R3,R3
    00001D62 633C                   EXTU.B      R3,R3
    00001D64 43ED                   SHLD        R14,R3
    00001D66 6337                   NOT         R3,R3
    00001D68 2F31                   MOV.W       R3,@R15
    00001D6A 62B0                   MOV.B       @R11,R2
    00001D6C 6170                   MOV.B       @R7,R1
    00001D6E 2129                   AND         R2,R1
    00001D70 8D05                   BT/S        L1106
    00001D72 2710                   MOV.B       R1,@R7
    00001D74 52F1                   MOV.L       @(4,R15),R2
    00001D76 6320                   MOV.B       @R2,R3
    00001D78 6150                   MOV.B       @R5,R1
    00001D7A 2139                   AND         R3,R1
    00001D7C 2510                   MOV.B       R1,@R5
    00001D7E              L1106:                            
    00001D7E 7401                   ADD         #1,R4
    00001D80 7501                   ADD         #1,R5
    00001D82 7701                   ADD         #1,R7
    00001D84 34D3                   CMP/GE      R13,R4
    00001D86 8FE8                   BF/S        L1105
    00001D88 7601                   ADD         #1,R6
    00001D8A              L1101:                            
      Monochrome   959                            }
      Monochrome   960                    }
      Monochrome   961                    line = (unsigned char)~bmp[i*(real_width>>3)+end_x];
      Monochrome   962                    if(bool3) line &= -1<<real_width-width;
    00001D8A E02C                   MOV         #44,R0
    00001D8C 6280                   MOV.B       @R8,R2
    00001D8E 6227                   NOT         R2,R2
    00001D90 622C                   EXTU.B      R2,R2
    00001D92 2F21                   MOV.W       R2,@R15
    00001D94 03FC                   MOV.B       @(R0,R15),R3
    00001D96 2338                   TST         R3,R3
    00001D98 8903                   BT          L1107
    00001D9A 53F3                   MOV.L       @(12,R15),R3
    00001D9C 61F1                   MOV.W       @R15,R1
    00001D9E 2139                   AND         R3,R1
    00001DA0 2F11                   MOV.W       R1,@R15
    00001DA2              L1107:                            
    00001DA2 64D3                   MOV         R13,R4
      Monochrome   963                    line = ~(line << shift);
    00001DA4 62F1                   MOV.W       @R15,R2
    00001DA6 3CD3                   CMP/GE      R13,R12
    00001DA8 622D                   EXTU.W      R2,R2
    00001DAA 42ED                   SHLD        R14,R2
    00001DAC 6227                   NOT         R2,R2
    00001DAE 2F21                   MOV.W       R2,@R15
    00001DB0 8F04                   BF/S        L1109
    00001DB2 34AC                   ADD         R10,R4
    00001DB4 E01C                   MOV         #28,R0
    00001DB6 01FC                   MOV.B       @(R0,R15),R1
    00001DB8 2118                   TST         R1,R1
    00001DBA 8903                   BT          L1108
    00001DBC              L1109:                            




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   90


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

      Monochrome   964                    if(begin_x < end_x || bool1) screen[end_x] &= *p;
    00001DBC 63B0                   MOV.B       @R11,R3
    00001DBE 6240                   MOV.B       @R4,R2
    00001DC0 2239                   AND         R3,R2
    00001DC2 2420                   MOV.B       R2,@R4
    00001DC4              L1108:                            
      Monochrome   965                    if(bool2) screen[end_x+1] &= *(p+1);
    00001DC4 E034                   MOV         #52,R0
    00001DC6 01FC                   MOV.B       @(R0,R15),R1
    00001DC8 2118                   TST         R1,R1
    00001DCA 8D05                   BT/S        L1110
      Monochrome   966                    screen += 16;
    00001DCC 7A10                   ADD         #16,R10
    00001DCE 51F1                   MOV.L       @(4,R15),R1
    00001DD0 8441                   MOV.B       @(1,R4),R0
    00001DD2 6310                   MOV.B       @R1,R3
    00001DD4 2039                   AND         R3,R0
    00001DD6 8041                   MOV.B       R0,@(1,R4)
    00001DD8              L1110:                            
    00001DD8 53F6                   MOV.L       @(24,R15),R3
    00001DDA 7301                   ADD         #1,R3
    00001DDC 1F36                   MOV.L       R3,@(24,R15)
    00001DDE 52F9                   MOV.L       @(36,R15),R2
    00001DE0 51F4                   MOV.L       @(16,R15),R1
    00001DE2 382C                   ADD         R2,R8
    00001DE4 53F8                   MOV.L       @(32,R15),R3
    00001DE6 391C                   ADD         R1,R9
    00001DE8 50F2                   MOV.L       @(8,R15),R0
    00001DEA 303C                   ADD         R3,R0
    00001DEC 1F08                   MOV.L       R0,@(32,R15)
    00001DEE              L1099:                            
    00001DEE 53FC                   MOV.L       @(48,R15),R3
    00001DF0 51F6                   MOV.L       @(24,R15),R1
    00001DF2 3133                   CMP/GE      R3,R1
    00001DF4 8B8A                   BF          L1100
    00001DF6              L1089:                            
      Monochrome   967            }
      Monochrome   968    }
    00001DF6 7F38                   ADD         #56,R15
    00001DF8 4F16                   LDS.L       @R15+,MACL
    00001DFA 4F26                   LDS.L       @R15+,PR
    00001DFC 68F6                   MOV.L       @R15+,R8
    00001DFE 69F6                   MOV.L       @R15+,R9
    00001E00 6AF6                   MOV.L       @R15+,R10
    00001E02 6BF6                   MOV.L       @R15+,R11
    00001E04 6CF6                   MOV.L       @R15+,R12
    00001E06 6DF6                   MOV.L       @R15+,R13
    00001E08 000B                   RTS
    00001E0A 6EF6                   MOV.L       @R15+,R14
      Monochrome   969    #endif
      Monochrome   970    
      Monochrome   971    #ifdef ML_BMP_XOR_CL
      Monochrome   972    void ML_bmp_xor_cl(const unsigned char *bmp, int x, int y, int width, int height)
    00001E0C              _ML_bmp_xor_cl:                  ; function: ML_bmp_xor_cl
                                                           ; frame size=92
    00001E0C 2FE6                   MOV.L       R14,@-R15
    00001E0E E05C                   MOV         #92,R0




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   91


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00001E10 2FD6                   MOV.L       R13,@-R15
    00001E12 2FC6                   MOV.L       R12,@-R15
    00001E14 2FB6                   MOV.L       R11,@-R15
    00001E16 2FA6                   MOV.L       R10,@-R15
    00001E18 2F96                   MOV.L       R9,@-R15
    00001E1A 6963                   MOV         R6,R9
    00001E1C 2F86                   MOV.L       R8,@-R15
      Monochrome   973    {
      Monochrome   974            unsigned short line;
      Monochrome   975            char shift, *screen, *p;
      Monochrome   976            int i, j, real_width, begin_x, end_x, begin_y, end_y;
      Monochrome   977            char bool1=1, bool2=1, bool3;
    00001E1E E601                   MOV         #1,R6
    00001E20 4F22                   STS.L       PR,@-R15
    00001E22 4F12                   STS.L       MACL,@-R15
    00001E24 7FC8                   ADD         #-56,R15
    00001E26 1F45                   MOV.L       R4,@(20,R15)
    00001E28 1F72                   MOV.L       R7,@(8,R15)
    00001E2A 04FE                   MOV.L       @(R0,R15),R4
    00001E2C E01C                   MOV         #28,R0
    00001E2E 0F64                   MOV.B       R6,@(R0,R15)
    00001E30 E034                   MOV         #52,R0
    00001E32 0F64                   MOV.B       R6,@(R0,R15)
      Monochrome   978            if(!bmp || x<1-width || x>127 || y<1-height || y>63 || height<1 || width<1) return;
    00001E34 53F5                   MOV.L       @(20,R15),R3
    00001E36 2338                   TST         R3,R3
    00001E38 8B01                   BF          L1326
    00001E3A A103                   BRA         L1113
    00001E3C 0009                   NOP
    00001E3E              L1326:                            
    00001E3E E201                   MOV         #1,R2
    00001E40 53F2                   MOV.L       @(8,R15),R3
    00001E42 3238                   SUB         R3,R2
    00001E44 3523                   CMP/GE      R2,R5
    00001E46 8901                   BT          L1327
    00001E48 A0FC                   BRA         L1113
    00001E4A 0009                   NOP
    00001E4C              L1327:                            
    00001E4C E17F                   MOV         #127,R1
    00001E4E 3517                   CMP/GT      R1,R5
    00001E50 8B01                   BF          L1328
    00001E52 A0F7                   BRA         L1113
    00001E54 0009                   NOP
    00001E56              L1328:                            
    00001E56 E001                   MOV         #1,R0
    00001E58 3048                   SUB         R4,R0
    00001E5A 3903                   CMP/GE      R0,R9
    00001E5C 8901                   BT          L1329
    00001E5E A0F1                   BRA         L1113
    00001E60 0009                   NOP
    00001E62              L1329:                            
    00001E62 E23F                   MOV         #63,R2
    00001E64 3927                   CMP/GT      R2,R9
    00001E66 8B01                   BF          L1330
    00001E68 A0EC                   BRA         L1113
    00001E6A 0009                   NOP
    00001E6C              L1330:                            




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   92


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00001E6C E001                   MOV         #1,R0
    00001E6E 3403                   CMP/GE      R0,R4
    00001E70 8901                   BT          L1331
    00001E72 A0E7                   BRA         L1113
    00001E74 0009                   NOP
    00001E76              L1331:                            
    00001E76 52F2                   MOV.L       @(8,R15),R2
    00001E78 3203                   CMP/GE      R0,R2
    00001E7A 8901                   BT          L1332
    00001E7C A0E2                   BRA         L1113
    00001E7E 0009                   NOP
    00001E80              L1332:                            
      Monochrome   979            p = (char*)&line;
      Monochrome   980            real_width = (width-1>>3<<3)+8;
    00001E80 52F2                   MOV.L       @(8,R15),R2
    00001E82 6BF3                   MOV         R15,R11
    00001E84 72FF                   ADD         #-1,R2
    00001E86 4221                   SHAR        R2
    00001E88 4221                   SHAR        R2
    00001E8A 4221                   SHAR        R2
    00001E8C 4208                   SHLL2       R2
    00001E8E 4200                   SHLL        R2
    00001E90 7208                   ADD         #8,R2
      Monochrome   981            if(y < 0) begin_y = -y;
    00001E92 4911                   CMP/PZ      R9
    00001E94 1F23                   MOV.L       R2,@(12,R15)
    00001E96 8D02                   BT/S        L1114
    00001E98 E600                   MOV         #0,R6
    00001E9A A001                   BRA         L1115
    00001E9C 689B                   NEG         R9,R8
    00001E9E              L1114:                            
      Monochrome   982            else begin_y = 0;
    00001E9E 6863                   MOV         R6,R8
    00001EA0              L1115:                            
      Monochrome   983            if(y+height > 64) end_y = 64-y;
    00001EA0 E740                   MOV         #64,R7
    00001EA2 6393                   MOV         R9,R3
    00001EA4 334C                   ADD         R4,R3
    00001EA6 3377                   CMP/GT      R7,R3
    00001EA8 8B02                   BF          L1116
    00001EAA 3798                   SUB         R9,R7
    00001EAC A001                   BRA         L1117
    00001EAE 1F7C                   MOV.L       R7,@(48,R15)
    00001EB0              L1116:                            
      Monochrome   984            else end_y = height;
    00001EB0 1F4C                   MOV.L       R4,@(48,R15)
    00001EB2              L1117:                            
      Monochrome   985            shift = 8-(x&7);
    00001EB2 E307                   MOV         #7,R3
    00001EB4 2359                   AND         R5,R3
    00001EB6 E408                   MOV         #8,R4
    00001EB8 3438                   SUB         R3,R4
    00001EBA 4511                   CMP/PZ      R5
    00001EBC 8D0A                   BT/S        L1118
    00001EBE 6E4E                   EXTS.B      R4,R14
      Monochrome   986            if(x<0)
      Monochrome   987            {




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   93


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

      Monochrome   988                    begin_x = -x>>3;
    00001EC0 6C5B                   NEG         R5,R12
    00001EC2 4C21                   SHAR        R12
    00001EC4 4C21                   SHAR        R12
    00001EC6 4C21                   SHAR        R12
      Monochrome   989                    if(shift != 8) bool1 = 0;
    00001EC8 60E3                   MOV         R14,R0
    00001ECA 8808                   CMP/EQ      #8,R0
    00001ECC 8903                   BT          L1120
    00001ECE E01C                   MOV         #28,R0
    00001ED0 A001                   BRA         L1120
    00001ED2 0F64                   MOV.B       R6,@(R0,R15)
    00001ED4              L1118:                            
      Monochrome   990            } else begin_x = 0;
    00001ED4 6C63                   MOV         R6,R12
    00001ED6              L1120:                            
    00001ED6 6253                   MOV         R5,R2
    00001ED8 9342                   MOV.W       L1333,R3   ; H'0080
    00001EDA 4221                   SHAR        R2
    00001EDC 4221                   SHAR        R2
    00001EDE 4221                   SHAR        R2
    00001EE0 1F21                   MOV.L       R2,@(4,R15)
    00001EE2 54F3                   MOV.L       @(12,R15),R4
    00001EE4 51F3                   MOV.L       @(12,R15),R1
    00001EE6 74FF                   ADD         #-1,R4
    00001EE8 4421                   SHAR        R4
    00001EEA 4421                   SHAR        R4
    00001EEC 4421                   SHAR        R4
    00001EEE 315C                   ADD         R5,R1
    00001EF0 3137                   CMP/GT      R3,R1
    00001EF2 8B04                   BF          L1121
      Monochrome   991            if(x+real_width > 128) end_x = 15-(x>>3), bool2 = 0;
    00001EF4 ED0F                   MOV         #15,R13
    00001EF6 3D28                   SUB         R2,R13
    00001EF8 E034                   MOV         #52,R0
    00001EFA A001                   BRA         L1122
    00001EFC 0F64                   MOV.B       R6,@(R0,R15)
    00001EFE              L1121:                            
      Monochrome   992            else end_x = real_width-1>>3;
    00001EFE 6D43                   MOV         R4,R13
    00001F00              L1122:                            
      Monochrome   993            bool3 = (end_x == real_width-1>>3);
      Monochrome   994            screen = ML_vram_adress()+(y+begin_y<<4)+(x>>3);
    00001F00 DA18                   MOV.L       L1333+4,R10; _sc0135
    00001F02 3D40                   CMP/EQ      R4,R13
    00001F04 0029                   MOVT        R0
    00001F06 61F3                   MOV         R15,R1
    00001F08 712C                   ADD         #44,R1
    00001F0A 4A0B                   JSR         @R10
    00001F0C 2100                   MOV.B       R0,@R1
    00001F0E 6A93                   MOV         R9,R10
    00001F10 53F1                   MOV.L       @(4,R15),R3
    00001F12 61B3                   MOV         R11,R1
      Monochrome   995    
      Monochrome   996            for(i=begin_y ; i<end_y ; i++)
    00001F14 1F86                   MOV.L       R8,@(24,R15)
    00001F16 3A8C                   ADD         R8,R10




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   94


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00001F18 54F3                   MOV.L       @(12,R15),R4
    00001F1A 7101                   ADD         #1,R1
    00001F1C 4A08                   SHLL2       R10
    00001F1E 4A08                   SHLL2       R10
    00001F20 3A0C                   ADD         R0,R10
    00001F22 3A3C                   ADD         R3,R10
    00001F24 4421                   SHAR        R4
    00001F26 4421                   SHAR        R4
    00001F28 4421                   SHAR        R4
    00001F2A 1F44                   MOV.L       R4,@(16,R15)
    00001F2C 53F6                   MOV.L       @(24,R15),R3
    00001F2E 0437                   MUL.L       R3,R4
    00001F30 52F5                   MOV.L       @(20,R15),R2
    00001F32 63C3                   MOV         R12,R3
    00001F34 041A                   STS         MACL,R4
    00001F36 6843                   MOV         R4,R8
    00001F38 38DC                   ADD         R13,R8
    00001F3A 382C                   ADD         R2,R8
    00001F3C 6943                   MOV         R4,R9
    00001F3E 34CC                   ADD         R12,R4
    00001F40 342C                   ADD         R2,R4
    00001F42 7301                   ADD         #1,R3
    00001F44 1F48                   MOV.L       R4,@(32,R15)
    00001F46 1F11                   MOV.L       R1,@(4,R15)
    00001F48 1F3A                   MOV.L       R3,@(40,R15)
    00001F4A 52F2                   MOV.L       @(8,R15),R2
    00001F4C 50F3                   MOV.L       @(12,R15),R0
    00001F4E 3028                   SUB         R2,R0
    00001F50 E1FF                   MOV         #-1,R1
    00001F52 410C                   SHAD        R0,R1
    00001F54 1F13                   MOV.L       R1,@(12,R15)
    00001F56 55F4                   MOV.L       @(16,R15),R5
    00001F58 1F59                   MOV.L       R5,@(36,R15)
    00001F5A 1F54                   MOV.L       R5,@(16,R15)
    00001F5C A06E                   BRA         L1123
    00001F5E 1F52                   MOV.L       R5,@(8,R15)
    00001F60              L1333:                            
    00001F60 0080                   .DATA.W     H'0080
    00001F62 0000                   .DATA.W     0
    00001F64 <00000000>             .DATA.L     _sc0135
    00001F68              L1124:                            
      Monochrome   997            {
      Monochrome   998                    if(begin_x < end_x)
    00001F68 3CD3                   CMP/GE      R13,R12
    00001F6A 8938                   BT          L1125
      Monochrome   999                    {
      Monochrome  1000                            line = bmp[i*(real_width>>3)+begin_x] << shift;
    00001F6C 53F8                   MOV.L       @(32,R15),R3
    00001F6E 64C3                   MOV         R12,R4
    00001F70 6230                   MOV.B       @R3,R2
    00001F72 E01C                   MOV         #28,R0
    00001F74 622C                   EXTU.B      R2,R2
    00001F76 42ED                   SHLD        R14,R2
    00001F78 2F21                   MOV.W       R2,@R15
    00001F7A 03FC                   MOV.B       @(R0,R15),R3
    00001F7C 2338                   TST         R3,R3
    00001F7E 8D04                   BT/S        L1126




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   95


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00001F80 34AC                   ADD         R10,R4
      Monochrome  1001                            if(bool1) screen[begin_x] ^= *p;
    00001F82 63B0                   MOV.B       @R11,R3
    00001F84 6140                   MOV.B       @R4,R1
    00001F86 213A                   XOR         R3,R1
    00001F88 2410                   MOV.B       R1,@R4
    00001F8A              L1126:                            
      Monochrome  1002                            if(shift!=8) screen[begin_x+1] ^= *(p+1);
    00001F8A 60E3                   MOV         R14,R0
    00001F8C 8808                   CMP/EQ      #8,R0
    00001F8E 8904                   BT          L1127
    00001F90 52F1                   MOV.L       @(4,R15),R2
    00001F92 6320                   MOV.B       @R2,R3
    00001F94 8441                   MOV.B       @(1,R4),R0
    00001F96 203A                   XOR         R3,R0
    00001F98 8041                   MOV.B       R0,@(1,R4)
    00001F9A              L1127:                            
      Monochrome  1003                            for(j=begin_x+1 ; j<end_x ; j++)
    00001F9A 54FA                   MOV.L       @(40,R15),R4
    00001F9C 53F5                   MOV.L       @(20,R15),R3
    00001F9E 34D3                   CMP/GE      R13,R4
    00001FA0 6643                   MOV         R4,R6
    00001FA2 36AC                   ADD         R10,R6
    00001FA4 6563                   MOV         R6,R5
    00001FA6 7501                   ADD         #1,R5
    00001FA8 6763                   MOV         R6,R7
    00001FAA 6693                   MOV         R9,R6
    00001FAC 364C                   ADD         R4,R6
    00001FAE 8D16                   BT/S        L1125
    00001FB0 363C                   ADD         R3,R6
    00001FB2              L1129:                            
      Monochrome  1004                            {
      Monochrome  1005                                    line = bmp[i*(real_width>>3)+j] << shift;
      Monochrome  1006                                    screen[j] ^= *p;
      Monochrome  1007                                    if(shift!=8) screen[j+1] ^= *(p+1);
    00001FB2 60E3                   MOV         R14,R0
    00001FB4 6360                   MOV.B       @R6,R3
    00001FB6 8808                   CMP/EQ      #8,R0
    00001FB8 633C                   EXTU.B      R3,R3
    00001FBA 43ED                   SHLD        R14,R3
    00001FBC 2F31                   MOV.W       R3,@R15
    00001FBE 62B0                   MOV.B       @R11,R2
    00001FC0 6170                   MOV.B       @R7,R1
    00001FC2 212A                   XOR         R2,R1
    00001FC4 8D05                   BT/S        L1130
    00001FC6 2710                   MOV.B       R1,@R7
    00001FC8 52F1                   MOV.L       @(4,R15),R2
    00001FCA 6320                   MOV.B       @R2,R3
    00001FCC 6150                   MOV.B       @R5,R1
    00001FCE 213A                   XOR         R3,R1
    00001FD0 2510                   MOV.B       R1,@R5
    00001FD2              L1130:                            
    00001FD2 7401                   ADD         #1,R4
    00001FD4 7501                   ADD         #1,R5
    00001FD6 7701                   ADD         #1,R7
    00001FD8 34D3                   CMP/GE      R13,R4
    00001FDA 8FEA                   BF/S        L1129




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   96


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00001FDC 7601                   ADD         #1,R6
    00001FDE              L1125:                            
      Monochrome  1008                            }
      Monochrome  1009                    }
      Monochrome  1010                    line = bmp[i*(real_width>>3)+end_x];
      Monochrome  1011                    if(bool3) line &= -1<<real_width-width;
    00001FDE E02C                   MOV         #44,R0
    00001FE0 6280                   MOV.B       @R8,R2
    00001FE2 622C                   EXTU.B      R2,R2
    00001FE4 2F21                   MOV.W       R2,@R15
    00001FE6 03FC                   MOV.B       @(R0,R15),R3
    00001FE8 2338                   TST         R3,R3
    00001FEA 8903                   BT          L1131
    00001FEC 53F3                   MOV.L       @(12,R15),R3
    00001FEE 61F1                   MOV.W       @R15,R1
    00001FF0 2139                   AND         R3,R1
    00001FF2 2F11                   MOV.W       R1,@R15
    00001FF4              L1131:                            
      Monochrome  1012                    line <<= shift;
    00001FF4 62F1                   MOV.W       @R15,R2
    00001FF6 64D3                   MOV         R13,R4
    00001FF8 42ED                   SHLD        R14,R2
    00001FFA 3CD3                   CMP/GE      R13,R12
    00001FFC 2F21                   MOV.W       R2,@R15
    00001FFE 8F04                   BF/S        L1133
    00002000 34AC                   ADD         R10,R4
    00002002 E01C                   MOV         #28,R0
    00002004 01FC                   MOV.B       @(R0,R15),R1
    00002006 2118                   TST         R1,R1
    00002008 8903                   BT          L1132
    0000200A              L1133:                            
      Monochrome  1013                    if(begin_x < end_x || bool1) screen[end_x] ^= *p;
    0000200A 63B0                   MOV.B       @R11,R3
    0000200C 6240                   MOV.B       @R4,R2
    0000200E 223A                   XOR         R3,R2
    00002010 2420                   MOV.B       R2,@R4
    00002012              L1132:                            
      Monochrome  1014                    if(bool2) screen[end_x+1] ^= *(p+1);
    00002012 E034                   MOV         #52,R0
    00002014 01FC                   MOV.B       @(R0,R15),R1
    00002016 2118                   TST         R1,R1
    00002018 8D05                   BT/S        L1134
      Monochrome  1015                    screen += 16;
    0000201A 7A10                   ADD         #16,R10
    0000201C 51F1                   MOV.L       @(4,R15),R1
    0000201E 6310                   MOV.B       @R1,R3
    00002020 8441                   MOV.B       @(1,R4),R0
    00002022 203A                   XOR         R3,R0
    00002024 8041                   MOV.B       R0,@(1,R4)
    00002026              L1134:                            
    00002026 53F6                   MOV.L       @(24,R15),R3
    00002028 7301                   ADD         #1,R3
    0000202A 1F36                   MOV.L       R3,@(24,R15)
    0000202C 52F9                   MOV.L       @(36,R15),R2
    0000202E 382C                   ADD         R2,R8
    00002030 51F4                   MOV.L       @(16,R15),R1
    00002032 391C                   ADD         R1,R9




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   97


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00002034 53F8                   MOV.L       @(32,R15),R3
    00002036 50F2                   MOV.L       @(8,R15),R0
    00002038 303C                   ADD         R3,R0
    0000203A 1F08                   MOV.L       R0,@(32,R15)
    0000203C              L1123:                            
    0000203C 53FC                   MOV.L       @(48,R15),R3
    0000203E 51F6                   MOV.L       @(24,R15),R1
    00002040 3133                   CMP/GE      R3,R1
    00002042 8B91                   BF          L1124
    00002044              L1113:                            
      Monochrome  1016            }
      Monochrome  1017    }
    00002044 7F38                   ADD         #56,R15
    00002046 4F16                   LDS.L       @R15+,MACL
    00002048 4F26                   LDS.L       @R15+,PR
    0000204A 68F6                   MOV.L       @R15+,R8
    0000204C 69F6                   MOV.L       @R15+,R9
    0000204E 6AF6                   MOV.L       @R15+,R10
    00002050 6BF6                   MOV.L       @R15+,R11
    00002052 6CF6                   MOV.L       @R15+,R12
    00002054 6DF6                   MOV.L       @R15+,R13
    00002056 000B                   RTS
    00002058 6EF6                   MOV.L       @R15+,R14
      Monochrome  1018    
      Monochrome  1019    #endif
      Monochrome  1020    
      Monochrome  1021    #ifdef ML_BMP_8_OR
      Monochrome  1022    void ML_bmp_8_or(const unsigned char *bmp, int x, int y)
    0000205A              _ML_bmp_8_or:                    ; function: ML_bmp_8_or
                                                           ; frame size=36
    0000205A 2FE6                   MOV.L       R14,@-R15
    0000205C 2FD6                   MOV.L       R13,@-R15
    0000205E 6E63                   MOV         R6,R14
    00002060 2FC6                   MOV.L       R12,@-R15
    00002062 6D53                   MOV         R5,R13
    00002064 2FB6                   MOV.L       R11,@-R15
      Monochrome  1023    {
      Monochrome  1024            unsigned short line;
      Monochrome  1025            char i, shift, begin=0, end=8, *screen, *p=(char*)&line;
    00002066 EB00                   MOV         #0,R11
    00002068 2FA6                   MOV.L       R10,@-R15
    0000206A 2F96                   MOV.L       R9,@-R15
    0000206C 4F22                   STS.L       PR,@-R15
    0000206E 7FF8                   ADD         #-8,R15
    00002070 1F41                   MOV.L       R4,@(4,R15)
    00002072 E408                   MOV         #8,R4
      Monochrome  1026            if(!bmp || x<0 || x>120 || y<-7 || y>63) return;
    00002074 53F1                   MOV.L       @(4,R15),R3
    00002076 6943                   MOV         R4,R9
    00002078 2338                   TST         R3,R3
    0000207A 8D43                   BT/S        L1137
    0000207C 6CF3                   MOV         R15,R12
    0000207E 4D11                   CMP/PZ      R13
    00002080 8B40                   BF          L1137
    00002082 E278                   MOV         #120,R2
    00002084 3D27                   CMP/GT      R2,R13
    00002086 893D                   BT          L1137




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   98


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00002088 E1F9                   MOV         #-7,R1
    0000208A 3E13                   CMP/GE      R1,R14
    0000208C 8B3A                   BF          L1137
    0000208E E03F                   MOV         #63,R0
    00002090 3E07                   CMP/GT      R0,R14
    00002092 8937                   BT          L1137
      Monochrome  1027            if(y < 0) begin = -y;
    00002094 4E11                   CMP/PZ      R14
    00002096 8D01                   BT/S        L1138
      Monochrome  1028            if(y > 56) end = 64-y;
    00002098 E338                   MOV         #56,R3
    0000209A 6BEB                   NEG         R14,R11
    0000209C              L1138:                            
    0000209C 3E37                   CMP/GT      R3,R14
    0000209E 8F02                   BF/S        L1139
      Monochrome  1029            shift = 8-(x&7);
    000020A0 E307                   MOV         #7,R3
    000020A2 E940                   MOV         #64,R9
    000020A4 39E8                   SUB         R14,R9
    000020A6              L1139:                            
    000020A6 23D9                   AND         R13,R3
      Monochrome  1030            screen = ML_vram_adress()+(y+begin<<4)+(x>>3);
    000020A8 D24B                   MOV.L       L1334+2,R2 ; _sc0135
    000020AA 6A43                   MOV         R4,R10
    000020AC 420B                   JSR         @R2
    000020AE 3A38                   SUB         R3,R10
    000020B0 63BE                   EXTS.B      R11,R3
    000020B2 33EC                   ADD         R14,R3
    000020B4 4308                   SHLL2       R3
    000020B6 4308                   SHLL2       R3
    000020B8 303C                   ADD         R3,R0
    000020BA 4D21                   SHAR        R13
    000020BC 53F1                   MOV.L       @(4,R15),R3
    000020BE 6EC3                   MOV         R12,R14
    000020C0 4D21                   SHAR        R13
    000020C2 4D21                   SHAR        R13
    000020C4 6603                   MOV         R0,R6
    000020C6 36DC                   ADD         R13,R6
      Monochrome  1031            for(i=begin ; i<end ; i++)
    000020C8 65B3                   MOV         R11,R5
    000020CA 645E                   EXTS.B      R5,R4
    000020CC 343C                   ADD         R3,R4
    000020CE 679E                   EXTS.B      R9,R7
    000020D0 625E                   EXTS.B      R5,R2
    000020D2 3273                   CMP/GE      R7,R2
    000020D4 8D16                   BT/S        L1137
    000020D6 7E01                   ADD         #1,R14
    000020D8              L1141:                            
      Monochrome  1032            {
      Monochrome  1033                    line = bmp[i]<<shift;
    000020D8 6340                   MOV.B       @R4,R3
    000020DA 6DAE                   EXTS.B      R10,R13
    000020DC 633C                   EXTU.B      R3,R3
    000020DE 43DD                   SHLD        R13,R3
    000020E0 2F31                   MOV.W       R3,@R15
      Monochrome  1034                    screen[0] |= *p;
      Monochrome  1035                    if(shift!=8) screen[1] |= *(p+1);




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE   99


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    000020E2 60D3                   MOV         R13,R0
    000020E4 62C0                   MOV.B       @R12,R2
    000020E6 8808                   CMP/EQ      #8,R0
    000020E8 6160                   MOV.B       @R6,R1
    000020EA 212B                   OR          R2,R1
    000020EC 8D04                   BT/S        L1142
    000020EE 2610                   MOV.B       R1,@R6
    000020F0 63E0                   MOV.B       @R14,R3
    000020F2 8461                   MOV.B       @(1,R6),R0
    000020F4 203B                   OR          R3,R0
    000020F6 8061                   MOV.B       R0,@(1,R6)
    000020F8              L1142:                            
      Monochrome  1036                    screen += 16;
    000020F8 7610                   ADD         #16,R6
    000020FA 7501                   ADD         #1,R5
    000020FC 635E                   EXTS.B      R5,R3
    000020FE 3373                   CMP/GE      R7,R3
    00002100 8FEA                   BF/S        L1141
    00002102 7401                   ADD         #1,R4
    00002104              L1137:                            
      Monochrome  1037            }
      Monochrome  1038    }
    00002104 7F08                   ADD         #8,R15
    00002106 4F26                   LDS.L       @R15+,PR
    00002108 69F6                   MOV.L       @R15+,R9
    0000210A 6AF6                   MOV.L       @R15+,R10
    0000210C 6BF6                   MOV.L       @R15+,R11
    0000210E 6CF6                   MOV.L       @R15+,R12
    00002110 6DF6                   MOV.L       @R15+,R13
    00002112 000B                   RTS
    00002114 6EF6                   MOV.L       @R15+,R14
      Monochrome  1039    #endif
      Monochrome  1040    
      Monochrome  1041    #ifdef ML_BMP_8_AND
      Monochrome  1042    void ML_bmp_8_and(const unsigned char *bmp, int x, int y)
    00002116              _ML_bmp_8_and:                   ; function: ML_bmp_8_and
                                                           ; frame size=36
    00002116 2FE6                   MOV.L       R14,@-R15
    00002118 2FD6                   MOV.L       R13,@-R15
    0000211A 6E63                   MOV         R6,R14
    0000211C 2FC6                   MOV.L       R12,@-R15
    0000211E 6D53                   MOV         R5,R13
    00002120 2FB6                   MOV.L       R11,@-R15
      Monochrome  1043    {
      Monochrome  1044            unsigned short line;
      Monochrome  1045            char i, shift, begin=0, end=8, *screen, *p=(char*)&line;
    00002122 EB00                   MOV         #0,R11
    00002124 2FA6                   MOV.L       R10,@-R15
    00002126 2F96                   MOV.L       R9,@-R15
    00002128 4F22                   STS.L       PR,@-R15
    0000212A 7FF8                   ADD         #-8,R15
    0000212C 1F41                   MOV.L       R4,@(4,R15)
    0000212E E408                   MOV         #8,R4
      Monochrome  1046            if(!bmp || x<0 || x>120 || y<-7 || y>63) return;
    00002130 53F1                   MOV.L       @(4,R15),R3
    00002132 6943                   MOV         R4,R9
    00002134 2338                   TST         R3,R3




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE  100


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00002136 8D45                   BT/S        L1145
    00002138 6CF3                   MOV         R15,R12
    0000213A 4D11                   CMP/PZ      R13
    0000213C 8B42                   BF          L1145
    0000213E E278                   MOV         #120,R2
    00002140 3D27                   CMP/GT      R2,R13
    00002142 893F                   BT          L1145
    00002144 E1F9                   MOV         #-7,R1
    00002146 3E13                   CMP/GE      R1,R14
    00002148 8B3C                   BF          L1145
    0000214A E03F                   MOV         #63,R0
    0000214C 3E07                   CMP/GT      R0,R14
    0000214E 8939                   BT          L1145
      Monochrome  1047            if(y < 0) begin = -y;
    00002150 4E11                   CMP/PZ      R14
    00002152 8D01                   BT/S        L1146
      Monochrome  1048            if(y > 56) end = 64-y;
    00002154 E338                   MOV         #56,R3
    00002156 6BEB                   NEG         R14,R11
    00002158              L1146:                            
    00002158 3E37                   CMP/GT      R3,R14
    0000215A 8F02                   BF/S        L1147
      Monochrome  1049            shift = 8-(x&7);
    0000215C E307                   MOV         #7,R3
    0000215E E940                   MOV         #64,R9
    00002160 39E8                   SUB         R14,R9
    00002162              L1147:                            
    00002162 23D9                   AND         R13,R3
      Monochrome  1050            screen = ML_vram_adress()+(y+begin<<4)+(x>>3);
    00002164 D21C                   MOV.L       L1334+2,R2 ; _sc0135
    00002166 6A43                   MOV         R4,R10
    00002168 420B                   JSR         @R2
    0000216A 3A38                   SUB         R3,R10
    0000216C 63BE                   EXTS.B      R11,R3
    0000216E 33EC                   ADD         R14,R3
    00002170 4308                   SHLL2       R3
    00002172 4308                   SHLL2       R3
    00002174 303C                   ADD         R3,R0
    00002176 4D21                   SHAR        R13
    00002178 53F1                   MOV.L       @(4,R15),R3
    0000217A 6EC3                   MOV         R12,R14
    0000217C 4D21                   SHAR        R13
    0000217E 4D21                   SHAR        R13
    00002180 6603                   MOV         R0,R6
    00002182 36DC                   ADD         R13,R6
      Monochrome  1051            for(i=begin ; i<end ; i++)
    00002184 65B3                   MOV         R11,R5
    00002186 645E                   EXTS.B      R5,R4
    00002188 343C                   ADD         R3,R4
    0000218A 679E                   EXTS.B      R9,R7
    0000218C 625E                   EXTS.B      R5,R2
    0000218E 3273                   CMP/GE      R7,R2
    00002190 8D18                   BT/S        L1145
    00002192 7E01                   ADD         #1,R14
    00002194              L1149:                            
      Monochrome  1052            {
      Monochrome  1053                    line = ~((unsigned char)~bmp[i]<<shift);




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE  101


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00002194 6340                   MOV.B       @R4,R3
    00002196 6DAE                   EXTS.B      R10,R13
    00002198 6337                   NOT         R3,R3
    0000219A 633C                   EXTU.B      R3,R3
    0000219C 43DD                   SHLD        R13,R3
    0000219E 6337                   NOT         R3,R3
    000021A0 2F31                   MOV.W       R3,@R15
      Monochrome  1054                    screen[0] &= *p;
      Monochrome  1055                    if(shift!=8) screen[1] &= *(p+1);
    000021A2 60D3                   MOV         R13,R0
    000021A4 62C0                   MOV.B       @R12,R2
    000021A6 8808                   CMP/EQ      #8,R0
    000021A8 6160                   MOV.B       @R6,R1
    000021AA 2129                   AND         R2,R1
    000021AC 8D04                   BT/S        L1150
    000021AE 2610                   MOV.B       R1,@R6
    000021B0 63E0                   MOV.B       @R14,R3
    000021B2 8461                   MOV.B       @(1,R6),R0
    000021B4 2039                   AND         R3,R0
    000021B6 8061                   MOV.B       R0,@(1,R6)
    000021B8              L1150:                            
      Monochrome  1056                    screen += 16;
    000021B8 7610                   ADD         #16,R6
    000021BA 7501                   ADD         #1,R5
    000021BC 635E                   EXTS.B      R5,R3
    000021BE 3373                   CMP/GE      R7,R3
    000021C0 8FE8                   BF/S        L1149
    000021C2 7401                   ADD         #1,R4
    000021C4              L1145:                            
      Monochrome  1057            }
      Monochrome  1058    }
    000021C4 7F08                   ADD         #8,R15
    000021C6 4F26                   LDS.L       @R15+,PR
    000021C8 69F6                   MOV.L       @R15+,R9
    000021CA 6AF6                   MOV.L       @R15+,R10
    000021CC 6BF6                   MOV.L       @R15+,R11
    000021CE 6CF6                   MOV.L       @R15+,R12
    000021D0 6DF6                   MOV.L       @R15+,R13
    000021D2 000B                   RTS
    000021D4 6EF6                   MOV.L       @R15+,R14
    000021D6              L1334:                            
    000021D6 0000                   .DATA.W     0
    000021D8 <00000000>             .DATA.L     _sc0135
      Monochrome  1059    #endif
      Monochrome  1060    
      Monochrome  1061    #ifdef ML_BMP_8_XOR
      Monochrome  1062    void ML_bmp_8_xor(const unsigned char *bmp, int x, int y)
    000021DC              _ML_bmp_8_xor:                   ; function: ML_bmp_8_xor
                                                           ; frame size=40
    000021DC 2FE6                   MOV.L       R14,@-R15
      Monochrome  1063    {
      Monochrome  1064            unsigned short line;
      Monochrome  1065            char i, shift, begin=0, end=8, *screen, *p=(char*)&line;
      Monochrome  1066            if(!bmp || x<0 || x>120 || y<-7 || y>63) return;
    000021DE 6343                   MOV         R4,R3
    000021E0 2FD6                   MOV.L       R13,@-R15
    000021E2 6E63                   MOV         R6,R14




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE  102


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    000021E4 2FC6                   MOV.L       R12,@-R15
    000021E6 ED08                   MOV         #8,R13
    000021E8 2FB6                   MOV.L       R11,@-R15
    000021EA 2338                   TST         R3,R3
    000021EC 2FA6                   MOV.L       R10,@-R15
    000021EE 6B53                   MOV         R5,R11
    000021F0 2F96                   MOV.L       R9,@-R15
    000021F2 EA00                   MOV         #0,R10
    000021F4 2F86                   MOV.L       R8,@-R15
    000021F6 69D3                   MOV         R13,R9
    000021F8 4F22                   STS.L       PR,@-R15
    000021FA 7FF8                   ADD         #-8,R15
    000021FC 1F41                   MOV.L       R4,@(4,R15)
    000021FE 8D42                   BT/S        L1153
    00002200 6CF3                   MOV         R15,R12
    00002202 4B11                   CMP/PZ      R11
    00002204 8B3F                   BF          L1153
    00002206 E278                   MOV         #120,R2
    00002208 3B27                   CMP/GT      R2,R11
    0000220A 893C                   BT          L1153
    0000220C E1F9                   MOV         #-7,R1
    0000220E 3E13                   CMP/GE      R1,R14
    00002210 8B39                   BF          L1153
    00002212 E03F                   MOV         #63,R0
    00002214 3E07                   CMP/GT      R0,R14
    00002216 8936                   BT          L1153
      Monochrome  1067            if(y < 0) begin = -y;
    00002218 4E11                   CMP/PZ      R14
    0000221A 8D01                   BT/S        L1154
      Monochrome  1068            if(y > 56) end = 64-y;
    0000221C E338                   MOV         #56,R3
    0000221E 6AEB                   NEG         R14,R10
    00002220              L1154:                            
    00002220 3E37                   CMP/GT      R3,R14
    00002222 8F02                   BF/S        L1155
      Monochrome  1069            shift = 8-(x&7);
    00002224 E307                   MOV         #7,R3
    00002226 E940                   MOV         #64,R9
    00002228 39E8                   SUB         R14,R9
    0000222A              L1155:                            
    0000222A 23B9                   AND         R11,R3
      Monochrome  1070            screen = ML_vram_adress()+(y+begin<<4)+(x>>3);
    0000222C D255                   MOV.L       L1335,R2   ; _sc0135
    0000222E 68D3                   MOV         R13,R8
    00002230 420B                   JSR         @R2
    00002232 3838                   SUB         R3,R8
    00002234 63AE                   EXTS.B      R10,R3
    00002236 33EC                   ADD         R14,R3
    00002238 4308                   SHLL2       R3
    0000223A 4308                   SHLL2       R3
    0000223C 303C                   ADD         R3,R0
    0000223E 4B21                   SHAR        R11
    00002240 53F1                   MOV.L       @(4,R15),R3
    00002242 679E                   EXTS.B      R9,R7
    00002244 4B21                   SHAR        R11
    00002246 4B21                   SHAR        R11
    00002248 6503                   MOV         R0,R5




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE  103


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    0000224A 35BC                   ADD         R11,R5
      Monochrome  1071            for(i=begin ; i<end ; i++)
    0000224C 64A3                   MOV         R10,R4
    0000224E 664E                   EXTS.B      R4,R6
    00002250 363C                   ADD         R3,R6
    00002252 6BC3                   MOV         R12,R11
    00002254 624E                   EXTS.B      R4,R2
    00002256 3273                   CMP/GE      R7,R2
    00002258 8D15                   BT/S        L1153
    0000225A 7B01                   ADD         #1,R11
    0000225C              L1157:                            
      Monochrome  1072            {
      Monochrome  1073                    line = bmp[i]<<shift;
    0000225C 6360                   MOV.B       @R6,R3
    0000225E 6E8E                   EXTS.B      R8,R14
    00002260 633C                   EXTU.B      R3,R3
    00002262 43ED                   SHLD        R14,R3
    00002264 2F31                   MOV.W       R3,@R15
      Monochrome  1074                    screen[0] ^= *p;
      Monochrome  1075                    if(shift<8) screen[1] ^= *(p+1);
    00002266 3ED3                   CMP/GE      R13,R14
    00002268 62C0                   MOV.B       @R12,R2
    0000226A 6150                   MOV.B       @R5,R1
    0000226C 212A                   XOR         R2,R1
    0000226E 8D04                   BT/S        L1158
    00002270 2510                   MOV.B       R1,@R5
    00002272 63B0                   MOV.B       @R11,R3
    00002274 8451                   MOV.B       @(1,R5),R0
    00002276 203A                   XOR         R3,R0
    00002278 8051                   MOV.B       R0,@(1,R5)
    0000227A              L1158:                            
      Monochrome  1076                    screen += 16;
    0000227A 7510                   ADD         #16,R5
    0000227C 7401                   ADD         #1,R4
    0000227E 634E                   EXTS.B      R4,R3
    00002280 3373                   CMP/GE      R7,R3
    00002282 8FEB                   BF/S        L1157
    00002284 7601                   ADD         #1,R6
    00002286              L1153:                            
      Monochrome  1077            }
      Monochrome  1078    }
    00002286 7F08                   ADD         #8,R15
    00002288 4F26                   LDS.L       @R15+,PR
    0000228A 68F6                   MOV.L       @R15+,R8
    0000228C 69F6                   MOV.L       @R15+,R9
    0000228E 6AF6                   MOV.L       @R15+,R10
    00002290 6BF6                   MOV.L       @R15+,R11
    00002292 6CF6                   MOV.L       @R15+,R12
    00002294 6DF6                   MOV.L       @R15+,R13
    00002296 000B                   RTS
    00002298 6EF6                   MOV.L       @R15+,R14
      Monochrome  1079    #endif
      Monochrome  1080    
      Monochrome  1081    #ifdef ML_BMP_8_OR_CL
      Monochrome  1082    void ML_bmp_8_or_cl(const unsigned char *bmp, int x, int y)
    0000229A              _ML_bmp_8_or_cl:                 ; function: ML_bmp_8_or_cl
                                                           ; frame size=44




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE  104


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    0000229A 2FE6                   MOV.L       R14,@-R15
    0000229C 2FD6                   MOV.L       R13,@-R15
    0000229E 6E63                   MOV         R6,R14
    000022A0 2FC6                   MOV.L       R12,@-R15
    000022A2 6D53                   MOV         R5,R13
    000022A4 2FB6                   MOV.L       R11,@-R15
      Monochrome  1083    {
      Monochrome  1084            unsigned short line;
      Monochrome  1085            char i, shift, begin=0, end=8, bool1=1, bool2=1, *screen, *p=(char*)&line;
    000022A6 E601                   MOV         #1,R6
    000022A8 2FA6                   MOV.L       R10,@-R15
    000022AA E508                   MOV         #8,R5
    000022AC 2F96                   MOV.L       R9,@-R15
    000022AE 6C63                   MOV         R6,R12
    000022B0 2F86                   MOV.L       R8,@-R15
    000022B2 6053                   MOV         R5,R0
    000022B4 4F22                   STS.L       PR,@-R15
    000022B6 6963                   MOV         R6,R9
    000022B8 7FF4                   ADD         #-12,R15
    000022BA 1F41                   MOV.L       R4,@(4,R15)
    000022BC 80F8                   MOV.B       R0,@(8,R15)
    000022BE E400                   MOV         #0,R4
      Monochrome  1086            if(!bmp || x<-7 || x>127 || y<-7 || y>63) return;
    000022C0 53F1                   MOV.L       @(4,R15),R3
    000022C2 6A43                   MOV         R4,R10
    000022C4 2338                   TST         R3,R3
    000022C6 8D53                   BT/S        L1161
    000022C8 6BF3                   MOV         R15,R11
    000022CA E3F9                   MOV         #-7,R3
    000022CC 3D33                   CMP/GE      R3,R13
    000022CE 8B4F                   BF          L1161
    000022D0 E17F                   MOV         #127,R1
    000022D2 3D17                   CMP/GT      R1,R13
    000022D4 894C                   BT          L1161
    000022D6 3E33                   CMP/GE      R3,R14
    000022D8 8B4A                   BF          L1161
    000022DA E23F                   MOV         #63,R2
    000022DC 3E27                   CMP/GT      R2,R14
    000022DE 8947                   BT          L1161
      Monochrome  1087            if(y < 0) begin = -y;
    000022E0 4E11                   CMP/PZ      R14
    000022E2 8D01                   BT/S        L1162
      Monochrome  1088            if(y > 56) end = 64-y;
    000022E4 E238                   MOV         #56,R2
    000022E6 6AEB                   NEG         R14,R10
    000022E8              L1162:                            
    000022E8 3E27                   CMP/GT      R2,R14
    000022EA 8B02                   BF          L1163
    000022EC E040                   MOV         #64,R0
    000022EE 30E8                   SUB         R14,R0
    000022F0 80F8                   MOV.B       R0,@(8,R15)
    000022F2              L1163:                            
      Monochrome  1089            shift = 8-(x&7);
    000022F2 E307                   MOV         #7,R3
    000022F4 23D9                   AND         R13,R3
    000022F6 6853                   MOV         R5,R8
      Monochrome  1090            if(x < 0) bool1 = 0;




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE  105


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    000022F8 4D11                   CMP/PZ      R13
    000022FA 8D01                   BT/S        L1164
    000022FC 3838                   SUB         R3,R8
    000022FE 6943                   MOV         R4,R9
    00002300              L1164:                            
      Monochrome  1091            if(x>120 || shift==8) bool2 = 0;
    00002300 E378                   MOV         #120,R3
    00002302 3D37                   CMP/GT      R3,R13
    00002304 8902                   BT          L1166
    00002306 608E                   EXTS.B      R8,R0
    00002308 8808                   CMP/EQ      #8,R0
    0000230A 8B00                   BF          L1165
    0000230C              L1166:                            
    0000230C 6C43                   MOV         R4,R12
    0000230E              L1165:                            
      Monochrome  1092            screen = ML_vram_adress()+(y+begin<<4)+(x>>3);
    0000230E D31D                   MOV.L       L1335,R3   ; _sc0135
    00002310 430B                   JSR         @R3
    00002312 0009                   NOP
    00002314 53F1                   MOV.L       @(4,R15),R3
    00002316 62AE                   EXTS.B      R10,R2
    00002318 32EC                   ADD         R14,R2
    0000231A 4208                   SHLL2       R2
    0000231C 4208                   SHLL2       R2
    0000231E 302C                   ADD         R2,R0
    00002320 4D21                   SHAR        R13
    00002322 4D21                   SHAR        R13
    00002324 4D21                   SHAR        R13
    00002326 6503                   MOV         R0,R5
    00002328 84F8                   MOV.B       @(8,R15),R0
    0000232A 35DC                   ADD         R13,R5
      Monochrome  1093            for(i=begin ; i<end ; i++)
    0000232C 64A3                   MOV         R10,R4
    0000232E 664E                   EXTS.B      R4,R6
    00002330 363C                   ADD         R3,R6
    00002332 6EB3                   MOV         R11,R14
    00002334 6703                   MOV         R0,R7
    00002336 624E                   EXTS.B      R4,R2
    00002338 3273                   CMP/GE      R7,R2
    0000233A 8D19                   BT/S        L1161
    0000233C 7E01                   ADD         #1,R14
    0000233E              L1168:                            
      Monochrome  1094            {
      Monochrome  1095                    line = bmp[i]<<shift;
    0000233E 628E                   EXTS.B      R8,R2
    00002340 6360                   MOV.B       @R6,R3
    00002342 633C                   EXTU.B      R3,R3
    00002344 432D                   SHLD        R2,R3
      Monochrome  1096                    if(bool1) screen[0] |= *p;
    00002346 629E                   EXTS.B      R9,R2
    00002348 2228                   TST         R2,R2
    0000234A 8D04                   BT/S        L1169
    0000234C 2F31                   MOV.W       R3,@R15
    0000234E 62B0                   MOV.B       @R11,R2
    00002350 6150                   MOV.B       @R5,R1
    00002352 212B                   OR          R2,R1
    00002354 2510                   MOV.B       R1,@R5




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE  106


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00002356              L1169:                            
      Monochrome  1097                    if(bool2) screen[1] |= *(p+1);
    00002356 63CE                   EXTS.B      R12,R3
    00002358 2338                   TST         R3,R3
    0000235A 8903                   BT          L1170
    0000235C 63E0                   MOV.B       @R14,R3
    0000235E 8451                   MOV.B       @(1,R5),R0
    00002360 203B                   OR          R3,R0
    00002362 8051                   MOV.B       R0,@(1,R5)
    00002364              L1170:                            
      Monochrome  1098                    screen += 16;
    00002364 7510                   ADD         #16,R5
    00002366 7401                   ADD         #1,R4
    00002368 634E                   EXTS.B      R4,R3
    0000236A 3373                   CMP/GE      R7,R3
    0000236C 8FE7                   BF/S        L1168
    0000236E 7601                   ADD         #1,R6
    00002370              L1161:                            
      Monochrome  1099            }
      Monochrome  1100    }
    00002370 7F0C                   ADD         #12,R15
    00002372 4F26                   LDS.L       @R15+,PR
    00002374 68F6                   MOV.L       @R15+,R8
    00002376 69F6                   MOV.L       @R15+,R9
    00002378 6AF6                   MOV.L       @R15+,R10
    0000237A 6BF6                   MOV.L       @R15+,R11
    0000237C 6CF6                   MOV.L       @R15+,R12
    0000237E 6DF6                   MOV.L       @R15+,R13
    00002380 000B                   RTS
    00002382 6EF6                   MOV.L       @R15+,R14
    00002384              L1335:                            
    00002384 <00000000>             .DATA.L     _sc0135
      Monochrome  1101    #endif
      Monochrome  1102    
      Monochrome  1103    #ifdef ML_BMP_8_AND_CL
      Monochrome  1104    void ML_bmp_8_and_cl(const unsigned char *bmp, int x, int y)
    00002388              _ML_bmp_8_and_cl:                ; function: ML_bmp_8_and_cl
                                                           ; frame size=44
    00002388 2FE6                   MOV.L       R14,@-R15
    0000238A 6E63                   MOV         R6,R14
    0000238C 2FD6                   MOV.L       R13,@-R15
      Monochrome  1105    {
      Monochrome  1106            unsigned short line;
      Monochrome  1107            char i, shift, begin=0, end=8, bool1=1, bool2=1, *screen, *p=(char*)&line;
    0000238E E601                   MOV         #1,R6
    00002390 2FC6                   MOV.L       R12,@-R15
    00002392 6D53                   MOV         R5,R13
    00002394 2FB6                   MOV.L       R11,@-R15
    00002396 6C63                   MOV         R6,R12
    00002398 2FA6                   MOV.L       R10,@-R15
    0000239A E508                   MOV         #8,R5
    0000239C 2F96                   MOV.L       R9,@-R15
    0000239E 6053                   MOV         R5,R0
    000023A0 2F86                   MOV.L       R8,@-R15
    000023A2 6963                   MOV         R6,R9
    000023A4 4F22                   STS.L       PR,@-R15
    000023A6 7FF4                   ADD         #-12,R15




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE  107


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    000023A8 1F41                   MOV.L       R4,@(4,R15)
    000023AA E400                   MOV         #0,R4
    000023AC 80F8                   MOV.B       R0,@(8,R15)
    000023AE 6A43                   MOV         R4,R10
      Monochrome  1108            if(!bmp || x<-7 || x>127 || y<-7 || y>63) return;
    000023B0 53F1                   MOV.L       @(4,R15),R3
    000023B2 2338                   TST         R3,R3
    000023B4 8D55                   BT/S        L1173
    000023B6 6BF3                   MOV         R15,R11
    000023B8 E3F9                   MOV         #-7,R3
    000023BA 3D33                   CMP/GE      R3,R13
    000023BC 8B51                   BF          L1173
    000023BE E17F                   MOV         #127,R1
    000023C0 3D17                   CMP/GT      R1,R13
    000023C2 894E                   BT          L1173
    000023C4 3E33                   CMP/GE      R3,R14
    000023C6 8B4C                   BF          L1173
    000023C8 E23F                   MOV         #63,R2
    000023CA 3E27                   CMP/GT      R2,R14
    000023CC 8949                   BT          L1173
      Monochrome  1109            if(y < 0) begin = -y;
    000023CE 4E11                   CMP/PZ      R14
    000023D0 8D01                   BT/S        L1174
      Monochrome  1110            if(y > 56) end = 64-y;
    000023D2 E238                   MOV         #56,R2
    000023D4 6AEB                   NEG         R14,R10
    000023D6              L1174:                            
    000023D6 3E27                   CMP/GT      R2,R14
    000023D8 8B02                   BF          L1175
    000023DA E040                   MOV         #64,R0
    000023DC 30E8                   SUB         R14,R0
    000023DE 80F8                   MOV.B       R0,@(8,R15)
    000023E0              L1175:                            
      Monochrome  1111            shift = 8-(x&7);
    000023E0 E307                   MOV         #7,R3
    000023E2 23D9                   AND         R13,R3
    000023E4 6853                   MOV         R5,R8
      Monochrome  1112            if(x < 0) bool1 = 0;
    000023E6 4D11                   CMP/PZ      R13
    000023E8 8D01                   BT/S        L1176
    000023EA 3838                   SUB         R3,R8
    000023EC 6943                   MOV         R4,R9
    000023EE              L1176:                            
      Monochrome  1113            if(x>120 || shift==8) bool2 = 0;
    000023EE E378                   MOV         #120,R3
    000023F0 3D37                   CMP/GT      R3,R13
    000023F2 8902                   BT          L1178
    000023F4 608E                   EXTS.B      R8,R0
    000023F6 8808                   CMP/EQ      #8,R0
    000023F8 8B00                   BF          L1177
    000023FA              L1178:                            
    000023FA 6C43                   MOV         R4,R12
    000023FC              L1177:                            
      Monochrome  1114            screen = ML_vram_adress()+(y+begin<<4)+(x>>3);
    000023FC D358                   MOV.L       L1336,R3   ; _sc0135
    000023FE 430B                   JSR         @R3
    00002400 0009                   NOP




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE  108


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00002402 62AE                   EXTS.B      R10,R2
    00002404 53F1                   MOV.L       @(4,R15),R3
    00002406 4D21                   SHAR        R13
    00002408 32EC                   ADD         R14,R2
    0000240A 4208                   SHLL2       R2
    0000240C 4208                   SHLL2       R2
    0000240E 302C                   ADD         R2,R0
    00002410 4D21                   SHAR        R13
    00002412 4D21                   SHAR        R13
    00002414 6503                   MOV         R0,R5
    00002416 35DC                   ADD         R13,R5
    00002418 84F8                   MOV.B       @(8,R15),R0
      Monochrome  1115            for(i=begin ; i<end ; i++)
    0000241A 64A3                   MOV         R10,R4
    0000241C 664E                   EXTS.B      R4,R6
    0000241E 363C                   ADD         R3,R6
    00002420 6EB3                   MOV         R11,R14
    00002422 6703                   MOV         R0,R7
    00002424 624E                   EXTS.B      R4,R2
    00002426 3273                   CMP/GE      R7,R2
    00002428 8D1B                   BT/S        L1173
    0000242A 7E01                   ADD         #1,R14
    0000242C              L1180:                            
      Monochrome  1116            {
      Monochrome  1117                    line = ~((unsigned char)~bmp[i]<<shift);
    0000242C 6360                   MOV.B       @R6,R3
    0000242E 628E                   EXTS.B      R8,R2
    00002430 6337                   NOT         R3,R3
    00002432 633C                   EXTU.B      R3,R3
    00002434 432D                   SHLD        R2,R3
    00002436 6337                   NOT         R3,R3
      Monochrome  1118                    if(bool1) screen[0] &= *p;
    00002438 629E                   EXTS.B      R9,R2
    0000243A 2228                   TST         R2,R2
    0000243C 8D04                   BT/S        L1181
    0000243E 2F31                   MOV.W       R3,@R15
    00002440 62B0                   MOV.B       @R11,R2
    00002442 6150                   MOV.B       @R5,R1
    00002444 2129                   AND         R2,R1
    00002446 2510                   MOV.B       R1,@R5
    00002448              L1181:                            
      Monochrome  1119                    if(bool2) screen[1] &= *(p+1);
    00002448 63CE                   EXTS.B      R12,R3
    0000244A 2338                   TST         R3,R3
    0000244C 8903                   BT          L1182
    0000244E 63E0                   MOV.B       @R14,R3
    00002450 8451                   MOV.B       @(1,R5),R0
    00002452 2039                   AND         R3,R0
    00002454 8051                   MOV.B       R0,@(1,R5)
    00002456              L1182:                            
      Monochrome  1120                    screen += 16;
    00002456 7510                   ADD         #16,R5
    00002458 7401                   ADD         #1,R4
    0000245A 634E                   EXTS.B      R4,R3
    0000245C 3373                   CMP/GE      R7,R3
    0000245E 8FE5                   BF/S        L1180
    00002460 7601                   ADD         #1,R6




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE  109


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00002462              L1173:                            
      Monochrome  1121            }
      Monochrome  1122    }
    00002462 7F0C                   ADD         #12,R15
    00002464 4F26                   LDS.L       @R15+,PR
    00002466 68F6                   MOV.L       @R15+,R8
    00002468 69F6                   MOV.L       @R15+,R9
    0000246A 6AF6                   MOV.L       @R15+,R10
    0000246C 6BF6                   MOV.L       @R15+,R11
    0000246E 6CF6                   MOV.L       @R15+,R12
    00002470 6DF6                   MOV.L       @R15+,R13
    00002472 000B                   RTS
    00002474 6EF6                   MOV.L       @R15+,R14
      Monochrome  1123    #endif
      Monochrome  1124    
      Monochrome  1125    #ifdef ML_BMP_8_XOR_CL
      Monochrome  1126    void ML_bmp_8_xor_cl(const unsigned char *bmp, int x, int y)
    00002476              _ML_bmp_8_xor_cl:                ; function: ML_bmp_8_xor_cl
                                                           ; frame size=44
    00002476 2FE6                   MOV.L       R14,@-R15
    00002478 2FD6                   MOV.L       R13,@-R15
    0000247A 6E63                   MOV         R6,R14
    0000247C 2FC6                   MOV.L       R12,@-R15
    0000247E 6D53                   MOV         R5,R13
    00002480 2FB6                   MOV.L       R11,@-R15
      Monochrome  1127    {
      Monochrome  1128            unsigned short line;
      Monochrome  1129            char i, shift, begin=0, end=8, bool1=1, bool2=1, *screen, *p=(char*)&line;
    00002482 E601                   MOV         #1,R6
    00002484 2FA6                   MOV.L       R10,@-R15
    00002486 E508                   MOV         #8,R5
    00002488 2F96                   MOV.L       R9,@-R15
    0000248A 6C63                   MOV         R6,R12
    0000248C 2F86                   MOV.L       R8,@-R15
    0000248E 6053                   MOV         R5,R0
    00002490 4F22                   STS.L       PR,@-R15
    00002492 6963                   MOV         R6,R9
    00002494 7FF4                   ADD         #-12,R15
    00002496 1F41                   MOV.L       R4,@(4,R15)
    00002498 80F8                   MOV.B       R0,@(8,R15)
    0000249A E400                   MOV         #0,R4
      Monochrome  1130            if(!bmp || x<-7 || x>127 || y<-7 || y>63) return;
    0000249C 53F1                   MOV.L       @(4,R15),R3
    0000249E 6A43                   MOV         R4,R10
    000024A0 2338                   TST         R3,R3
    000024A2 8D53                   BT/S        L1185
    000024A4 6BF3                   MOV         R15,R11
    000024A6 E3F9                   MOV         #-7,R3
    000024A8 3D33                   CMP/GE      R3,R13
    000024AA 8B4F                   BF          L1185
    000024AC E17F                   MOV         #127,R1
    000024AE 3D17                   CMP/GT      R1,R13
    000024B0 894C                   BT          L1185
    000024B2 3E33                   CMP/GE      R3,R14
    000024B4 8B4A                   BF          L1185
    000024B6 E23F                   MOV         #63,R2
    000024B8 3E27                   CMP/GT      R2,R14




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE  110


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    000024BA 8947                   BT          L1185
      Monochrome  1131            if(y < 0) begin = -y;
    000024BC 4E11                   CMP/PZ      R14
    000024BE 8D01                   BT/S        L1186
      Monochrome  1132            if(y > 56) end = 64-y;
    000024C0 E238                   MOV         #56,R2
    000024C2 6AEB                   NEG         R14,R10
    000024C4              L1186:                            
    000024C4 3E27                   CMP/GT      R2,R14
    000024C6 8B02                   BF          L1187
    000024C8 E040                   MOV         #64,R0
    000024CA 30E8                   SUB         R14,R0
    000024CC 80F8                   MOV.B       R0,@(8,R15)
    000024CE              L1187:                            
      Monochrome  1133            shift = 8-(x&7);
    000024CE E307                   MOV         #7,R3
    000024D0 23D9                   AND         R13,R3
    000024D2 6853                   MOV         R5,R8
      Monochrome  1134            if(x < 0) bool1 = 0;
    000024D4 4D11                   CMP/PZ      R13
    000024D6 8D01                   BT/S        L1188
    000024D8 3838                   SUB         R3,R8
    000024DA 6943                   MOV         R4,R9
    000024DC              L1188:                            
      Monochrome  1135            if(x>120 || shift==8) bool2 = 0;
    000024DC E378                   MOV         #120,R3
    000024DE 3D37                   CMP/GT      R3,R13
    000024E0 8902                   BT          L1190
    000024E2 608E                   EXTS.B      R8,R0
    000024E4 8808                   CMP/EQ      #8,R0
    000024E6 8B00                   BF          L1189
    000024E8              L1190:                            
    000024E8 6C43                   MOV         R4,R12
    000024EA              L1189:                            
      Monochrome  1136            screen = ML_vram_adress()+(y+begin<<4)+(x>>3);
    000024EA D31D                   MOV.L       L1336,R3   ; _sc0135
    000024EC 430B                   JSR         @R3
    000024EE 0009                   NOP
    000024F0 53F1                   MOV.L       @(4,R15),R3
    000024F2 62AE                   EXTS.B      R10,R2
    000024F4 32EC                   ADD         R14,R2
    000024F6 4208                   SHLL2       R2
    000024F8 4208                   SHLL2       R2
    000024FA 302C                   ADD         R2,R0
    000024FC 4D21                   SHAR        R13
    000024FE 4D21                   SHAR        R13
    00002500 4D21                   SHAR        R13
    00002502 6503                   MOV         R0,R5
    00002504 84F8                   MOV.B       @(8,R15),R0
    00002506 35DC                   ADD         R13,R5
      Monochrome  1137            for(i=begin ; i<end ; i++)
    00002508 64A3                   MOV         R10,R4
    0000250A 664E                   EXTS.B      R4,R6
    0000250C 363C                   ADD         R3,R6
    0000250E 6EB3                   MOV         R11,R14
    00002510 6703                   MOV         R0,R7
    00002512 624E                   EXTS.B      R4,R2




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE  111


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00002514 3273                   CMP/GE      R7,R2
    00002516 8D19                   BT/S        L1185
    00002518 7E01                   ADD         #1,R14
    0000251A              L1192:                            
      Monochrome  1138            {
      Monochrome  1139                    line = bmp[i]<<shift;
    0000251A 628E                   EXTS.B      R8,R2
    0000251C 6360                   MOV.B       @R6,R3
    0000251E 633C                   EXTU.B      R3,R3
    00002520 432D                   SHLD        R2,R3
      Monochrome  1140                    if(bool1) screen[0] ^= *p;
    00002522 629E                   EXTS.B      R9,R2
    00002524 2228                   TST         R2,R2
    00002526 8D04                   BT/S        L1193
    00002528 2F31                   MOV.W       R3,@R15
    0000252A 62B0                   MOV.B       @R11,R2
    0000252C 6150                   MOV.B       @R5,R1
    0000252E 212A                   XOR         R2,R1
    00002530 2510                   MOV.B       R1,@R5
    00002532              L1193:                            
      Monochrome  1141                    if(bool2) screen[1] ^= *(p+1);
    00002532 63CE                   EXTS.B      R12,R3
    00002534 2338                   TST         R3,R3
    00002536 8903                   BT          L1194
    00002538 63E0                   MOV.B       @R14,R3
    0000253A 8451                   MOV.B       @(1,R5),R0
    0000253C 203A                   XOR         R3,R0
    0000253E 8051                   MOV.B       R0,@(1,R5)
    00002540              L1194:                            
      Monochrome  1142                    screen += 16;
    00002540 7510                   ADD         #16,R5
    00002542 7401                   ADD         #1,R4
    00002544 634E                   EXTS.B      R4,R3
    00002546 3373                   CMP/GE      R7,R3
    00002548 8FE7                   BF/S        L1192
    0000254A 7601                   ADD         #1,R6
    0000254C              L1185:                            
      Monochrome  1143            }
      Monochrome  1144    }
    0000254C 7F0C                   ADD         #12,R15
    0000254E 4F26                   LDS.L       @R15+,PR
    00002550 68F6                   MOV.L       @R15+,R8
    00002552 69F6                   MOV.L       @R15+,R9
    00002554 6AF6                   MOV.L       @R15+,R10
    00002556 6BF6                   MOV.L       @R15+,R11
    00002558 6CF6                   MOV.L       @R15+,R12
    0000255A 6DF6                   MOV.L       @R15+,R13
    0000255C 000B                   RTS
    0000255E 6EF6                   MOV.L       @R15+,R14
    00002560              L1336:                            
    00002560 <00000000>             .DATA.L     _sc0135
      Monochrome  1145    #endif
      Monochrome  1146    
      Monochrome  1147    #ifdef ML_BMP_16_OR
      Monochrome  1148    void ML_bmp_16_or(const unsigned short *bmp, int x, int y)
    00002564              _ML_bmp_16_or:                   ; function: ML_bmp_16_or
                                                           ; frame size=36




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE  112


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00002564 2FE6                   MOV.L       R14,@-R15
      Monochrome  1149    {
      Monochrome  1150            unsigned long line;
      Monochrome  1151            char i, shift, begin=0, end=16, *screen, *p=(char*)&line+1;
      Monochrome  1152            if(!bmp || x<0 || x>112 || y<-15 || y>63) return;
    00002566 6343                   MOV         R4,R3
    00002568 2FD6                   MOV.L       R13,@-R15
    0000256A 6E63                   MOV         R6,R14
    0000256C 2FC6                   MOV.L       R12,@-R15
    0000256E 2338                   TST         R3,R3
    00002570 2FB6                   MOV.L       R11,@-R15
    00002572 EC00                   MOV         #0,R12
    00002574 2FA6                   MOV.L       R10,@-R15
    00002576 6B53                   MOV         R5,R11
    00002578 2F96                   MOV.L       R9,@-R15
    0000257A E910                   MOV         #16,R9
    0000257C 4F22                   STS.L       PR,@-R15
    0000257E 7FF8                   ADD         #-8,R15
    00002580 1F41                   MOV.L       R4,@(4,R15)
    00002582 6DF3                   MOV         R15,R13
    00002584 8D4A                   BT/S        L1197
    00002586 7D01                   ADD         #1,R13
    00002588 4B11                   CMP/PZ      R11
    0000258A 8B47                   BF          L1197
    0000258C E270                   MOV         #112,R2
    0000258E 3B27                   CMP/GT      R2,R11
    00002590 8944                   BT          L1197
    00002592 E1F1                   MOV         #-15,R1
    00002594 3E13                   CMP/GE      R1,R14
    00002596 8B41                   BF          L1197
    00002598 E03F                   MOV         #63,R0
    0000259A 3E07                   CMP/GT      R0,R14
    0000259C 893E                   BT          L1197
      Monochrome  1153            if(y < 0) begin = -y;
    0000259E 4E11                   CMP/PZ      R14
    000025A0 8D01                   BT/S        L1198
      Monochrome  1154            if(y > 48) end = 64-y;
    000025A2 E330                   MOV         #48,R3
    000025A4 6CEB                   NEG         R14,R12
    000025A6              L1198:                            
    000025A6 3E37                   CMP/GT      R3,R14
    000025A8 8F02                   BF/S        L1199
      Monochrome  1155            shift = 8-(x&7);
    000025AA E307                   MOV         #7,R3
    000025AC E940                   MOV         #64,R9
    000025AE 39E8                   SUB         R14,R9
    000025B0              L1199:                            
      Monochrome  1156            screen = ML_vram_adress()+(y+begin<<4)+(x>>3);
    000025B0 D285                   MOV.L       L1337+2,R2 ; _sc0135
    000025B2 23B9                   AND         R11,R3
    000025B4 EA08                   MOV         #8,R10
    000025B6 420B                   JSR         @R2
    000025B8 3A38                   SUB         R3,R10
    000025BA 63CE                   EXTS.B      R12,R3
    000025BC 33EC                   ADD         R14,R3
    000025BE 4308                   SHLL2       R3
    000025C0 4308                   SHLL2       R3




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE  113


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    000025C2 303C                   ADD         R3,R0
    000025C4 53F1                   MOV.L       @(4,R15),R3
    000025C6 679E                   EXTS.B      R9,R7
    000025C8 4B21                   SHAR        R11
    000025CA 4B21                   SHAR        R11
    000025CC 4B21                   SHAR        R11
    000025CE 6403                   MOV         R0,R4
    000025D0 34BC                   ADD         R11,R4
      Monochrome  1157            for(i=begin ; i<end ; i++)
    000025D2 66C3                   MOV         R12,R6
    000025D4 656E                   EXTS.B      R6,R5
    000025D6 4500                   SHLL        R5
    000025D8 353C                   ADD         R3,R5
    000025DA 6BD3                   MOV         R13,R11
    000025DC 7B01                   ADD         #1,R11
    000025DE 6CD3                   MOV         R13,R12
    000025E0 626E                   EXTS.B      R6,R2
    000025E2 3273                   CMP/GE      R7,R2
    000025E4 8D1A                   BT/S        L1197
    000025E6 7C02                   ADD         #2,R12
    000025E8              L1201:                            
      Monochrome  1158            {
      Monochrome  1159                    line = bmp[i]<<shift;
    000025E8 6351                   MOV.W       @R5,R3
    000025EA 6EAE                   EXTS.B      R10,R14
    000025EC 633D                   EXTU.W      R3,R3
    000025EE 43ED                   SHLD        R14,R3
    000025F0 2F32                   MOV.L       R3,@R15
      Monochrome  1160                    screen[0] |= *p;
    000025F2 62D0                   MOV.B       @R13,R2
    000025F4 6140                   MOV.B       @R4,R1
    000025F6 212B                   OR          R2,R1
    000025F8 2410                   MOV.B       R1,@R4
      Monochrome  1161                    screen[1] |= *(p+1);
    000025FA 63B0                   MOV.B       @R11,R3
    000025FC 8441                   MOV.B       @(1,R4),R0
    000025FE 203B                   OR          R3,R0
    00002600 8041                   MOV.B       R0,@(1,R4)
      Monochrome  1162                    if(shift!=8) screen[2] |= *(p+2);
    00002602 60E3                   MOV         R14,R0
    00002604 8808                   CMP/EQ      #8,R0
    00002606 8903                   BT          L1202
    00002608 63C0                   MOV.B       @R12,R3
    0000260A 8442                   MOV.B       @(2,R4),R0
    0000260C 203B                   OR          R3,R0
    0000260E 8042                   MOV.B       R0,@(2,R4)
    00002610              L1202:                            
      Monochrome  1163                    screen += 16;
    00002610 7410                   ADD         #16,R4
    00002612 7601                   ADD         #1,R6
    00002614 636E                   EXTS.B      R6,R3
    00002616 3373                   CMP/GE      R7,R3
    00002618 8FE6                   BF/S        L1201
    0000261A 7502                   ADD         #2,R5
    0000261C              L1197:                            
      Monochrome  1164            }
      Monochrome  1165    }




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE  114


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    0000261C 7F08                   ADD         #8,R15
    0000261E 4F26                   LDS.L       @R15+,PR
    00002620 69F6                   MOV.L       @R15+,R9
    00002622 6AF6                   MOV.L       @R15+,R10
    00002624 6BF6                   MOV.L       @R15+,R11
    00002626 6CF6                   MOV.L       @R15+,R12
    00002628 6DF6                   MOV.L       @R15+,R13
    0000262A 000B                   RTS
    0000262C 6EF6                   MOV.L       @R15+,R14
      Monochrome  1166    #endif
      Monochrome  1167    
      Monochrome  1168    #ifdef ML_BMP_16_AND
      Monochrome  1169    void ML_bmp_16_and(const unsigned short *bmp, int x, int y)
    0000262E              _ML_bmp_16_and:                  ; function: ML_bmp_16_and
                                                           ; frame size=36
      Monochrome  1170    {
      Monochrome  1171            unsigned long line;
      Monochrome  1172            char i, shift, begin=0, end=16, *screen, *p=(char*)&line+1;
      Monochrome  1173            if(!bmp || x<0 || x>112 || y<-15 || y>63) return;
    0000262E 6343                   MOV         R4,R3
    00002630 2FE6                   MOV.L       R14,@-R15
    00002632 2338                   TST         R3,R3
    00002634 2FD6                   MOV.L       R13,@-R15
    00002636 6E63                   MOV         R6,R14
    00002638 2FC6                   MOV.L       R12,@-R15
    0000263A EC00                   MOV         #0,R12
    0000263C 2FB6                   MOV.L       R11,@-R15
    0000263E 6B53                   MOV         R5,R11
    00002640 2FA6                   MOV.L       R10,@-R15
    00002642 2F96                   MOV.L       R9,@-R15
    00002644 4F22                   STS.L       PR,@-R15
    00002646 E910                   MOV         #16,R9
    00002648 7FF8                   ADD         #-8,R15
    0000264A 6DF3                   MOV         R15,R13
    0000264C 1F41                   MOV.L       R4,@(4,R15)
    0000264E 8D4C                   BT/S        L1205
    00002650 7D01                   ADD         #1,R13
    00002652 4B11                   CMP/PZ      R11
    00002654 8B49                   BF          L1205
    00002656 E270                   MOV         #112,R2
    00002658 3B27                   CMP/GT      R2,R11
    0000265A 8946                   BT          L1205
    0000265C E1F1                   MOV         #-15,R1
    0000265E 3E13                   CMP/GE      R1,R14
    00002660 8B43                   BF          L1205
    00002662 E03F                   MOV         #63,R0
    00002664 3E07                   CMP/GT      R0,R14
    00002666 8940                   BT          L1205
      Monochrome  1174            if(y < 0) begin = -y;
    00002668 4E11                   CMP/PZ      R14
    0000266A 8D01                   BT/S        L1206
      Monochrome  1175            if(y > 48) end = 64-y;
    0000266C E330                   MOV         #48,R3
    0000266E 6CEB                   NEG         R14,R12
    00002670              L1206:                            
    00002670 3E37                   CMP/GT      R3,R14
    00002672 8F02                   BF/S        L1207




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE  115


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

      Monochrome  1176            shift = 8-(x&7);
    00002674 E307                   MOV         #7,R3
    00002676 E940                   MOV         #64,R9
    00002678 39E8                   SUB         R14,R9
    0000267A              L1207:                            
    0000267A 23B9                   AND         R11,R3
      Monochrome  1177            screen = ML_vram_adress()+(y+begin<<4)+(x>>3);
    0000267C D252                   MOV.L       L1337+2,R2 ; _sc0135
    0000267E EA08                   MOV         #8,R10
    00002680 420B                   JSR         @R2
    00002682 3A38                   SUB         R3,R10
    00002684 63CE                   EXTS.B      R12,R3
    00002686 33EC                   ADD         R14,R3
    00002688 4308                   SHLL2       R3
    0000268A 4308                   SHLL2       R3
    0000268C 303C                   ADD         R3,R0
    0000268E 4B21                   SHAR        R11
    00002690 53F1                   MOV.L       @(4,R15),R3
    00002692 679E                   EXTS.B      R9,R7
    00002694 4B21                   SHAR        R11
    00002696 4B21                   SHAR        R11
    00002698 6403                   MOV         R0,R4
    0000269A 34BC                   ADD         R11,R4
      Monochrome  1178            for(i=begin ; i<end ; i++)
    0000269C 66C3                   MOV         R12,R6
    0000269E 656E                   EXTS.B      R6,R5
    000026A0 4500                   SHLL        R5
    000026A2 353C                   ADD         R3,R5
    000026A4 6BD3                   MOV         R13,R11
    000026A6 7B01                   ADD         #1,R11
    000026A8 6CD3                   MOV         R13,R12
    000026AA 626E                   EXTS.B      R6,R2
    000026AC 3273                   CMP/GE      R7,R2
    000026AE 8D1C                   BT/S        L1205
    000026B0 7C02                   ADD         #2,R12
    000026B2              L1209:                            
      Monochrome  1179            {
      Monochrome  1180                    line = ~((unsigned short)~bmp[i]<<shift);
    000026B2 6EAE                   EXTS.B      R10,R14
    000026B4 6351                   MOV.W       @R5,R3
    000026B6 6337                   NOT         R3,R3
    000026B8 633D                   EXTU.W      R3,R3
    000026BA 43ED                   SHLD        R14,R3
    000026BC 6337                   NOT         R3,R3
    000026BE 2F32                   MOV.L       R3,@R15
      Monochrome  1181                    screen[0] &= *p;
    000026C0 62D0                   MOV.B       @R13,R2
    000026C2 6140                   MOV.B       @R4,R1
    000026C4 2129                   AND         R2,R1
    000026C6 2410                   MOV.B       R1,@R4
      Monochrome  1182                    screen[1] &= *(p+1);
    000026C8 63B0                   MOV.B       @R11,R3
    000026CA 8441                   MOV.B       @(1,R4),R0
    000026CC 2039                   AND         R3,R0
    000026CE 8041                   MOV.B       R0,@(1,R4)
      Monochrome  1183                    if(shift!=8) screen[2] &= *(p+2);
    000026D0 60E3                   MOV         R14,R0




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE  116


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    000026D2 8808                   CMP/EQ      #8,R0
    000026D4 8903                   BT          L1210
    000026D6 63C0                   MOV.B       @R12,R3
    000026D8 8442                   MOV.B       @(2,R4),R0
    000026DA 2039                   AND         R3,R0
    000026DC 8042                   MOV.B       R0,@(2,R4)
    000026DE              L1210:                            
      Monochrome  1184                    screen += 16;
    000026DE 7410                   ADD         #16,R4
    000026E0 7601                   ADD         #1,R6
    000026E2 636E                   EXTS.B      R6,R3
    000026E4 3373                   CMP/GE      R7,R3
    000026E6 8FE4                   BF/S        L1209
    000026E8 7502                   ADD         #2,R5
    000026EA              L1205:                            
      Monochrome  1185            }
      Monochrome  1186    }
    000026EA 7F08                   ADD         #8,R15
    000026EC 4F26                   LDS.L       @R15+,PR
    000026EE 69F6                   MOV.L       @R15+,R9
    000026F0 6AF6                   MOV.L       @R15+,R10
    000026F2 6BF6                   MOV.L       @R15+,R11
    000026F4 6CF6                   MOV.L       @R15+,R12
    000026F6 6DF6                   MOV.L       @R15+,R13
    000026F8 000B                   RTS
    000026FA 6EF6                   MOV.L       @R15+,R14
      Monochrome  1187    #endif
      Monochrome  1188    
      Monochrome  1189    #ifdef ML_BMP_16_XOR
      Monochrome  1190    void ML_bmp_16_xor(const unsigned short *bmp, int x, int y)
    000026FC              _ML_bmp_16_xor:                  ; function: ML_bmp_16_xor
                                                           ; frame size=36
    000026FC 2FE6                   MOV.L       R14,@-R15
      Monochrome  1191    {
      Monochrome  1192            unsigned long line;
      Monochrome  1193            char i, shift, begin=0, end=16, *screen, *p=(char*)&line+1;
      Monochrome  1194            if(!bmp || x<0 || x>112 || y<-15 || y>63) return;
    000026FE 6343                   MOV         R4,R3
    00002700 2FD6                   MOV.L       R13,@-R15
    00002702 6E63                   MOV         R6,R14
    00002704 2FC6                   MOV.L       R12,@-R15
    00002706 2338                   TST         R3,R3
    00002708 2FB6                   MOV.L       R11,@-R15
    0000270A EC00                   MOV         #0,R12
    0000270C 2FA6                   MOV.L       R10,@-R15
    0000270E 6B53                   MOV         R5,R11
    00002710 2F96                   MOV.L       R9,@-R15
    00002712 E910                   MOV         #16,R9
    00002714 4F22                   STS.L       PR,@-R15
    00002716 7FF8                   ADD         #-8,R15
    00002718 1F41                   MOV.L       R4,@(4,R15)
    0000271A 6DF3                   MOV         R15,R13
    0000271C 8D4A                   BT/S        L1213
    0000271E 7D01                   ADD         #1,R13
    00002720 4B11                   CMP/PZ      R11
    00002722 8B47                   BF          L1213
    00002724 E270                   MOV         #112,R2




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE  117


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00002726 3B27                   CMP/GT      R2,R11
    00002728 8944                   BT          L1213
    0000272A E1F1                   MOV         #-15,R1
    0000272C 3E13                   CMP/GE      R1,R14
    0000272E 8B41                   BF          L1213
    00002730 E03F                   MOV         #63,R0
    00002732 3E07                   CMP/GT      R0,R14
    00002734 893E                   BT          L1213
      Monochrome  1195            if(y < 0) begin = -y;
    00002736 4E11                   CMP/PZ      R14
    00002738 8D01                   BT/S        L1214
      Monochrome  1196            if(y > 48) end = 64-y;
    0000273A E330                   MOV         #48,R3
    0000273C 6CEB                   NEG         R14,R12
    0000273E              L1214:                            
    0000273E 3E37                   CMP/GT      R3,R14
    00002740 8F02                   BF/S        L1215
      Monochrome  1197            shift = 8-(x&7);
    00002742 E307                   MOV         #7,R3
    00002744 E940                   MOV         #64,R9
    00002746 39E8                   SUB         R14,R9
    00002748              L1215:                            
      Monochrome  1198            screen = ML_vram_adress()+(y+begin<<4)+(x>>3);
    00002748 D21F                   MOV.L       L1337+2,R2 ; _sc0135
    0000274A 23B9                   AND         R11,R3
    0000274C EA08                   MOV         #8,R10
    0000274E 420B                   JSR         @R2
    00002750 3A38                   SUB         R3,R10
    00002752 63CE                   EXTS.B      R12,R3
    00002754 33EC                   ADD         R14,R3
    00002756 4308                   SHLL2       R3
    00002758 4308                   SHLL2       R3
    0000275A 303C                   ADD         R3,R0
    0000275C 53F1                   MOV.L       @(4,R15),R3
    0000275E 679E                   EXTS.B      R9,R7
    00002760 4B21                   SHAR        R11
    00002762 4B21                   SHAR        R11
    00002764 4B21                   SHAR        R11
    00002766 6403                   MOV         R0,R4
    00002768 34BC                   ADD         R11,R4
      Monochrome  1199            for(i=begin ; i<end ; i++)
    0000276A 66C3                   MOV         R12,R6
    0000276C 656E                   EXTS.B      R6,R5
    0000276E 4500                   SHLL        R5
    00002770 353C                   ADD         R3,R5
    00002772 6BD3                   MOV         R13,R11
    00002774 7B01                   ADD         #1,R11
    00002776 6CD3                   MOV         R13,R12
    00002778 626E                   EXTS.B      R6,R2
    0000277A 3273                   CMP/GE      R7,R2
    0000277C 8D1A                   BT/S        L1213
    0000277E 7C02                   ADD         #2,R12
    00002780              L1217:                            
      Monochrome  1200            {
      Monochrome  1201                    line = bmp[i]<<shift;
    00002780 6351                   MOV.W       @R5,R3
    00002782 6EAE                   EXTS.B      R10,R14




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE  118


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00002784 633D                   EXTU.W      R3,R3
    00002786 43ED                   SHLD        R14,R3
    00002788 2F32                   MOV.L       R3,@R15
      Monochrome  1202                    screen[0] ^= *p;
    0000278A 62D0                   MOV.B       @R13,R2
    0000278C 6140                   MOV.B       @R4,R1
    0000278E 212A                   XOR         R2,R1
    00002790 2410                   MOV.B       R1,@R4
      Monochrome  1203                    screen[1] ^= *(p+1);
    00002792 63B0                   MOV.B       @R11,R3
    00002794 8441                   MOV.B       @(1,R4),R0
    00002796 203A                   XOR         R3,R0
    00002798 8041                   MOV.B       R0,@(1,R4)
      Monochrome  1204                    if(shift!=8) screen[2] ^= *(p+2);
    0000279A 60E3                   MOV         R14,R0
    0000279C 8808                   CMP/EQ      #8,R0
    0000279E 8903                   BT          L1218
    000027A0 63C0                   MOV.B       @R12,R3
    000027A2 8442                   MOV.B       @(2,R4),R0
    000027A4 203A                   XOR         R3,R0
    000027A6 8042                   MOV.B       R0,@(2,R4)
    000027A8              L1218:                            
      Monochrome  1205                    screen += 16;
    000027A8 7410                   ADD         #16,R4
    000027AA 7601                   ADD         #1,R6
    000027AC 636E                   EXTS.B      R6,R3
    000027AE 3373                   CMP/GE      R7,R3
    000027B0 8FE6                   BF/S        L1217
    000027B2 7502                   ADD         #2,R5
    000027B4              L1213:                            
      Monochrome  1206            }
      Monochrome  1207    }
    000027B4 7F08                   ADD         #8,R15
    000027B6 4F26                   LDS.L       @R15+,PR
    000027B8 69F6                   MOV.L       @R15+,R9
    000027BA 6AF6                   MOV.L       @R15+,R10
    000027BC 6BF6                   MOV.L       @R15+,R11
    000027BE 6CF6                   MOV.L       @R15+,R12
    000027C0 6DF6                   MOV.L       @R15+,R13
    000027C2 000B                   RTS
    000027C4 6EF6                   MOV.L       @R15+,R14
    000027C6              L1337:                            
    000027C6 0000                   .DATA.W     0
    000027C8 <00000000>             .DATA.L     _sc0135
      Monochrome  1208    #endif
      Monochrome  1209    
      Monochrome  1210    #ifdef ML_BMP_16_OR_CL
      Monochrome  1211    void ML_bmp_16_or_cl(const unsigned short *bmp, int x, int y)
    000027CC              _ML_bmp_16_or_cl:                ; function: ML_bmp_16_or_cl
                                                           ; frame size=48
    000027CC 2FE6                   MOV.L       R14,@-R15
      Monochrome  1212    {
      Monochrome  1213            unsigned long line;
      Monochrome  1214            char i, shift, begin=0, end=16, bool1=1, bool2=1, bool3=1, *screen, *p=(char*)&line+1;
    000027CE E010                   MOV         #16,R0
    000027D0 2FD6                   MOV.L       R13,@-R15
    000027D2 6E53                   MOV         R5,R14




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE  119


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    000027D4 2FC6                   MOV.L       R12,@-R15
    000027D6 6D63                   MOV         R6,R13
    000027D8 2FB6                   MOV.L       R11,@-R15
    000027DA E501                   MOV         #1,R5
    000027DC 2FA6                   MOV.L       R10,@-R15
    000027DE 2F96                   MOV.L       R9,@-R15
    000027E0 2F86                   MOV.L       R8,@-R15
    000027E2 6953                   MOV         R5,R9
    000027E4 4F22                   STS.L       PR,@-R15
    000027E6 6B93                   MOV         R9,R11
    000027E8 7FF0                   ADD         #-16,R15
    000027EA 6CF3                   MOV         R15,R12
    000027EC 1F41                   MOV.L       R4,@(4,R15)
    000027EE E400                   MOV         #0,R4
    000027F0 80FC                   MOV.B       R0,@(12,R15)
    000027F2 6A43                   MOV         R4,R10
    000027F4 6053                   MOV         R5,R0
    000027F6 80F8                   MOV.B       R0,@(8,R15)
      Monochrome  1215            if(!bmp || x<-15 || x>127 || y<-15 || y>63) return;
    000027F8 53F1                   MOV.L       @(4,R15),R3
    000027FA 2338                   TST         R3,R3
    000027FC 8D65                   BT/S        L1221
    000027FE 7C01                   ADD         #1,R12
    00002800 E3F1                   MOV         #-15,R3
    00002802 3E33                   CMP/GE      R3,R14
    00002804 8B61                   BF          L1221
    00002806 E17F                   MOV         #127,R1
    00002808 3E17                   CMP/GT      R1,R14
    0000280A 895E                   BT          L1221
    0000280C 3D33                   CMP/GE      R3,R13
    0000280E 8B5C                   BF          L1221
    00002810 E23F                   MOV         #63,R2
    00002812 3D27                   CMP/GT      R2,R13
    00002814 8959                   BT          L1221
      Monochrome  1216            if(y < 0) begin = -y;
    00002816 4D11                   CMP/PZ      R13
    00002818 8D01                   BT/S        L1222
      Monochrome  1217            if(y > 48) end = 64-y;
    0000281A E230                   MOV         #48,R2
    0000281C 6ADB                   NEG         R13,R10
    0000281E              L1222:                            
    0000281E 3D27                   CMP/GT      R2,R13
    00002820 8B02                   BF          L1223
    00002822 E040                   MOV         #64,R0
    00002824 30D8                   SUB         R13,R0
    00002826 80FC                   MOV.B       R0,@(12,R15)
    00002828              L1223:                            
      Monochrome  1218            shift = 8-(x&7);
    00002828 E307                   MOV         #7,R3
    0000282A 23E9                   AND         R14,R3
    0000282C E808                   MOV         #8,R8
      Monochrome  1219            if(x < 0) bool1 = 0;
    0000282E 4E11                   CMP/PZ      R14
    00002830 8D01                   BT/S        L1224
    00002832 3838                   SUB         R3,R8
    00002834 6943                   MOV         R4,R9
    00002836              L1224:                            




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE  120


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

      Monochrome  1220            if(x<-8 || x>119) bool2 = 0;
    00002836 E3F8                   MOV         #-8,R3
    00002838 3E33                   CMP/GE      R3,R14
    0000283A 8B02                   BF          L1226
    0000283C E177                   MOV         #119,R1
    0000283E 3E17                   CMP/GT      R1,R14
    00002840 8B01                   BF          L1225
    00002842              L1226:                            
    00002842 6043                   MOV         R4,R0
    00002844 80F8                   MOV.B       R0,@(8,R15)
    00002846              L1225:                            
      Monochrome  1221            if(x>111 || shift==8) bool3 = 0;
    00002846 E36F                   MOV         #111,R3
    00002848 3E37                   CMP/GT      R3,R14
    0000284A 8902                   BT          L1228
    0000284C 608E                   EXTS.B      R8,R0
    0000284E 8808                   CMP/EQ      #8,R0
    00002850 8B00                   BF          L1227
    00002852              L1228:                            
    00002852 6B43                   MOV         R4,R11
    00002854              L1227:                            
      Monochrome  1222            screen = ML_vram_adress()+(y+begin<<4)+(x>>3);
    00002854 D367                   MOV.L       L1338,R3   ; _sc0135
    00002856 430B                   JSR         @R3
    00002858 0009                   NOP
    0000285A 62AE                   EXTS.B      R10,R2
    0000285C 53F1                   MOV.L       @(4,R15),R3
    0000285E 4E21                   SHAR        R14
    00002860 32DC                   ADD         R13,R2
    00002862 4208                   SHLL2       R2
    00002864 4208                   SHLL2       R2
    00002866 302C                   ADD         R2,R0
    00002868 4E21                   SHAR        R14
    0000286A 4E21                   SHAR        R14
    0000286C 6403                   MOV         R0,R4
    0000286E 34EC                   ADD         R14,R4
    00002870 84FC                   MOV.B       @(12,R15),R0
      Monochrome  1223            for(i=begin ; i<end ; i++)
    00002872 65A3                   MOV         R10,R5
    00002874 665E                   EXTS.B      R5,R6
    00002876 4600                   SHLL        R6
    00002878 363C                   ADD         R3,R6
    0000287A 6EC3                   MOV         R12,R14
    0000287C 7E01                   ADD         #1,R14
    0000287E 6DC3                   MOV         R12,R13
    00002880 6703                   MOV         R0,R7
    00002882 625E                   EXTS.B      R5,R2
    00002884 3273                   CMP/GE      R7,R2
    00002886 8D20                   BT/S        L1221
    00002888 7D02                   ADD         #2,R13
    0000288A              L1230:                            
      Monochrome  1224            {
      Monochrome  1225                    line = bmp[i]<<shift;
    0000288A 628E                   EXTS.B      R8,R2
    0000288C 6361                   MOV.W       @R6,R3
    0000288E 633D                   EXTU.W      R3,R3
    00002890 432D                   SHLD        R2,R3




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE  121


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

      Monochrome  1226                    if(bool1) screen[0] |= *p;
    00002892 629E                   EXTS.B      R9,R2
    00002894 2228                   TST         R2,R2
    00002896 8D04                   BT/S        L1231
    00002898 2F32                   MOV.L       R3,@R15
    0000289A 62C0                   MOV.B       @R12,R2
    0000289C 6140                   MOV.B       @R4,R1
    0000289E 212B                   OR          R2,R1
    000028A0 2410                   MOV.B       R1,@R4
    000028A2              L1231:                            
      Monochrome  1227                    if(bool2) screen[1] |= *(p+1);
    000028A2 84F8                   MOV.B       @(8,R15),R0
    000028A4 2008                   TST         R0,R0
    000028A6 8D04                   BT/S        L1232
      Monochrome  1228                    if(bool3) screen[2] |= *(p+2);
    000028A8 62BE                   EXTS.B      R11,R2
    000028AA 63E0                   MOV.B       @R14,R3
    000028AC 8441                   MOV.B       @(1,R4),R0
    000028AE 203B                   OR          R3,R0
    000028B0 8041                   MOV.B       R0,@(1,R4)
    000028B2              L1232:                            
    000028B2 2228                   TST         R2,R2
    000028B4 8903                   BT          L1233
    000028B6 63D0                   MOV.B       @R13,R3
    000028B8 8442                   MOV.B       @(2,R4),R0
    000028BA 203B                   OR          R3,R0
    000028BC 8042                   MOV.B       R0,@(2,R4)
    000028BE              L1233:                            
      Monochrome  1229                    screen += 16;
    000028BE 7410                   ADD         #16,R4
    000028C0 7501                   ADD         #1,R5
    000028C2 635E                   EXTS.B      R5,R3
    000028C4 3373                   CMP/GE      R7,R3
    000028C6 8FE0                   BF/S        L1230
    000028C8 7602                   ADD         #2,R6
    000028CA              L1221:                            
      Monochrome  1230            }
      Monochrome  1231    }
    000028CA 7F10                   ADD         #16,R15
    000028CC 4F26                   LDS.L       @R15+,PR
    000028CE 68F6                   MOV.L       @R15+,R8
    000028D0 69F6                   MOV.L       @R15+,R9
    000028D2 6AF6                   MOV.L       @R15+,R10
    000028D4 6BF6                   MOV.L       @R15+,R11
    000028D6 6CF6                   MOV.L       @R15+,R12
    000028D8 6DF6                   MOV.L       @R15+,R13
    000028DA 000B                   RTS
    000028DC 6EF6                   MOV.L       @R15+,R14
      Monochrome  1232    #endif
      Monochrome  1233    
      Monochrome  1234    #ifdef ML_BMP_16_AND_CL
      Monochrome  1235    void ML_bmp_16_and_cl(const unsigned short *bmp, int x, int y)
    000028DE              _ML_bmp_16_and_cl:               ; function: ML_bmp_16_and_cl
                                                           ; frame size=48
      Monochrome  1236    {
      Monochrome  1237            unsigned long line;
      Monochrome  1238            char i, shift, begin=0, end=16, bool1=1, bool2=1, bool3=1, *screen, *p=(char*)&line+1;




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE  122


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    000028DE E010                   MOV         #16,R0
    000028E0 2FE6                   MOV.L       R14,@-R15
    000028E2 6E53                   MOV         R5,R14
    000028E4 2FD6                   MOV.L       R13,@-R15
    000028E6 E501                   MOV         #1,R5
    000028E8 2FC6                   MOV.L       R12,@-R15
    000028EA 6D63                   MOV         R6,R13
    000028EC 2FB6                   MOV.L       R11,@-R15
    000028EE 2FA6                   MOV.L       R10,@-R15
    000028F0 2F96                   MOV.L       R9,@-R15
    000028F2 6953                   MOV         R5,R9
    000028F4 2F86                   MOV.L       R8,@-R15
    000028F6 6B93                   MOV         R9,R11
    000028F8 4F22                   STS.L       PR,@-R15
    000028FA 7FF0                   ADD         #-16,R15
    000028FC 1F41                   MOV.L       R4,@(4,R15)
    000028FE 6CF3                   MOV         R15,R12
    00002900 80FC                   MOV.B       R0,@(12,R15)
    00002902 E400                   MOV         #0,R4
    00002904 6A43                   MOV         R4,R10
    00002906 6053                   MOV         R5,R0
    00002908 80F8                   MOV.B       R0,@(8,R15)
      Monochrome  1239            if(!bmp || x<-15 || x>127 || y<-15 || y>63) return;
    0000290A 53F1                   MOV.L       @(4,R15),R3
    0000290C 2338                   TST         R3,R3
    0000290E 8D67                   BT/S        L1236
    00002910 7C01                   ADD         #1,R12
    00002912 E3F1                   MOV         #-15,R3
    00002914 3E33                   CMP/GE      R3,R14
    00002916 8B63                   BF          L1236
    00002918 E17F                   MOV         #127,R1
    0000291A 3E17                   CMP/GT      R1,R14
    0000291C 8960                   BT          L1236
    0000291E 3D33                   CMP/GE      R3,R13
    00002920 8B5E                   BF          L1236
    00002922 E23F                   MOV         #63,R2
    00002924 3D27                   CMP/GT      R2,R13
    00002926 895B                   BT          L1236
      Monochrome  1240            if(y < 0) begin = -y;
    00002928 4D11                   CMP/PZ      R13
    0000292A 8D01                   BT/S        L1237
      Monochrome  1241            if(y > 48) end = 64-y;
    0000292C E230                   MOV         #48,R2
    0000292E 6ADB                   NEG         R13,R10
    00002930              L1237:                            
    00002930 3D27                   CMP/GT      R2,R13
    00002932 8B02                   BF          L1238
    00002934 E040                   MOV         #64,R0
    00002936 30D8                   SUB         R13,R0
    00002938 80FC                   MOV.B       R0,@(12,R15)
    0000293A              L1238:                            
      Monochrome  1242            shift = 8-(x&7);
    0000293A E307                   MOV         #7,R3
    0000293C 23E9                   AND         R14,R3
    0000293E E808                   MOV         #8,R8
      Monochrome  1243            if(x < 0) bool1 = 0;
    00002940 4E11                   CMP/PZ      R14




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE  123


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00002942 8D01                   BT/S        L1239
    00002944 3838                   SUB         R3,R8
    00002946 6943                   MOV         R4,R9
    00002948              L1239:                            
      Monochrome  1244            if(x<-8 || x>119) bool2 = 0;
    00002948 E3F8                   MOV         #-8,R3
    0000294A 3E33                   CMP/GE      R3,R14
    0000294C 8B02                   BF          L1241
    0000294E E177                   MOV         #119,R1
    00002950 3E17                   CMP/GT      R1,R14
    00002952 8B01                   BF          L1240
    00002954              L1241:                            
    00002954 6043                   MOV         R4,R0
    00002956 80F8                   MOV.B       R0,@(8,R15)
    00002958              L1240:                            
      Monochrome  1245            if(x>111 || shift==8) bool3 = 0;
    00002958 E36F                   MOV         #111,R3
    0000295A 3E37                   CMP/GT      R3,R14
    0000295C 8902                   BT          L1243
    0000295E 608E                   EXTS.B      R8,R0
    00002960 8808                   CMP/EQ      #8,R0
    00002962 8B00                   BF          L1242
    00002964              L1243:                            
    00002964 6B43                   MOV         R4,R11
    00002966              L1242:                            
      Monochrome  1246            screen = ML_vram_adress()+(y+begin<<4)+(x>>3);
    00002966 D323                   MOV.L       L1338,R3   ; _sc0135
    00002968 430B                   JSR         @R3
    0000296A 0009                   NOP
    0000296C 53F1                   MOV.L       @(4,R15),R3
    0000296E 62AE                   EXTS.B      R10,R2
    00002970 32DC                   ADD         R13,R2
    00002972 4208                   SHLL2       R2
    00002974 4208                   SHLL2       R2
    00002976 302C                   ADD         R2,R0
    00002978 4E21                   SHAR        R14
    0000297A 4E21                   SHAR        R14
    0000297C 4E21                   SHAR        R14
    0000297E 6403                   MOV         R0,R4
    00002980 84FC                   MOV.B       @(12,R15),R0
    00002982 34EC                   ADD         R14,R4
      Monochrome  1247            for(i=begin ; i<end ; i++)
    00002984 65A3                   MOV         R10,R5
    00002986 665E                   EXTS.B      R5,R6
    00002988 4600                   SHLL        R6
    0000298A 363C                   ADD         R3,R6
    0000298C 6EC3                   MOV         R12,R14
    0000298E 7E01                   ADD         #1,R14
    00002990 6DC3                   MOV         R12,R13
    00002992 6703                   MOV         R0,R7
    00002994 625E                   EXTS.B      R5,R2
    00002996 3273                   CMP/GE      R7,R2
    00002998 8D22                   BT/S        L1236
    0000299A 7D02                   ADD         #2,R13
    0000299C              L1245:                            
      Monochrome  1248            {
      Monochrome  1249                    line = ~((unsigned short)~bmp[i]<<shift);




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE  124


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    0000299C 6361                   MOV.W       @R6,R3
    0000299E 628E                   EXTS.B      R8,R2
    000029A0 6337                   NOT         R3,R3
    000029A2 633D                   EXTU.W      R3,R3
    000029A4 432D                   SHLD        R2,R3
    000029A6 6337                   NOT         R3,R3
      Monochrome  1250                    if(bool1) screen[0] &= *p;
    000029A8 629E                   EXTS.B      R9,R2
    000029AA 2228                   TST         R2,R2
    000029AC 8D04                   BT/S        L1246
    000029AE 2F32                   MOV.L       R3,@R15
    000029B0 62C0                   MOV.B       @R12,R2
    000029B2 6140                   MOV.B       @R4,R1
    000029B4 2129                   AND         R2,R1
    000029B6 2410                   MOV.B       R1,@R4
    000029B8              L1246:                            
      Monochrome  1251                    if(bool2) screen[1] &= *(p+1);
    000029B8 84F8                   MOV.B       @(8,R15),R0
    000029BA 2008                   TST         R0,R0
    000029BC 8D04                   BT/S        L1247
      Monochrome  1252                    if(bool3) screen[2] &= *(p+2);
    000029BE 62BE                   EXTS.B      R11,R2
    000029C0 63E0                   MOV.B       @R14,R3
    000029C2 8441                   MOV.B       @(1,R4),R0
    000029C4 2039                   AND         R3,R0
    000029C6 8041                   MOV.B       R0,@(1,R4)
    000029C8              L1247:                            
    000029C8 2228                   TST         R2,R2
    000029CA 8903                   BT          L1248
    000029CC 63D0                   MOV.B       @R13,R3
    000029CE 8442                   MOV.B       @(2,R4),R0
    000029D0 2039                   AND         R3,R0
    000029D2 8042                   MOV.B       R0,@(2,R4)
    000029D4              L1248:                            
      Monochrome  1253                    screen += 16;
    000029D4 7410                   ADD         #16,R4
    000029D6 7501                   ADD         #1,R5
    000029D8 635E                   EXTS.B      R5,R3
    000029DA 3373                   CMP/GE      R7,R3
    000029DC 8FDE                   BF/S        L1245
    000029DE 7602                   ADD         #2,R6
    000029E0              L1236:                            
      Monochrome  1254            }
      Monochrome  1255    }
    000029E0 7F10                   ADD         #16,R15
    000029E2 4F26                   LDS.L       @R15+,PR
    000029E4 68F6                   MOV.L       @R15+,R8
    000029E6 69F6                   MOV.L       @R15+,R9
    000029E8 6AF6                   MOV.L       @R15+,R10
    000029EA 6BF6                   MOV.L       @R15+,R11
    000029EC 6CF6                   MOV.L       @R15+,R12
    000029EE 6DF6                   MOV.L       @R15+,R13
    000029F0 000B                   RTS
    000029F2 6EF6                   MOV.L       @R15+,R14
    000029F4              L1338:                            
    000029F4 <00000000>             .DATA.L     _sc0135
      Monochrome  1256    #endif




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE  125


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

      Monochrome  1257    
      Monochrome  1258    #ifdef ML_BMP_16_XOR_CL
      Monochrome  1259    void ML_bmp_16_xor_cl(const unsigned short *bmp, int x, int y)
    000029F8              _ML_bmp_16_xor_cl:               ; function: ML_bmp_16_xor_cl
                                                           ; frame size=48
    000029F8 2FE6                   MOV.L       R14,@-R15
      Monochrome  1260    {
      Monochrome  1261            unsigned long line;
      Monochrome  1262            char i, shift, begin=0, end=16, bool1=1, bool2=1, bool3=1, *screen, *p=(char*)&line+1;
    000029FA E010                   MOV         #16,R0
    000029FC 2FD6                   MOV.L       R13,@-R15
    000029FE 6E53                   MOV         R5,R14
    00002A00 2FC6                   MOV.L       R12,@-R15
    00002A02 6D63                   MOV         R6,R13
    00002A04 2FB6                   MOV.L       R11,@-R15
    00002A06 E501                   MOV         #1,R5
    00002A08 2FA6                   MOV.L       R10,@-R15
    00002A0A 2F96                   MOV.L       R9,@-R15
    00002A0C 2F86                   MOV.L       R8,@-R15
    00002A0E 6953                   MOV         R5,R9
    00002A10 4F22                   STS.L       PR,@-R15
    00002A12 6B93                   MOV         R9,R11
    00002A14 7FF0                   ADD         #-16,R15
    00002A16 6CF3                   MOV         R15,R12
    00002A18 1F41                   MOV.L       R4,@(4,R15)
    00002A1A E400                   MOV         #0,R4
    00002A1C 80FC                   MOV.B       R0,@(12,R15)
    00002A1E 6A43                   MOV         R4,R10
    00002A20 6053                   MOV         R5,R0
    00002A22 80F8                   MOV.B       R0,@(8,R15)
      Monochrome  1263            if(!bmp || x<-15 || x>127 || y<-15 || y>63) return;
    00002A24 53F1                   MOV.L       @(4,R15),R3
    00002A26 2338                   TST         R3,R3
    00002A28 8D65                   BT/S        L1251
    00002A2A 7C01                   ADD         #1,R12
    00002A2C E3F1                   MOV         #-15,R3
    00002A2E 3E33                   CMP/GE      R3,R14
    00002A30 8B61                   BF          L1251
    00002A32 E17F                   MOV         #127,R1
    00002A34 3E17                   CMP/GT      R1,R14
    00002A36 895E                   BT          L1251
    00002A38 3D33                   CMP/GE      R3,R13
    00002A3A 8B5C                   BF          L1251
    00002A3C E23F                   MOV         #63,R2
    00002A3E 3D27                   CMP/GT      R2,R13
    00002A40 8959                   BT          L1251
      Monochrome  1264            if(y < 0) begin = -y;
    00002A42 4D11                   CMP/PZ      R13
    00002A44 8D01                   BT/S        L1252
      Monochrome  1265            if(y > 48) end = 64-y;
    00002A46 E230                   MOV         #48,R2
    00002A48 6ADB                   NEG         R13,R10
    00002A4A              L1252:                            
    00002A4A 3D27                   CMP/GT      R2,R13
    00002A4C 8B02                   BF          L1253
    00002A4E E040                   MOV         #64,R0
    00002A50 30D8                   SUB         R13,R0




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE  126


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00002A52 80FC                   MOV.B       R0,@(12,R15)
    00002A54              L1253:                            
      Monochrome  1266            shift = 8-(x&7);
    00002A54 E307                   MOV         #7,R3
    00002A56 23E9                   AND         R14,R3
    00002A58 E808                   MOV         #8,R8
      Monochrome  1267            if(x < 0) bool1 = 0;
    00002A5A 4E11                   CMP/PZ      R14
    00002A5C 8D01                   BT/S        L1254
    00002A5E 3838                   SUB         R3,R8
    00002A60 6943                   MOV         R4,R9
    00002A62              L1254:                            
      Monochrome  1268            if(x<-8 || x>119) bool2 = 0;
    00002A62 E3F8                   MOV         #-8,R3
    00002A64 3E33                   CMP/GE      R3,R14
    00002A66 8B02                   BF          L1256
    00002A68 E177                   MOV         #119,R1
    00002A6A 3E17                   CMP/GT      R1,R14
    00002A6C 8B01                   BF          L1255
    00002A6E              L1256:                            
    00002A6E 6043                   MOV         R4,R0
    00002A70 80F8                   MOV.B       R0,@(8,R15)
    00002A72              L1255:                            
      Monochrome  1269            if(x>111 || shift==8) bool3 = 0;
    00002A72 E36F                   MOV         #111,R3
    00002A74 3E37                   CMP/GT      R3,R14
    00002A76 8902                   BT          L1258
    00002A78 608E                   EXTS.B      R8,R0
    00002A7A 8808                   CMP/EQ      #8,R0
    00002A7C 8B00                   BF          L1257
    00002A7E              L1258:                            
    00002A7E 6B43                   MOV         R4,R11
    00002A80              L1257:                            
      Monochrome  1270            screen = ML_vram_adress()+(y+begin<<4)+(x>>3);
    00002A80 D322                   MOV.L       L1339+2,R3 ; _sc0135
    00002A82 430B                   JSR         @R3
    00002A84 0009                   NOP
    00002A86 62AE                   EXTS.B      R10,R2
    00002A88 53F1                   MOV.L       @(4,R15),R3
    00002A8A 4E21                   SHAR        R14
    00002A8C 32DC                   ADD         R13,R2
    00002A8E 4208                   SHLL2       R2
    00002A90 4208                   SHLL2       R2
    00002A92 302C                   ADD         R2,R0
    00002A94 4E21                   SHAR        R14
    00002A96 4E21                   SHAR        R14
    00002A98 6403                   MOV         R0,R4
    00002A9A 34EC                   ADD         R14,R4
    00002A9C 84FC                   MOV.B       @(12,R15),R0
      Monochrome  1271            for(i=begin ; i<end ; i++)
    00002A9E 65A3                   MOV         R10,R5
    00002AA0 665E                   EXTS.B      R5,R6
    00002AA2 4600                   SHLL        R6
    00002AA4 363C                   ADD         R3,R6
    00002AA6 6EC3                   MOV         R12,R14
    00002AA8 7E01                   ADD         #1,R14
    00002AAA 6DC3                   MOV         R12,R13




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE  127


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00002AAC 6703                   MOV         R0,R7
    00002AAE 625E                   EXTS.B      R5,R2
    00002AB0 3273                   CMP/GE      R7,R2
    00002AB2 8D20                   BT/S        L1251
    00002AB4 7D02                   ADD         #2,R13
    00002AB6              L1260:                            
      Monochrome  1272            {
      Monochrome  1273                    line = bmp[i]<<shift;
    00002AB6 628E                   EXTS.B      R8,R2
    00002AB8 6361                   MOV.W       @R6,R3
    00002ABA 633D                   EXTU.W      R3,R3
    00002ABC 432D                   SHLD        R2,R3
      Monochrome  1274                    if(bool1) screen[0] ^= *p;
    00002ABE 629E                   EXTS.B      R9,R2
    00002AC0 2228                   TST         R2,R2
    00002AC2 8D04                   BT/S        L1261
    00002AC4 2F32                   MOV.L       R3,@R15
    00002AC6 62C0                   MOV.B       @R12,R2
    00002AC8 6140                   MOV.B       @R4,R1
    00002ACA 212A                   XOR         R2,R1
    00002ACC 2410                   MOV.B       R1,@R4
    00002ACE              L1261:                            
      Monochrome  1275                    if(bool2) screen[1] ^= *(p+1);
    00002ACE 84F8                   MOV.B       @(8,R15),R0
    00002AD0 2008                   TST         R0,R0
    00002AD2 8D04                   BT/S        L1262
      Monochrome  1276                    if(bool3) screen[2] ^= *(p+2);
    00002AD4 62BE                   EXTS.B      R11,R2
    00002AD6 63E0                   MOV.B       @R14,R3
    00002AD8 8441                   MOV.B       @(1,R4),R0
    00002ADA 203A                   XOR         R3,R0
    00002ADC 8041                   MOV.B       R0,@(1,R4)
    00002ADE              L1262:                            
    00002ADE 2228                   TST         R2,R2
    00002AE0 8903                   BT          L1263
    00002AE2 63D0                   MOV.B       @R13,R3
    00002AE4 8442                   MOV.B       @(2,R4),R0
    00002AE6 203A                   XOR         R3,R0
    00002AE8 8042                   MOV.B       R0,@(2,R4)
    00002AEA              L1263:                            
      Monochrome  1277                    screen += 16;
    00002AEA 7410                   ADD         #16,R4
    00002AEC 7501                   ADD         #1,R5
    00002AEE 635E                   EXTS.B      R5,R3
    00002AF0 3373                   CMP/GE      R7,R3
    00002AF2 8FE0                   BF/S        L1260
    00002AF4 7602                   ADD         #2,R6
    00002AF6              L1251:                            
      Monochrome  1278            }
      Monochrome  1279    }
    00002AF6 7F10                   ADD         #16,R15
    00002AF8 4F26                   LDS.L       @R15+,PR
    00002AFA 68F6                   MOV.L       @R15+,R8
    00002AFC 69F6                   MOV.L       @R15+,R9
    00002AFE 6AF6                   MOV.L       @R15+,R10
    00002B00 6BF6                   MOV.L       @R15+,R11
    00002B02 6CF6                   MOV.L       @R15+,R12




SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE  128


SCT OFFSET   CODE       C LABEL     INSTRUCTION OPERAND    COMMENT

    00002B04 6DF6                   MOV.L       @R15+,R13
    00002B06 000B                   RTS
    00002B08 6EF6                   MOV.L       @R15+,R14
    00002B0A              L1339:                            
    00002B0A 0000                   .DATA.W     0
    00002B0C <00000000>             .DATA.L     _sc0135
      Monochrome  1280    #endif
      Monochrome  1281    
      Monochrome  1282    #ifdef ML_BACKGROUND
      Monochrome  1283    void ML_background(const unsigned char* back)
      Monochrome  1284    {
      Monochrome  1285        int i;
      Monochrome  1286        char *vram = ML_vram_adress();
      Monochrome  1287        
      Monochrome  1288        for(i = 0; i < 1024; i++)
      Monochrome  1289        {
      Monochrome  1290            vram[i] = back[i];
      Monochrome  1291        }
      Monochrome  1292    }
      Monochrome  1293    #endif
C   00000000              _sc0135:                         ; static: sc0135
    00000000 D201D00242             .DATA.L     H'D201D002,H'422B0009,H'80010070,H'00000135
             2B00098001   
             0070000001   
             35           




































SH SERIES C/C++ Compiler (Ver. 6.0C)                                                                 19-May-2024 20:31:48  PAGE    1


******** STATISTICS INFORMATION ********


********** ERROR INFORMATION ***********

NUMBER OF ERRORS:           0
NUMBER OF WARNINGS:         0




******* SOURCE LINE INFORMATION ********

COMPILED SOURCE LINE:     1281



******* SECTION SIZE INFORMATION *******

PROGRAM  SECTION (P):                               00002B10 Byte(s)
CONSTANT SECTION (C):                               00000010 Byte(s)
DATA     SECTION (D):                               00000000 Byte(s)
BSS      SECTION (B):                               00000000 Byte(s)

 TOTAL PROGRAM SIZE: 00002B20 Byte(s)



********** LABEL INFORMATION ***********

NUMBER OF EXTERNAL REFERENCE SYMBOLS:           15
NUMBER OF EXTERNAL DEFINITION SYMBOLS:          41
NUMBER OF INTERNAL/EXTERNAL SYMBOLS:           467






























*** COMMAND PARAMETER ***


  -subcommand=C:\Users\JWH\AppData\Local\Temp\hmk7A96.tmp 

